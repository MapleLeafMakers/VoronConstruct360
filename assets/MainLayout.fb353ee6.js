import{c as R,i as j,e as w,l as q,p as P,a as l,h as r,d as E,g as H,f as K,r as d,j as O,k as z,m as p,w as I,o as N,n as U,_ as V,q as A,s as D,t as G,u as J,v as C,x as L}from"./index.f2246fd7.js";import{Q as X,a as _}from"./QResizeObserver.e4f684b3.js";var Y=R({name:"QPageContainer",setup(t,{slots:h}){const{proxy:{$q:s}}=H(),n=j(q,w);if(n===w)return console.error("QPageContainer needs to be child of QLayout"),w;P(K,!0);const u=l(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${s.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${s.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>r("div",{class:"q-page-container",style:u.value},E(h.default))}}),Z=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:h,emit:s}){const{proxy:{$q:n}}=H(),u=d(null),i=d(n.screen.height),f=d(t.container===!0?0:n.screen.width),S=d({position:0,direction:"down",inflectionPoint:0}),g=d(0),a=d(O.value===!0?0:z()),Q=l(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),T=l(()=>t.container===!1?{minHeight:n.screen.height+"px"}:null),F=l(()=>a.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),W=l(()=>a.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function B(e){if(t.container===!0||document.qScrollPrevented!==!0){const o={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};S.value=o,t.onScroll!==void 0&&s("scroll",o)}}function k(e){const{height:o,width:c}=e;let v=!1;i.value!==o&&(v=!0,i.value=o,t.onScrollHeight!==void 0&&s("scrollHeight",o),$()),f.value!==c&&(v=!0,f.value=c),v===!0&&t.onResize!==void 0&&s("resize",e)}function M({height:e}){g.value!==e&&(g.value=e,$())}function $(){if(t.container===!0){const e=i.value>g.value?z():0;a.value!==e&&(a.value=e)}}let m=null;const b={instances:{},view:l(()=>t.view),isContainer:l(()=>t.container),rootRef:u,height:i,containerHeight:g,scrollbarWidth:a,totalWidth:l(()=>f.value+a.value),rows:l(()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:p({size:0,offset:0,space:!1}),right:p({size:300,offset:0,space:!1}),footer:p({size:0,offset:0,space:!1}),left:p({size:300,offset:0,space:!1}),scroll:S,animate(){m!==null?clearTimeout(m):document.body.classList.add("q-body--layout-animate"),m=setTimeout(()=>{m=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,o,c){b[e][o]=c}};if(P(q,b),z()>0){let c=function(){e=null,o.classList.remove("hide-scrollbar")},v=function(){if(e===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(c,300)},y=function(x){e!==null&&x==="remove"&&(clearTimeout(e),c()),window[`${x}EventListener`]("resize",v)},e=null;const o=document.body;I(()=>t.container!==!0?"add":"remove",y),t.container!==!0&&y("add"),N(()=>{y("remove")})}return()=>{const e=U(h.default,[r(X,{onScroll:B}),r(_,{onResize:k})]),o=r("div",{class:Q.value,style:T.value,ref:t.container===!0?void 0:u,tabindex:-1},e);return t.container===!0?r("div",{class:"q-layout-container overflow-hidden",ref:u},[r(_,{onResize:M}),r("div",{class:"absolute-full",style:F.value},[r("div",{class:"scroll",style:W.value},[o])])]):o}}});const ee=A({name:"MainLayout"});function te(t,h,s,n,u,i){const f=D("router-view");return G(),J(Z,{view:"lHh Lpr lFf"},{default:C(()=>[L(Y,null,{default:C(()=>[L(f)]),_:1})]),_:1})}var ie=V(ee,[["render",te]]);export{ie as default};
