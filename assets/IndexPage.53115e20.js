import{c as qe,a as N,h as J,n as $t,d as Ue,I as Xe,J as mr,K as Je,L as pr,r as ie,g as Pe,M as Lt,N as $e,O as gr,P as br,Q as Ct,F as gt,R as De,w as Se,y as ot,z as Ve,S as Ge,C as Vt,T as ln,U as He,k as yr,V as En,W as An,X as qn,Y as mt,Z as zt,_ as Bn,$ as Pn,a0 as In,a1 as _r,a2 as at,a3 as kr,a4 as un,B as On,a5 as wr,a6 as Ft,a7 as xr,a8 as Sr,a9 as Cr,i as Tt,e as Qe,l as zr,f as Tr,aa as en,ab as Er,ac as Ar,ad as qr,q as tt,ae as Rn,af as tn,ag as $n,ah as Be,ai as Ce,aj as Ln,ak as Ae,al as Br,am as Fn,an as Pr,ao as Ir,H as nn,p as Or,ap as Dn,aq as Nn,A as Mn,ar as Un,as as lt,at as Rr,au as $r,av as jn,aw as Lr,ax as Fr,ay as ye,az as Dr,aA as Nr,aB as Mr,aC as Ur,t as pe,aD as we,x as ce,v as me,aE as Re,aF as Fe,aG as de,aH as ut,aI as Te,u as Ee,aJ as Ye,aK as nt,aL as Mt,aM as jr,aN as Ut,aO as Kr,aP as Hr,aQ as Wr,aR as bt,aS as yt,aT as ct,aU as Dt,aV as _t,aW as rt,m as rn,aX as Kn,aY as Et,aZ as Vr,a_ as Zr,a$ as Qr,b0 as cn,b1 as Yr,b2 as jt,b3 as dn,b4 as Hn,b5 as Wn,b6 as Vn,b7 as Gr,b8 as Xr}from"./index.9f96c89b.js";import{a as Zt,u as et,g as Jr,d as Qt,b as ei,c as ti,e as Zn,Q as ni,f as xt,h as St,i as ri,s as ii}from"./core.3de6bae3.js";import"./axios.7331a07d.js";const ai=["top","middle","bottom"];var Yt=qe({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ai.includes(e)}},setup(e,{slots:m}){const a=N(()=>e.align!==void 0?{verticalAlign:e.align}:null),f=N(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>J("div",{class:f.value,style:a.value,role:"status","aria-label":e.label},$t(m.default,e.label!==void 0?[e.label]:[]))}}),Ke=qe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:m}){const a=N(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>J("div",{class:a.value},Ue(m.default))}}),st=qe({name:"QItem",props:{...Xe,...mr,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:m,emit:a}){const{proxy:{$q:f}}=Pe(),t=Je(e,f),{hasLink:i,linkAttrs:n,linkClass:r,linkTag:l,navigateOnClick:v}=pr(),h=ie(null),y=ie(null),p=N(()=>e.clickable===!0||i.value===!0||e.tag==="label"),s=N(()=>e.disable!==!0&&p.value===!0),g=N(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(t.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(s.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),c=N(()=>{if(e.insetLevel===void 0)return null;const w=f.lang.rtl===!0?"Right":"Left";return{["padding"+w]:16+e.insetLevel*56+"px"}});function b(w){s.value===!0&&(y.value!==null&&(w.qKeyEvent!==!0&&document.activeElement===h.value?y.value.focus():document.activeElement===y.value&&h.value.focus()),v(w))}function d(w){if(s.value===!0&&Lt(w,13)===!0){$e(w),w.qKeyEvent=!0;const E=new MouseEvent("click",w);E.qKeyEvent=!0,h.value.dispatchEvent(E)}a("keyup",w)}function x(){const w=gr(m.default,[]);return s.value===!0&&w.unshift(J("div",{class:"q-focus-helper",tabindex:-1,ref:y})),w}return()=>{const w={ref:h,class:g.value,style:c.value,role:"listitem",onClick:b,onKeyup:d};return s.value===!0?(w.tabindex=e.tabindex||"0",Object.assign(w,n.value)):p.value===!0&&(w["aria-disabled"]="true"),J(l.value,w,x())}}}),oi=qe({name:"QList",props:{...Xe,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:m}){const a=Pe(),f=Je(e,a.proxy.$q),t=N(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(f.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>J(e.tag,{class:t.value},Ue(m.default))}});function pt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),br.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Qn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Yn({showing:e,avoidEmit:m,configureAnchorEl:a}){const{props:f,proxy:t,emit:i}=Pe(),n=ie(null);let r=null;function l(s){return n.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const v={};a===void 0&&(Object.assign(v,{hide(s){t.hide(s)},toggle(s){t.toggle(s),s.qAnchorHandled=!0},toggleKey(s){Lt(s,13)===!0&&v.toggle(s)},contextClick(s){t.hide(s),Ct(s),gt(()=>{t.show(s),s.qAnchorHandled=!0})},prevent:Ct,mobileTouch(s){if(v.mobileCleanup(s),l(s)!==!0)return;t.hide(s),n.value.classList.add("non-selectable");const g=s.target;De(v,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,t.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){n.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&s!==void 0&&pt()}}),a=function(s=f.contextMenu){if(f.noParentEvent===!0||n.value===null)return;let g;s===!0?t.$q.platform.is.mobile===!0?g=[[n.value,"touchstart","mobileTouch","passive"]]:g=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:g=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],De(v,"anchor",g)});function h(){Ge(v,"anchor")}function y(s){for(n.value=s;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;a()}function p(){if(f.target===!1||f.target===""||t.$el.parentNode===null)n.value=null;else if(f.target===!0)y(t.$el.parentNode);else{let s=f.target;if(typeof f.target=="string")try{s=document.querySelector(f.target)}catch{s=void 0}s!=null?(n.value=s.$el||s,a()):(n.value=null,console.error(`Anchor: target "${f.target}" not found`))}}return Se(()=>f.contextMenu,s=>{n.value!==null&&(h(),a(s))}),Se(()=>f.target,()=>{n.value!==null&&h(),p()}),Se(()=>f.noParentEvent,s=>{n.value!==null&&(s===!0?h():a())}),ot(()=>{p(),m!==!0&&f.modelValue===!0&&n.value===null&&i("update:modelValue",!1)}),Ve(()=>{r!==null&&clearTimeout(r),h()}),{anchorEl:n,canShow:l,anchorEvents:v}}function Gn(e,m){const a=ie(null);let f;function t(r,l){const v=`${l!==void 0?"add":"remove"}EventListener`,h=l!==void 0?l:f;r!==window&&r[v]("scroll",h,Vt.passive),window[v]("scroll",h,Vt.passive),f=l}function i(){a.value!==null&&(t(a.value),a.value=null)}const n=Se(()=>e.noParentEvent,()=>{a.value!==null&&(i(),m())});return Ve(n),{localScrollTarget:a,unconfigureScrollTarget:i,changeScrollEvent:t}}const{notPassiveCapture:At}=Vt,it=[];function qt(e){const m=e.target;if(m===void 0||m.nodeType===8||m.classList.contains("no-pointer-events")===!0)return;let a=ln.length-1;for(;a>=0;){const f=ln[a].$;if(f.type.name==="QTooltip"){a--;continue}if(f.type.name!=="QDialog")break;if(f.props.seamless!==!0)return;a--}for(let f=it.length-1;f>=0;f--){const t=it[f];if((t.anchorEl.value===null||t.anchorEl.value.contains(m)===!1)&&(m===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(m)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function Xn(e){it.push(e),it.length===1&&(document.addEventListener("mousedown",qt,At),document.addEventListener("touchstart",qt,At))}function Bt(e){const m=it.findIndex(a=>a===e);m>-1&&(it.splice(m,1),it.length===0&&(document.removeEventListener("mousedown",qt,At),document.removeEventListener("touchstart",qt,At)))}let fn,hn;function Pt(e){const m=e.split(" ");return m.length!==2?!1:["top","center","bottom"].includes(m[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(m[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Jn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Gt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Gt[`${e}#ltr`]=e,Gt[`${e}#rtl`]=e});function It(e,m){const a=e.split(" ");return{vertical:a[0],horizontal:Gt[`${a[1]}#${m===!0?"rtl":"ltr"}`]}}function si(e,m){let{top:a,left:f,right:t,bottom:i,width:n,height:r}=e.getBoundingClientRect();return m!==void 0&&(a-=m[1],f-=m[0],i+=m[1],t+=m[0],n+=m[0],r+=m[1]),{top:a,bottom:i,height:r,left:f,right:t,width:n,middle:f+(t-f)/2,center:a+(i-a)/2}}function li(e,m,a){let{top:f,left:t}=e.getBoundingClientRect();return f+=m.top,t+=m.left,a!==void 0&&(f+=a[1],t+=a[0]),{top:f,bottom:f+1,height:1,left:t,right:t+1,width:1,middle:t,center:f}}function ui(e,m){return{top:0,center:m/2,bottom:m,left:0,middle:e/2,right:e}}function vn(e,m,a,f){return{top:e[a.vertical]-m[f.vertical],left:e[a.horizontal]-m[f.horizontal]}}function an(e,m=0){if(e.targetEl===null||e.anchorEl===null||m>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{an(e,m+1)},10);return}const{targetEl:a,offset:f,anchorEl:t,anchorOrigin:i,selfOrigin:n,absoluteOffset:r,fit:l,cover:v,maxHeight:h,maxWidth:y}=e;if(He.is.ios===!0&&window.visualViewport!==void 0){const q=document.body.style,{offsetLeft:A,offsetTop:D}=window.visualViewport;A!==fn&&(q.setProperty("--q-pe-left",A+"px"),fn=A),D!==hn&&(q.setProperty("--q-pe-top",D+"px"),hn=D)}const{scrollLeft:p,scrollTop:s}=a,g=r===void 0?si(t,v===!0?[0,0]:f):li(t,r,f);Object.assign(a.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:c,offsetHeight:b}=a,{elWidth:d,elHeight:x}=l===!0||v===!0?{elWidth:Math.max(g.width,c),elHeight:v===!0?Math.max(g.height,b):b}:{elWidth:c,elHeight:b};let w={maxWidth:y,maxHeight:h};(l===!0||v===!0)&&(w.minWidth=g.width+"px",v===!0&&(w.minHeight=g.height+"px")),Object.assign(a.style,w);const E=ui(d,x);let S=vn(g,E,i,n);if(r===void 0||f===void 0)Kt(S,g,E,i,n);else{const{top:q,left:A}=S;Kt(S,g,E,i,n);let D=!1;if(S.top!==q){D=!0;const B=2*f[1];g.center=g.top-=B,g.bottom-=B+2}if(S.left!==A){D=!0;const B=2*f[0];g.middle=g.left-=B,g.right-=B+2}D===!0&&(S=vn(g,E,i,n),Kt(S,g,E,i,n))}w={top:S.top+"px",left:S.left+"px"},S.maxHeight!==void 0&&(w.maxHeight=S.maxHeight+"px",g.height>S.maxHeight&&(w.minHeight=w.maxHeight)),S.maxWidth!==void 0&&(w.maxWidth=S.maxWidth+"px",g.width>S.maxWidth&&(w.minWidth=w.maxWidth)),Object.assign(a.style,w),a.scrollTop!==s&&(a.scrollTop=s),a.scrollLeft!==p&&(a.scrollLeft=p)}function Kt(e,m,a,f,t){const i=a.bottom,n=a.right,r=yr(),l=window.innerHeight-r,v=document.body.clientWidth;if(e.top<0||e.top+i>l)if(t.vertical==="center")e.top=m[f.vertical]>l/2?Math.max(0,l-i):0,e.maxHeight=Math.min(i,l);else if(m[f.vertical]>l/2){const h=Math.min(l,f.vertical==="center"?m.center:f.vertical===t.vertical?m.bottom:m.top);e.maxHeight=Math.min(i,h),e.top=Math.max(0,h-i)}else e.top=Math.max(0,f.vertical==="center"?m.center:f.vertical===t.vertical?m.top:m.bottom),e.maxHeight=Math.min(i,l-e.top);if(e.left<0||e.left+n>v)if(e.maxWidth=Math.min(n,v),t.horizontal==="middle")e.left=m[f.horizontal]>v/2?Math.max(0,v-n):0;else if(m[f.horizontal]>v/2){const h=Math.min(v,f.horizontal==="middle"?m.middle:f.horizontal===t.horizontal?m.right:m.left);e.maxWidth=Math.min(n,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,f.horizontal==="middle"?m.middle:f.horizontal===t.horizontal?m.left:m.right),e.maxWidth=Math.min(n,v-e.left)}var ci=qe({name:"QMenu",inheritAttrs:!1,props:{...Qn,...En,...Xe,...An,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Pt},self:{type:String,validator:Pt},offset:{type:Array,validator:Jn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...qn,"click","escapeKey"],setup(e,{slots:m,emit:a,attrs:f}){let t=null,i,n,r;const l=Pe(),{proxy:v}=l,{$q:h}=v,y=ie(null),p=ie(!1),s=N(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=Je(e,h),{registerTick:c,removeTick:b}=mt(),{registerTimeout:d}=zt(),{transitionProps:x,transitionStyle:w}=Bn(e),{localScrollTarget:E,changeScrollEvent:S,unconfigureScrollTarget:q}=Gn(e,Z),{anchorEl:A,canShow:D}=Yn({showing:p}),{hide:B}=Pn({showing:p,canShow:D,handleShow:fe,handleHide:M,hideOnRouteChange:s,processOnMount:!0}),{showPortal:W,hidePortal:ee,renderPortal:z}=In(l,y,$,"menu"),L={anchorEl:A,innerRef:y,onClickOutside(U){if(e.persistent!==!0&&p.value===!0)return B(U),(U.type==="touchstart"||U.target.classList.contains("q-dialog__backdrop"))&&$e(U),!0}},u=N(()=>It(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),K=N(()=>e.cover===!0?u.value:It(e.self||"top start",h.lang.rtl)),G=N(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),H=N(()=>e.autoClose===!0?{onClick:k}:{}),le=N(()=>p.value===!0&&e.persistent!==!0);Se(le,U=>{U===!0?(xr(R),Xn(L)):(un(R),Bt(L))});function ne(){Sr(()=>{let U=y.value;U&&U.contains(document.activeElement)!==!0&&(U=U.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||U.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||U.querySelector("[autofocus], [data-autofocus]")||U,U.focus({preventScroll:!0}))})}function fe(U){if(t=e.noRefocus===!1?document.activeElement:null,_r(O),W(),Z(),i=void 0,U!==void 0&&(e.touchPosition||e.contextMenu)){const oe=at(U);if(oe.left!==void 0){const{top:he,left:se}=A.value.getBoundingClientRect();i={left:oe.left-se,top:oe.top-he}}}n===void 0&&(n=Se(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,V)),e.noFocus!==!0&&document.activeElement.blur(),c(()=>{V(),e.noFocus!==!0&&ne()}),d(()=>{h.platform.is.ios===!0&&(r=e.autoClose,y.value.click()),V(),W(!0),a("show",U)},e.transitionDuration)}function M(U){b(),ee(),T(!0),t!==null&&(U===void 0||U.qClickOutside!==!0)&&(((U&&U.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),d(()=>{ee(!0),a("hide",U)},e.transitionDuration)}function T(U){i=void 0,n!==void 0&&(n(),n=void 0),(U===!0||p.value===!0)&&(kr(O),q(),Bt(L),un(R)),U!==!0&&(t=null)}function Z(){(A.value!==null||e.scrollTarget!==void 0)&&(E.value=On(A.value,e.scrollTarget),S(E.value,V))}function k(U){r!==!0?(wr(v,U),a("click",U)):r=!1}function O(U){le.value===!0&&e.noFocus!==!0&&Cr(y.value,U.target)!==!0&&ne()}function R(U){a("escapeKey"),B(U)}function V(){an({targetEl:y.value,offset:e.offset,anchorEl:A.value,anchorOrigin:u.value,selfOrigin:K.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function $(){return J(Ft,x.value,()=>p.value===!0?J("div",{role:"menu",...f,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+G.value,f.class],style:[f.style,w.value],...H.value},Ue(m.default)):null)}return Ve(T),Object.assign(v,{focus:ne,updatePosition:V}),z}}),di=qe({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:m}){const a=N(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>J("div",{class:a.value,role:"toolbar"},Ue(m.default))}}),fi=qe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:m}){const{proxy:{$q:a}}=Pe(),f=Tt(zr,Qe);if(f===Qe)return console.error("QPage needs to be a deep child of QLayout"),Qe;if(Tt(Tr,Qe)===Qe)return console.error("QPage needs to be child of QPageContainer"),Qe;const i=N(()=>{const r=(f.header.space===!0?f.header.size:0)+(f.footer.space===!0?f.footer.size:0);if(typeof e.styleFn=="function"){const l=f.isContainer.value===!0?f.containerHeight.value:a.screen.height;return e.styleFn(r,l)}return{minHeight:f.isContainer.value===!0?f.containerHeight.value-r+"px":a.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":a.screen.height-r+"px"}}),n=N(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>J("main",{class:n.value,style:i.value},Ue(m.default))}});function mn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const m=parseInt(e,10);return isNaN(m)?0:m}var vt=en({name:"close-popup",beforeMount(e,{value:m}){const a={depth:mn(m),handler(f){a.depth!==0&&setTimeout(()=>{const t=Er(e);t!==void 0&&Ar(t,f,a.depth)})},handlerKey(f){Lt(f,13)===!0&&a.handler(f)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:m,oldValue:a}){m!==a&&(e.__qclosepopup.depth=mn(m))},beforeUnmount(e){const m=e.__qclosepopup;e.removeEventListener("click",m.handler),e.removeEventListener("keyup",m.handlerKey),delete e.__qclosepopup}}),er=qe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:m,emit:a}){let f=!1,t,i,n=null,r=null,l,v;function h(){t&&t(),t=null,f=!1,n!==null&&(clearTimeout(n),n=null),r!==null&&(clearTimeout(r),r=null),i!==void 0&&i.removeEventListener("transitionend",l),l=null}function y(c,b,d){b!==void 0&&(c.style.height=`${b}px`),c.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,t=d}function p(c,b){c.style.overflowY=null,c.style.height=null,c.style.transition=null,h(),b!==v&&a(b)}function s(c,b){let d=0;i=c,f===!0?(h(),d=c.offsetHeight===c.scrollHeight?0:void 0):(v="hide",c.style.overflowY="hidden"),y(c,d,b),n=setTimeout(()=>{n=null,c.style.height=`${c.scrollHeight}px`,l=x=>{r=null,(Object(x)!==x||x.target===c)&&p(c,"show")},c.addEventListener("transitionend",l),r=setTimeout(l,e.duration*1.1)},100)}function g(c,b){let d;i=c,f===!0?h():(v="show",c.style.overflowY="hidden",d=c.scrollHeight),y(c,d,b),n=setTimeout(()=>{n=null,c.style.height=0,l=x=>{r=null,(Object(x)!==x||x.target===c)&&p(c,"hide")},c.addEventListener("transitionend",l),r=setTimeout(l,e.duration*1.1)},100)}return Ve(()=>{f===!0&&h()}),()=>J(Ft,{css:!1,appear:e.appear,onEnter:s,onLeave:g},m.default)}}),hi=qe({name:"QTooltip",inheritAttrs:!1,props:{...Qn,...En,...An,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Pt},self:{type:String,default:"top middle",validator:Pt},offset:{type:Array,default:()=>[14,14],validator:Jn},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...qn],setup(e,{slots:m,emit:a,attrs:f}){let t,i;const n=Pe(),{proxy:{$q:r}}=n,l=ie(null),v=ie(!1),h=N(()=>It(e.anchor,r.lang.rtl)),y=N(()=>It(e.self,r.lang.rtl)),p=N(()=>e.persistent!==!0),{registerTick:s,removeTick:g}=mt(),{registerTimeout:c}=zt(),{transitionProps:b,transitionStyle:d}=Bn(e),{localScrollTarget:x,changeScrollEvent:w,unconfigureScrollTarget:E}=Gn(e,fe),{anchorEl:S,canShow:q,anchorEvents:A}=Yn({showing:v,configureAnchorEl:ne}),{show:D,hide:B}=Pn({showing:v,canShow:q,handleShow:L,handleHide:u,hideOnRouteChange:p,processOnMount:!0});Object.assign(A,{delayShow:H,delayHide:le});const{showPortal:W,hidePortal:ee,renderPortal:z}=In(n,l,T,"tooltip");if(r.platform.is.mobile===!0){const Z={anchorEl:S,innerRef:l,onClickOutside(O){return B(O),O.target.classList.contains("q-dialog__backdrop")&&$e(O),!0}},k=N(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);Se(k,O=>{(O===!0?Xn:Bt)(Z)}),Ve(()=>{Bt(Z)})}function L(Z){W(),s(()=>{i=new MutationObserver(()=>G()),i.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),G(),fe()}),t===void 0&&(t=Se(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,G)),c(()=>{W(!0),a("show",Z)},e.transitionDuration)}function u(Z){g(),ee(),K(),c(()=>{ee(!0),a("hide",Z)},e.transitionDuration)}function K(){i!==void 0&&(i.disconnect(),i=void 0),t!==void 0&&(t(),t=void 0),E(),Ge(A,"tooltipTemp")}function G(){an({targetEl:l.value,offset:e.offset,anchorEl:S.value,anchorOrigin:h.value,selfOrigin:y.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function H(Z){if(r.platform.is.mobile===!0){pt(),document.body.classList.add("non-selectable");const k=S.value,O=["touchmove","touchcancel","touchend","click"].map(R=>[k,R,"delayHide","passiveCapture"]);De(A,"tooltipTemp",O)}c(()=>{D(Z)},e.delay)}function le(Z){r.platform.is.mobile===!0&&(Ge(A,"tooltipTemp"),pt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),c(()=>{B(Z)},e.hideDelay)}function ne(){if(e.noParentEvent===!0||S.value===null)return;const Z=r.platform.is.mobile===!0?[[S.value,"touchstart","delayShow","passive"]]:[[S.value,"mouseenter","delayShow","passive"],[S.value,"mouseleave","delayHide","passive"]];De(A,"anchor",Z)}function fe(){if(S.value!==null||e.scrollTarget!==void 0){x.value=On(S.value,e.scrollTarget);const Z=e.noParentEvent===!0?G:B;w(x.value,Z)}}function M(){return v.value===!0?J("div",{...f,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",f.class],style:[f.style,d.value],role:"tooltip"},Ue(m.default)):null}function T(){return J(Ft,b.value,M)}return Ve(K),Object.assign(n.proxy,{updatePosition:G}),z}});const vi=["none","strict","leaf","leaf-filtered"];function pn(e,m,a,f){return Object.defineProperty(e,m,{get:a,set:f,enumerable:!0}),e}var mi=qr(tt({name:"RepoTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>vi.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String,showThumbnails:Boolean,showManagementUI:Boolean,isFusionBackend:Boolean,fontSize:Number},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide","action:import","action:reload","action:open","action:upload","action:folder-download"],setup(e,{slots:m,emit:a}){const{proxy:f}=Pe(),{$q:t}=f,i=Je(e,t),n=ie({}),r=ie(e.ticked||[]),l=ie(e.expanded||[]);let v={};Rn(()=>{v={}});const h=N(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),y=N(()=>e.selected!==void 0),p=N(()=>e.icon||t.iconSet.tree.icon),s=N(()=>e.controlColor||e.color),g=N(()=>e.textColor!==void 0?` text-${e.textColor}`:""),c=N(()=>{const k=e.selectedColor||e.color;return k?` text-${k}`:""}),b=N(()=>e.filterMethod!==void 0?e.filterMethod:(k,O)=>{const R=O.toLowerCase();return k[e.labelKey]&&k[e.labelKey].toLowerCase().indexOf(R)>-1}),d=N(()=>{const k={},O=(R,V)=>{const $=R.tickStrategy||(V?V.tickStrategy:e.tickStrategy),U=R[e.nodeKey],oe=R[e.childrenKey]&&Array.isArray(R[e.childrenKey])&&R[e.childrenKey].length!==0,he=R.disabled!==!0&&y.value===!0&&R.selectable!==!1,se=R.disabled!==!0&&R.expandable!==!1,_e=$!=="none",o=$==="strict",Q=$==="leaf-filtered",j=$==="leaf"||$==="leaf-filtered";let C=R.disabled!==!0&&R.tickable!==!1;j===!0&&C===!0&&V&&V.tickable!==!0&&(C=!1);let _=R.lazy;_===!0&&n.value[U]!==void 0&&Array.isArray(R[e.childrenKey])===!0&&(_=n.value[U]);const P={key:U,parent:V,isParent:oe,lazy:_,disabled:R.disabled,link:R.disabled!==!0&&(he===!0||se===!0&&(oe===!0||_===!0)),children:[],matchesFilter:e.filter?b.value(R,e.filter):!0,selected:U===e.selected&&he===!0,selectable:he,expanded:oe===!0?l.value.includes(U):!1,expandable:se,noTick:R.noTick===!0||o!==!0&&_&&_!=="loaded",tickable:C,tickStrategy:$,hasTicking:_e,strictTicking:o,leafFilteredTicking:Q,leafTicking:j,ticked:o===!0?r.value.includes(U):oe===!0?!1:r.value.includes(U)};if(k[U]=P,oe===!0&&(P.children=R[e.childrenKey].map(Y=>O(Y,P)),e.filter&&(P.matchesFilter!==!0?P.matchesFilter=P.children.some(Y=>Y.matchesFilter):P.noTick!==!0&&P.disabled!==!0&&P.tickable===!0&&Q===!0&&P.children.every(Y=>Y.matchesFilter!==!0||Y.noTick===!0||Y.tickable!==!0)===!0&&(P.tickable=!1)),P.matchesFilter===!0&&(P.noTick!==!0&&o!==!0&&P.children.every(Y=>Y.noTick)===!0&&(P.noTick=!0),j))){if(P.ticked=!1,P.indeterminate=P.children.some(Y=>Y.indeterminate===!0),P.tickable=P.tickable===!0&&P.children.some(Y=>Y.tickable),P.indeterminate!==!0){const Y=P.children.reduce((F,I)=>I.ticked===!0?F+1:F,0);Y===P.children.length?P.ticked=!0:Y>0&&(P.indeterminate=!0)}P.indeterminate===!0&&(P.indeterminateNextState=P.children.every(Y=>Y.tickable!==!0||Y.ticked!==!0))}return P};return e.nodes.forEach(R=>O(R,null)),k});Se(()=>e.ticked,k=>{r.value=k}),Se(()=>e.expanded,k=>{l.value=k});function x(k){const O=[].reduce,R=(V,$)=>{if(V||!$)return V;if(Array.isArray($)===!0)return O.call(Object($),R,V);if($[e.nodeKey]===k)return $;if($[e.childrenKey])return R(null,$[e.childrenKey])};return R(null,e.nodes)}function w(){return r.value.map(k=>x(k))}function E(){return l.value.map(k=>x(k))}function S(k){return k&&d.value[k]?d.value[k].expanded:!1}function q(){e.expanded!==void 0?a("update:expanded",[]):l.value=[]}function A(){const k=[],O=R=>{R[e.childrenKey]&&R[e.childrenKey].length!==0&&R.expandable!==!1&&R.disabled!==!0&&(k.push(R[e.nodeKey]),R[e.childrenKey].forEach(O))};e.nodes.forEach(O),e.expanded!==void 0?a("update:expanded",k):l.value=k}function D(k,O,R=x(k),V=d.value[k]){if(V.lazy&&V.lazy!=="loaded"){if(V.lazy==="loading")return;n.value[k]="loading",Array.isArray(R[e.childrenKey])!==!0&&(R[e.childrenKey]=[]),a("lazyLoad",{node:R,key:k,done:$=>{n.value[k]="loaded",R[e.childrenKey]=Array.isArray($)===!0?$:[],gt(()=>{const U=d.value[k];U&&U.isParent===!0&&B(k,!0)})},fail:()=>{delete n.value[k],R[e.childrenKey].length===0&&delete R[e.childrenKey]}})}else V.isParent===!0&&V.expandable===!0&&B(k,O)}function B(k,O){let R=l.value;const V=e.expanded!==void 0;if(V===!0&&(R=R.slice()),O){if(e.accordion&&d.value[k]){const $=[];d.value[k].parent?d.value[k].parent.children.forEach(U=>{U.key!==k&&U.expandable===!0&&$.push(U.key)}):e.nodes.forEach(U=>{const oe=U[e.nodeKey];oe!==k&&$.push(oe)}),$.length!==0&&(R=R.filter(U=>$.includes(U)===!1))}R=R.concat([k]).filter(($,U,oe)=>oe.indexOf($)===U)}else R=R.filter($=>$!==k);V===!0?a("update:expanded",R):l.value=R}function W(k){return k&&d.value[k]?d.value[k].ticked:!1}function ee(k,O){let R=r.value;const V=e.ticked!==void 0;V===!0&&(R=R.slice()),O?R=R.concat(k).filter(($,U,oe)=>oe.indexOf($)===U):R=R.filter($=>k.includes($)===!1),V===!0&&a("update:ticked",R)}function z(k,O,R){const V={tree:f,node:k,key:R,color:e.color,dark:i.value};return pn(V,"expanded",()=>O.expanded,$=>{$!==O.expanded&&D(R,$)}),pn(V,"ticked",()=>O.ticked,$=>{$!==O.ticked&&ee([R],$)}),V}function L(k){return(e.filter?k.filter(O=>d.value[O[e.nodeKey]].matchesFilter):k).map(O=>ne(O))}function u(k,O,R,V){return J(Ae,{onClick:$=>{$e($),a(k,{nodeId:O})},tabindex:-1,size:e.fontSize-2+"px",padding:"none",style:{margin:0},flat:!0,stretch:!0},()=>[J(Be,{size:e.fontSize+4+"px",name:V}),J(hi,{anchor:"center left",self:"center right",transitionShow:"jump-left",transitionHide:"jump-right"},()=>R)])}function K(k){const O=[];return k.type==="blob"?e.isFusionBackend?(O.push(u("action:import",k.id,"Import","mdi-import")),O.push(u("action:open",k.id,"Open","mdi-open-in-new"))):O.push(u("action:open",k.id,"Download","mdi-download")):k.type==="repo"||k.type=="org"?(O.push(u("action:edit",k.id,"Edit","mdi-pencil")),O.push(u("action:reload",k.id,"Reload","mdi-reload"))):k.type=="tree"&&!e.isFusionBackend&&O.push(u("action:folder-download",k.id,"Download","mdi-folder-download")),(k.type==="repo"||k.type==="tree")&&e.showManagementUI&&O.push(u("action:upload",k.id,"Upload","mdi-upload")),O}function G(k){const O=k.img||k.avatar;if(O&&e.showThumbnails)return J("img",{class:`q-tree__${k.img?"img":"avatar"} q-mr-sm`,src:O});if(k.icon!==void 0)return J(Be,{class:"q-tree__icon q-mr-sm",name:k.icon,color:k.iconColor,size:k.type==="blob"?e.showThumbnails?"42px":"24px":void 0})}function H(){a("afterShow")}function le(){a("afterHide")}function ne(k){const O=k[e.nodeKey],R=d.value[O],V=k.header&&m[`header-${k.header}`]||m["default-header"],$=R.isParent===!0?L(k[e.childrenKey]):[],U=$.length!==0||R.lazy&&R.lazy!=="loaded";let oe=k.body&&m[`body-${k.body}`]||m["default-body"];const he=V!==void 0||oe!==void 0?z(k,R,O):null;return oe!==void 0&&(oe=J("div",{class:"q-tree__node-body relative-position"},[J("div",{class:g.value},[oe(he)])])),J("div",{key:O,class:`q-tree__node relative-position q-tree__node--${U===!0?"parent":"child"}`},[J("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(R.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(R.selected===!0?" q-tree__node--selected":"")+(R.disabled===!0?" q-tree__node--disabled":""),tabindex:R.link===!0?0:-1,onClick:se=>{M(k,R,se)},onKeypress(se){tn(se)!==!0&&(se.keyCode===13?M(k,R,se,!0):se.keyCode===32&&T(k,R,se,!0))}},[J("div",{class:"q-focus-helper",tabindex:-1,ref:se=>{v[R.key]=se}}),R.lazy==="loading"?J($n,{class:"q-tree__spinner",color:s.value}):U===!0?J(Be,{class:"q-tree__arrow"+(R.expanded===!0?" q-tree__arrow--rotate":""),name:p.value,onClick(se){T(k,R,se)}}):null,R.hasTicking===!0&&R.noTick!==!0?J(QCheckbox,{class:"q-tree__tickbox",modelValue:R.indeterminate===!0?null:R.ticked,color:s.value,dark:i.value,dense:!0,keepColor:!0,disable:R.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":se=>{Z(R,se)}}):null,J("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(R.selected===!0?c.value:g.value)},[V?V(he):[G(k),J("div",k[e.labelKey])],J("div",{style:{flex:1}}),J("div",{class:"q-tree__hovercontrol"},K(k))])]),U===!0?e.noTransition===!0?J("div",{class:"q-tree__node-collapsible"+g.value,key:`${O}__q`},[oe,J("div",{class:"q-tree__children"+(R.disabled===!0?" q-tree__node--disabled":"")},R.expanded?$:null)]):J(er,{duration:e.duration,onShow:H,onHide:le},()=>Ce(J("div",{class:"q-tree__node-collapsible"+g.value,key:`${O}__q`},[oe,J("div",{class:"q-tree__children"+(R.disabled===!0?" q-tree__node--disabled":"")},$)]),[[Ln,R.expanded]])):oe])}function fe(k){const O=v[k];O&&O.focus()}function M(k,O,R,V){V!==!0&&O.selectable!==!1&&fe(O.key),y.value&&O.selectable?e.noSelectionUnset===!1?a("update:selected",O.key!==e.selected?O.key:null):O.key!==e.selected&&a("update:selected",O.key===void 0?null:O.key):T(k,O,R,V),typeof k.handler=="function"&&k.handler(k)}function T(k,O,R,V){R!==void 0&&$e(R),V!==!0&&O.selectable!==!1&&fe(O.key),D(O.key,!O.expanded,k,O)}function Z(k,O){if(k.indeterminate===!0&&(O=k.indeterminateNextState),k.strictTicking)ee([k.key],O);else if(k.leafTicking){const R=[],V=$=>{$.isParent?(O!==!0&&$.noTick!==!0&&$.tickable===!0&&R.push($.key),$.leafTicking===!0&&$.children.forEach(V)):$.noTick!==!0&&$.tickable===!0&&($.leafFilteredTicking!==!0||$.matchesFilter===!0)&&R.push($.key)};V(k),ee(R,O)}}return e.defaultExpandAll===!0&&A(),Object.assign(f,{getNodeByKey:x,getTickedNodes:w,getExpandedNodes:E,isExpanded:S,collapseAll:q,expandAll:A,setExpanded:D,isTicked:W,setTicked:ee}),()=>{const k=L(e.nodes);return J("div",{class:h.value},k.length===0?e.filter?e.noResultsLabel||t.lang.tree.noResults:e.noNodesLabel||t.lang.tree.noNodes:k)}}}));function tr(){return Tt(Br)}let pi=0;const gi=["click","keydown"],bi={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${pi++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function yi(e,m,a,f){const t=Tt(Fn,Qe);if(t===Qe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Qe;const{proxy:i}=Pe(),n=ie(null),r=ie(null),l=ie(null),v=N(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=N(()=>t.currentModel.value===e.name),y=N(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(t.tabProps.value.activeClass?" "+t.tabProps.value.activeClass:"")+(t.tabProps.value.activeColor?` text-${t.tabProps.value.activeColor}`:"")+(t.tabProps.value.activeBgColor?` bg-${t.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&t.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||t.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(f!==void 0?f.linkClass.value:"")),p=N(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(t.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),s=N(()=>e.disable===!0||t.hasFocus.value===!0||h.value===!1&&t.hasActiveTab.value===!0?-1:e.tabindex||0);function g(w,E){if(E!==!0&&n.value!==null&&n.value.focus(),e.disable===!0){f!==void 0&&f.hasRouterLink.value===!0&&$e(w);return}if(f===void 0){t.updateModel({name:e.name}),a("click",w);return}if(f.hasRouterLink.value===!0){const S=(q={})=>{let A;const D=q.to===void 0||Ir(q.to,e.to)===!0?t.avoidRouteWatcher=nn():null;return f.navigateToRouterLink(w,{...q,returnRouterError:!0}).catch(B=>{A=B}).then(B=>{if(D===t.avoidRouteWatcher&&(t.avoidRouteWatcher=!1,A===void 0&&(B===void 0||B.message.startsWith("Avoided redundant navigation")===!0)&&t.updateModel({name:e.name})),q.returnRouterError===!0)return A!==void 0?Promise.reject(A):B})};a("click",w,S),w.defaultPrevented!==!0&&S();return}a("click",w)}function c(w){Lt(w,[13,32])?g(w,!0):tn(w)!==!0&&w.keyCode>=35&&w.keyCode<=40&&w.altKey!==!0&&w.metaKey!==!0&&t.onKbdNavigate(w.keyCode,i.$el)===!0&&$e(w),a("keydown",w)}function b(){const w=t.tabProps.value.narrowIndicator,E=[],S=J("div",{ref:l,class:["q-tab__indicator",t.tabProps.value.indicatorClass]});e.icon!==void 0&&E.push(J(Be,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&E.push(J("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&E.push(e.alertIcon!==void 0?J(Be,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):J("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),w===!0&&E.push(S);const q=[J("div",{class:"q-focus-helper",tabindex:-1,ref:n}),J("div",{class:p.value},$t(m.default,E))];return w===!1&&q.push(S),q}const d={name:N(()=>e.name),rootRef:r,tabIndicatorRef:l,routeData:f};Ve(()=>{t.unregisterTab(d)}),ot(()=>{t.registerTab(d)});function x(w,E){const S={ref:r,class:y.value,tabindex:s.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:g,onKeydown:c,...E};return Ce(J(w,S,b()),[[Pr,v.value]])}return{renderTab:x,$tabs:t}}var _i=qe({name:"QTab",props:bi,emits:gi,setup(e,{slots:m,emit:a}){const{renderTab:f}=yi(e,m,a);return()=>f("div")}});const ki=J("div",{class:"q-space"});var nr=qe({name:"QSpace",setup(){return()=>ki}});let rr=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const m=document.createElement("div");Object.assign(m.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(m),e.scrollLeft=-1e3,rr=e.scrollLeft>=0,e.remove()}function wi(e,m,a){const f=a===!0?["left","right"]:["top","bottom"];return`absolute-${m===!0?f[0]:f[1]}${e?` text-${e}`:""}`}const xi=["left","center","right","justify"];var Si=qe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>xi.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:m,emit:a}){const{proxy:f}=Pe(),{$q:t}=f,{registerTick:i}=mt(),{registerTick:n}=mt(),{registerTick:r}=mt(),{registerTimeout:l,removeTimeout:v}=zt(),{registerTimeout:h,removeTimeout:y}=zt(),p=ie(null),s=ie(null),g=ie(e.modelValue),c=ie(!1),b=ie(!0),d=ie(!1),x=ie(!1),w=[],E=ie(0),S=ie(!1);let q=null,A=null,D;const B=N(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:wi(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),W=N(()=>{const F=E.value,I=g.value;for(let X=0;X<F;X++)if(w[X].name.value===I)return!0;return!1}),ee=N(()=>`q-tabs__content--align-${c.value===!0?"left":x.value===!0?"justify":e.align}`),z=N(()=>`q-tabs row no-wrap items-center q-tabs--${c.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),L=N(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ee.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),u=N(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),K=N(()=>e.vertical!==!0&&t.lang.rtl===!0),G=N(()=>rr===!1&&K.value===!0);Se(K,T),Se(()=>e.modelValue,F=>{H({name:F,setCurrent:!0,skipEmit:!0})}),Se(()=>e.outsideArrows,le);function H({name:F,setCurrent:I,skipEmit:X}){g.value!==F&&(X!==!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",F),(I===!0||e["onUpdate:modelValue"]===void 0)&&(fe(g.value,F),g.value=F))}function le(){i(()=>{ne({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function ne(F){if(u.value===void 0||s.value===null)return;const I=F[u.value.container],X=Math.min(s.value[u.value.scroll],Array.prototype.reduce.call(s.value.children,(re,ue)=>re+(ue[u.value.content]||0),0)),ae=I>0&&X>I;c.value=ae,ae===!0&&n(T),x.value=I<parseInt(e.breakpoint,10)}function fe(F,I){const X=F!=null&&F!==""?w.find(re=>re.name.value===F):null,ae=I!=null&&I!==""?w.find(re=>re.name.value===I):null;if(X&&ae){const re=X.tabIndicatorRef.value,ue=ae.tabIndicatorRef.value;q!==null&&(clearTimeout(q),q=null),re.style.transition="none",re.style.transform="none",ue.style.transition="none",ue.style.transform="none";const ve=re.getBoundingClientRect(),ge=ue.getBoundingClientRect();ue.style.transform=e.vertical===!0?`translate3d(0,${ve.top-ge.top}px,0) scale3d(1,${ge.height?ve.height/ge.height:1},1)`:`translate3d(${ve.left-ge.left}px,0,0) scale3d(${ge.width?ve.width/ge.width:1},1,1)`,r(()=>{q=setTimeout(()=>{q=null,ue.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ue.style.transform="none"},70)})}ae&&c.value===!0&&M(ae.rootRef.value)}function M(F){const{left:I,width:X,top:ae,height:re}=s.value.getBoundingClientRect(),ue=F.getBoundingClientRect();let ve=e.vertical===!0?ue.top-ae:ue.left-I;if(ve<0){s.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ve),T();return}ve+=e.vertical===!0?ue.height-re:ue.width-X,ve>0&&(s.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ve),T())}function T(){const F=s.value;if(F===null)return;const I=F.getBoundingClientRect(),X=e.vertical===!0?F.scrollTop:Math.abs(F.scrollLeft);K.value===!0?(b.value=Math.ceil(X+I.width)<F.scrollWidth-1,d.value=X>0):(b.value=X>0,d.value=e.vertical===!0?Math.ceil(X+I.height)<F.scrollHeight:Math.ceil(X+I.width)<F.scrollWidth)}function Z(F){A!==null&&clearInterval(A),A=setInterval(()=>{U(F)===!0&&R()},5)}function k(){Z(G.value===!0?Number.MAX_SAFE_INTEGER:0)}function O(){Z(G.value===!0?0:Number.MAX_SAFE_INTEGER)}function R(){A!==null&&(clearInterval(A),A=null)}function V(F,I){const X=Array.prototype.filter.call(s.value.children,ge=>ge===I||ge.matches&&ge.matches(".q-tab.q-focusable")===!0),ae=X.length;if(ae===0)return;if(F===36)return M(X[0]),X[0].focus(),!0;if(F===35)return M(X[ae-1]),X[ae-1].focus(),!0;const re=F===(e.vertical===!0?38:37),ue=F===(e.vertical===!0?40:39),ve=re===!0?-1:ue===!0?1:void 0;if(ve!==void 0){const ge=K.value===!0?-1:1,ze=X.indexOf(I)+ve*ge;return ze>=0&&ze<ae&&(M(X[ze]),X[ze].focus({preventScroll:!0})),!0}}const $=N(()=>G.value===!0?{get:F=>Math.abs(F.scrollLeft),set:(F,I)=>{F.scrollLeft=-I}}:e.vertical===!0?{get:F=>F.scrollTop,set:(F,I)=>{F.scrollTop=I}}:{get:F=>F.scrollLeft,set:(F,I)=>{F.scrollLeft=I}});function U(F){const I=s.value,{get:X,set:ae}=$.value;let re=!1,ue=X(I);const ve=F<ue?-1:1;return ue+=ve*5,ue<0?(re=!0,ue=0):(ve===-1&&ue<=F||ve===1&&ue>=F)&&(re=!0,ue=F),ae(I,ue),T(),re}function oe(F,I){for(const X in F)if(F[X]!==I[X])return!1;return!0}function he(){let F=null,I={matchedLen:0,queryDiff:9999,hrefLen:0};const X=w.filter(ve=>ve.routeData!==void 0&&ve.routeData.hasRouterLink.value===!0),{hash:ae,query:re}=f.$route,ue=Object.keys(re).length;for(const ve of X){const ge=ve.routeData.exact.value===!0;if(ve.routeData[ge===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ze,query:je,matched:Le,href:Ze}=ve.routeData.resolvedLink.value,te=Object.keys(je).length;if(ge===!0){if(ze!==ae||te!==ue||oe(re,je)===!1)continue;F=ve.name.value;break}if(ze!==""&&ze!==ae||te!==0&&oe(je,re)===!1)continue;const be={matchedLen:Le.length,queryDiff:ue-te,hrefLen:Ze.length-ze.length};if(be.matchedLen>I.matchedLen){F=ve.name.value,I=be;continue}else if(be.matchedLen!==I.matchedLen)continue;if(be.queryDiff<I.queryDiff)F=ve.name.value,I=be;else if(be.queryDiff!==I.queryDiff)continue;be.hrefLen>I.hrefLen&&(F=ve.name.value,I=be)}F===null&&w.some(ve=>ve.routeData===void 0&&ve.name.value===g.value)===!0||H({name:F,setCurrent:!0})}function se(F){if(v(),S.value!==!0&&p.value!==null&&F.target&&typeof F.target.closest=="function"){const I=F.target.closest(".q-tab");I&&p.value.contains(I)===!0&&(S.value=!0,c.value===!0&&M(I))}}function _e(){l(()=>{S.value=!1},30)}function o(){_.avoidRouteWatcher===!1?h(he):y()}function Q(){if(D===void 0){const F=Se(()=>f.$route.fullPath,o);D=()=>{F(),D=void 0}}}function j(F){w.push(F),E.value++,le(),F.routeData===void 0||f.$route===void 0?h(()=>{if(c.value===!0){const I=g.value,X=I!=null&&I!==""?w.find(ae=>ae.name.value===I):null;X&&M(X.rootRef.value)}}):(Q(),F.routeData.hasRouterLink.value===!0&&o())}function C(F){w.splice(w.indexOf(F),1),E.value--,le(),D!==void 0&&F.routeData!==void 0&&(w.every(I=>I.routeData===void 0)===!0&&D(),o())}const _={currentModel:g,tabProps:B,hasFocus:S,hasActiveTab:W,registerTab:j,unregisterTab:C,verifyRouteModel:o,updateModel:H,onKbdNavigate:V,avoidRouteWatcher:!1};Or(Fn,_);function P(){q!==null&&clearTimeout(q),R(),D!==void 0&&D()}let Y;return Ve(P),Dn(()=>{Y=D!==void 0,P()}),Nn(()=>{Y===!0&&Q(),le()}),()=>J("div",{ref:p,class:z.value,role:"tablist",onFocusin:se,onFocusout:_e},[J(Zt,{onResize:ne}),J("div",{ref:s,class:L.value,onScroll:T},Ue(m.default)),J(Be,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(b.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||t.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:k,onTouchstartPassive:k,onMouseupPassive:R,onMouseleavePassive:R,onTouchendPassive:R}),J(Be,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(d.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||t.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:O,onTouchstartPassive:O,onMouseupPassive:R,onMouseleavePassive:R,onTouchendPassive:R})])}});const on={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ci=Object.keys(on);on.all=!0;function Ot(e){const m={};for(const a of Ci)e[a]===!0&&(m[a]=!0);return Object.keys(m).length===0?on:(m.horizontal===!0?m.left=m.right=!0:m.left===!0&&m.right===!0&&(m.horizontal=!0),m.vertical===!0?m.up=m.down=!0:m.up===!0&&m.down===!0&&(m.vertical=!0),m.horizontal===!0&&m.vertical===!0&&(m.all=!0),m)}const zi=["INPUT","TEXTAREA"];function Rt(e,m){return m.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof m.handler=="function"&&zi.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(m.uid)===-1)}function Ti(e){const m=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,f)=>{const t=parseFloat(a);t&&(m[f]=t)}),m}var Ei=en({name:"touch-swipe",beforeMount(e,{value:m,arg:a,modifiers:f}){if(f.mouse!==!0&&He.has.touch!==!0)return;const t=f.mouseCapture===!0?"Capture":"",i={handler:m,sensitivity:Ti(a),direction:Ot(f),noop:Mn,mouseStart(n){Rt(n,i)&&Un(n)&&(De(i,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(n,!0))},touchStart(n){if(Rt(n,i)){const r=n.target;De(i,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),i.start(n)}},start(n,r){He.is.firefox===!0&&lt(e,!0);const l=at(n);i.event={x:l.left,y:l.top,time:Date.now(),mouse:r===!0,dir:!1}},move(n){if(i.event===void 0)return;if(i.event.dir!==!1){$e(n);return}const r=Date.now()-i.event.time;if(r===0)return;const l=at(n),v=l.left-i.event.x,h=Math.abs(v),y=l.top-i.event.y,p=Math.abs(y);if(i.event.mouse!==!0){if(h<i.sensitivity[1]&&p<i.sensitivity[1]){i.end(n);return}}else if(window.getSelection().toString()!==""){i.end(n);return}else if(h<i.sensitivity[2]&&p<i.sensitivity[2])return;const s=h/r,g=p/r;i.direction.vertical===!0&&h<p&&h<100&&g>i.sensitivity[0]&&(i.event.dir=y<0?"up":"down"),i.direction.horizontal===!0&&h>p&&p<100&&s>i.sensitivity[0]&&(i.event.dir=v<0?"left":"right"),i.direction.up===!0&&h<p&&y<0&&h<100&&g>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&h<p&&y>0&&h<100&&g>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&h>p&&v<0&&p<100&&s>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&h>p&&v>0&&p<100&&s>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?($e(n),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),pt(),i.styleCleanup=c=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};c===!0?setTimeout(b,50):b()}),i.handler({evt:n,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:r,distance:{x:h,y:p}})):i.end(n)},end(n){i.event!==void 0&&(Ge(i,"temp"),He.is.firefox===!0&&lt(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),n!==void 0&&i.event.dir!==!1&&$e(n),i.event=void 0)}};if(e.__qtouchswipe=i,f.mouse===!0){const n=f.mouseCapture===!0||f.mousecapture===!0?"Capture":"";De(i,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}He.has.touch===!0&&De(i,"main",[[e,"touchstart","touchStart",`passive${f.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,m){const a=e.__qtouchswipe;a!==void 0&&(m.oldValue!==m.value&&(typeof m.value!="function"&&a.end(),a.handler=m.value),a.direction=Ot(m.modifiers))},beforeUnmount(e){const m=e.__qtouchswipe;m!==void 0&&(Ge(m,"main"),Ge(m,"temp"),He.is.firefox===!0&&lt(e,!1),m.styleCleanup!==void 0&&m.styleCleanup(),delete e.__qtouchswipe)}});function Ai(){const e=new Map;return{getCache:function(m,a){return e[m]===void 0?e[m]=a:e[m]},getCacheWithFn:function(m,a){return e[m]===void 0?e[m]=a():e[m]}}}const qi={name:{required:!0},disable:Boolean},gn={setup(e,{slots:m}){return()=>J("div",{class:"q-panel scroll",role:"tabpanel"},Ue(m.default))}},Bi={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Pi=["update:modelValue","beforeTransition","transition"];function Ii(){const{props:e,emit:m,proxy:a}=Pe(),{getCacheWithFn:f}=Ai();let t,i;const n=ie(null),r=ie(null);function l(L){const u=e.vertical===!0?"up":"left";A((a.$q.lang.rtl===!0?-1:1)*(L.direction===u?1:-1))}const v=N(()=>[[Ei,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=N(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=N(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=N(()=>`--q-transition-duration: ${e.transitionDuration}ms`),s=N(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),g=N(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),c=N(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Se(()=>e.modelValue,(L,u)=>{const K=w(L)===!0?E(L):-1;i!==!0&&q(K===-1?0:K<E(u)?-1:1),n.value!==K&&(n.value=K,m("beforeTransition",L,u),gt(()=>{m("transition",L,u)}))});function b(){A(1)}function d(){A(-1)}function x(L){m("update:modelValue",L)}function w(L){return L!=null&&L!==""}function E(L){return t.findIndex(u=>u.props.name===L&&u.props.disable!==""&&u.props.disable!==!0)}function S(){return t.filter(L=>L.props.disable!==""&&L.props.disable!==!0)}function q(L){const u=L!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(L===-1?h.value:y.value):null;r.value!==u&&(r.value=u)}function A(L,u=n.value){let K=u+L;for(;K>-1&&K<t.length;){const G=t[K];if(G!==void 0&&G.props.disable!==""&&G.props.disable!==!0){q(L),i=!0,m("update:modelValue",G.props.name),setTimeout(()=>{i=!1});return}K+=L}e.infinite===!0&&t.length!==0&&u!==-1&&u!==t.length&&A(L,L===-1?t.length:-1)}function D(){const L=E(e.modelValue);return n.value!==L&&(n.value=L),!0}function B(){const L=w(e.modelValue)===!0&&D()&&t[n.value];return e.keepAlive===!0?[J($r,g.value,[J(c.value===!0?f(s.value,()=>({...gn,name:s.value})):gn,{key:s.value,style:p.value},()=>L)])]:[J("div",{class:"q-panel scroll",style:p.value,key:s.value,role:"tabpanel"},[L])]}function W(){if(t.length!==0)return e.animated===!0?[J(Ft,{name:r.value},B)]:B()}function ee(L){return t=Rr(Ue(L.default,[])).filter(u=>u.props!==null&&u.props.slot===void 0&&w(u.props.name)===!0),t.length}function z(){return t}return Object.assign(a,{next:b,previous:d,goTo:x}),{panelIndex:n,panelDirectives:v,updatePanelsList:ee,updatePanelIndex:D,getPanelContent:W,getEnabledPanels:S,getPanels:z,isValidPanelName:w,keepAliveProps:g,needsUniqueKeepAliveWrapper:c,goToPanelByOffset:A,goToPanel:x,nextPanel:b,previousPanel:d}}var Oi=qe({name:"QTabPanel",props:qi,setup(e,{slots:m}){return()=>J("div",{class:"q-tab-panel",role:"tabpanel"},Ue(m.default))}}),Ri=qe({name:"QTabPanels",props:{...Bi,...Xe},emits:Pi,setup(e,{slots:m}){const a=Pe(),f=Je(e,a.proxy.$q),{updatePanelsList:t,getPanelContent:i,panelDirectives:n}=Ii(),r=N(()=>"q-tab-panels q-panel-parent"+(f.value===!0?" q-tab-panels--dark q-dark":""));return()=>(t(m),jn("div",{class:r.value},i(),"pan",e.swipeable,()=>n.value))}});function ir(e){return Lr()?(Fr(e),!0):!1}function ar(e){return typeof e=="function"?e():ye(e)}const Nt=typeof window!="undefined",or=()=>{};function $i(...e){if(e.length!==1)return Dr(...e);const m=e[0];return typeof m=="function"?Nr(Mr(()=>({get:m,set:or}))):ie(m)}function Li(e,m=!0){Pe()?ot(e):m?e():gt(e)}function sr(e){var m;const a=ar(e);return(m=a==null?void 0:a.$el)!=null?m:a}const kt=Nt?window:void 0;Nt&&window.document;Nt&&window.navigator;Nt&&window.location;function Oe(...e){let m,a,f,t;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,f,t]=e,m=kt):[m,a,f,t]=e,!m)return or;Array.isArray(a)||(a=[a]),Array.isArray(f)||(f=[f]);const i=[],n=()=>{i.forEach(h=>h()),i.length=0},r=(h,y,p,s)=>(h.addEventListener(y,p,s),()=>h.removeEventListener(y,p,s)),l=Se(()=>[sr(m),ar(t)],([h,y])=>{n(),h&&i.push(...a.flatMap(p=>f.map(s=>r(h,p,s,y))))},{immediate:!0,flush:"post"}),v=()=>{l(),n()};return ir(v),v}function Fi(){const e=ie(!1);return Pe()&&ot(()=>{e.value=!0}),e}function Di(e){const m=Fi();return N(()=>(m.value,Boolean(e())))}function Ni(e,m={}){const{window:a=kt}=m,f=Di(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let t;const i=ie(!1),n=()=>{!t||("removeEventListener"in t?t.removeEventListener("change",r):t.removeListener(r))},r=()=>{!f.value||(n(),t=a.matchMedia($i(e).value),i.value=!!(t!=null&&t.matches),t&&("addEventListener"in t?t.addEventListener("change",r):t.addListener(r)))};return Ur(r),ir(()=>n()),i}const Mi={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function Ui(e={}){const{type:m="page",touch:a=!0,resetOnTouchEnds:f=!1,initialValue:t={x:0,y:0},window:i=kt,target:n=i,eventFilter:r}=e,l=ie(t.x),v=ie(t.y),h=ie(null),y=typeof m=="function"?m:Mi[m],p=d=>{const x=y(d);x&&([l.value,v.value]=x,h.value="mouse")},s=d=>{if(d.touches.length>0){const x=y(d.touches[0]);x&&([l.value,v.value]=x,h.value="touch")}},g=()=>{l.value=t.x,v.value=t.y},c=r?d=>r(()=>p(d),{}):d=>p(d),b=r?d=>r(()=>s(d),{}):d=>s(d);return n&&(Oe(n,"mousemove",c,{passive:!0}),Oe(n,"dragover",c,{passive:!0}),a&&m!=="movement"&&(Oe(n,"touchstart",b,{passive:!0}),Oe(n,"touchmove",b,{passive:!0}),f&&Oe(n,"touchend",g,{passive:!0}))),{x:l,y:v,sourceType:h}}function ji(e={}){const{touch:m=!0,drag:a=!0,initialValue:f=!1,window:t=kt}=e,i=ie(f),n=ie(null);if(!t)return{pressed:i,sourceType:n};const r=h=>()=>{i.value=!0,n.value=h},l=()=>{i.value=!1,n.value=null},v=N(()=>sr(e.target)||t);return Oe(v,"mousedown",r("mouse"),{passive:!0}),Oe(t,"mouseleave",l,{passive:!0}),Oe(t,"mouseup",l,{passive:!0}),a&&(Oe(v,"dragstart",r("mouse"),{passive:!0}),Oe(t,"drop",l,{passive:!0}),Oe(t,"dragend",l,{passive:!0})),m&&(Oe(v,"touchstart",r("touch"),{passive:!0}),Oe(t,"touchend",l,{passive:!0}),Oe(t,"touchcancel",l,{passive:!0})),{pressed:i,sourceType:n}}function Ki(e={}){const{window:m=kt,initialWidth:a=1/0,initialHeight:f=1/0,listenOrientation:t=!0,includeScrollbar:i=!0}=e,n=ie(a),r=ie(f),l=()=>{m&&(i?(n.value=m.innerWidth,r.value=m.innerHeight):(n.value=m.document.documentElement.clientWidth,r.value=m.document.documentElement.clientHeight))};if(l(),Li(l),Oe("resize",l,{passive:!0}),t){const v=Ni("(orientation: portrait)");Se(v,()=>l())}return{width:n,height:r}}const Hi=tt({__name:"PanelResizer",props:{maxSize:{},minSize:{},setSize:{type:Function}},setup(e){const m=e,a=et(),f=ie(),{pressed:t}=ji({target:f}),{y:i}=Ui(),{height:n}=Ki();return Se(()=>t,r=>{a.globalCursor=r?"ns-resize":""}),Se(i,r=>{if(t.value){let l=n.value-r-3;l>m.maxSize&&(l=m.maxSize),l<m.minSize&&(l=m.minSize),m.setSize(l)}}),(r,l)=>(pe(),we("div",{ref_key:"el",ref:f,style:{height:"3px",cursor:"ns-resize",marginTop:"-3px"}}," \xA0 ",512))}});var bn=qe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:m}){const a=N(()=>parseInt(e.lines,10)),f=N(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),t=N(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>J("div",{style:t.value,class:f.value},Ue(m.default))}});const yn=["B","KB","MB","GB","TB","PB"];function Wi(e){let m=0;for(;parseInt(e,10)>=1024&&m<yn.length-1;)e/=1024,++m;return`${e.toFixed(1)}${yn[m]}`}function Vi(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ne(e,m,a){return a<=m?m:Math.min(a,Math.max(m,e))}function Zi(e,m,a){if(a<=m)return m;const f=a-m+1;let t=m+(e-m)%f;return t<m&&(t=f+t),t===0?0:t}function Qi(e,m=2,a="0"){if(e==null)return e;const f=""+e;return f.length>=m?f:new Array(m-f.length+1).join(a)+f}var lr={humanStorageSize:Wi,capitalize:Vi,between:Ne,normalizeToInterval:Zi,pad:Qi};const Yi={class:"row"},Gi=["href"],Xi=tt({__name:"NodePreviewTab",props:{label:{},info:{}},setup(e){const m=e,{humanStorageSize:a}=lr,f=et(),t=ie(null),i=async n=>{t.value=(await Jr({...n,token:f.token})).commit};return Se(()=>m.info,i),ot(()=>{i(m.info)}),(n,r)=>(pe(),we("div",Yi,[ce(st,{dense:"",class:"col-xs-12"},{default:me(()=>[ce(Ke,null,{default:me(()=>[ce(bn,null,{default:me(()=>[Re(Fe(n.info.path)+" ["+Fe(ye(a)(n.info.size))+"]",1)]),_:1}),ce(bn,null,{default:me(()=>[de("a",{href:`https://github.com/${n.info.repo}/tree/${n.info.branch}/${n.info.path}`},[ce(Be,{name:"mdi-github",size:"15px",style:{"vertical-align":"baseline"}}),Re(Fe(n.info.repo),1)],8,Gi)]),_:1})]),_:1})]),_:1})]))}}),Ji={class:"thumbnail"},ea=["src"],ta={style:{display:"flex","flex-direction":"column",flex:"1"}},na=tt({__name:"NodePreview",props:{node:{},showManagementUI:{type:Boolean}},emits:["action:import","action:open","action:edit"],setup(e,{emit:m}){const a=e,f=et(),t=ie(""),i=ie("step"),n=async l=>{var v,h,y,p,s,g,c;(v=l.meta)!=null&&v.thumb?t.value=(h=l==null?void 0:l.meta)==null?void 0:h.thumb:(y=l.content_types)!=null&&y.thumb?Qt({url:(p=l==null?void 0:l.content_types)==null?void 0:p.thumb.url,token:f.token,content_type:"image/png"}).then(b=>t.value=b):(g=(s=l==null?void 0:l.content_types)==null?void 0:s.svg)!=null&&g.url?Qt({url:(c=l==null?void 0:l.content_types)==null?void 0:c.svg.url,token:f.token,content_type:"image/svg+xml"}).then(b=>t.value=b):t.value=""},r=l=>{var v;if(((v=l.content_types)==null?void 0:v[i.value])===void 0){const h=l.content_types;i.value=h!=null&&h.step?"step":h!=null&&h.f3d?"f3d":h!=null&&h.dxf?"dxf":h!=null&&h.svg?"svg":i.value}};return ot(()=>{n(a.node),r(a.node)}),Se(()=>a.node,n),Se(()=>a.node,r),(l,v)=>(pe(),we("div",{class:"previewPane shadow-up-2",style:ut([{"z-index":"2"},{maxHeight:`${ye(f).preferences.previewSize}px`}])},[ce(Hi,{setSize:h=>ye(f).preferences.previewSize=h,minSize:64,maxSize:256},null,8,["setSize"]),de("div",{class:"row",style:ut({display:"flex",flexDirection:"row",flexWrap:"nowrap",height:`${ye(f).preferences.previewSize}px`})},[de("div",Ji,[t.value?(pe(),we("img",{key:0,src:t.value,style:ut({width:`${ye(f).preferences.previewSize}px`,height:`${ye(f).preferences.previewSize}px`,objectFit:"contain"})},null,12,ea)):Te("",!0),t.value?Te("",!0):(pe(),Ee(Be,{key:1,name:l.node.icon,size:`${ye(f).preferences.previewSize}px`},null,8,["name","size"]))]),de("div",ta,[ce(Si,{breakpoint:50,modelValue:i.value,"onUpdate:modelValue":v[4]||(v[4]=h=>i.value=h),dense:"","narrow-indicator":"",align:"left",class:"shadow-2"},{default:me(()=>{var h,y,p,s,g,c,b;return[(pe(!0),we(Ye,null,nt(Object.keys(((h=l.node)==null?void 0:h.content_types)||{}).filter(d=>d!=="meta"&&d!=="thumb"),d=>(pe(),Ee(_i,{name:d,key:d,dense:"",label:`.${d.toUpperCase()}`},null,8,["name","label"]))),128)),ce(nr),ye(f).backend.isFusion360?(pe(),we(Ye,{key:0},[ce(Ae,{icon:"mdi-import",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"Import",class:"q-pr-sm q-mr-sm",onClick:v[0]||(v[0]=d=>{d.stopPropagation(),d.preventDefault(),m("action:import",{nodeId:l.node.id,contentType:i.value})})},null,8,["size"]),((y=l.node.content_types)==null?void 0:y.step)||((p=l.node.content_types)==null?void 0:p.f3d)?(pe(),Ee(Ae,{key:0,icon:"mdi-open-in-new",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"Open",class:"q-pr-sm q-mr-sm",onClick:v[1]||(v[1]=d=>{d.stopPropagation(),d.preventDefault(),m("action:open",{nodeId:l.node.id,contentType:i.value})})},null,8,["size"])):Te("",!0)],64)):(pe(),we(Ye,{key:1},[((s=l.node.content_types)==null?void 0:s.step)||((g=l.node.content_types)==null?void 0:g.f3d)?(pe(),Ee(Ae,{key:0,icon:"mdi-download",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"Download",class:"q-pr-sm q-mr-sm",onClick:v[2]||(v[2]=d=>{d.stopPropagation(),d.preventDefault(),m("action:open",{nodeId:l.node.id,contentType:i.value})})},null,8,["size"])):Te("",!0)],64)),a.showManagementUI&&(((c=l.node.content_types)==null?void 0:c.step)||((b=l.node.content_types)==null?void 0:b.f3d))?(pe(),Ee(Ae,{key:2,icon:"mdi-pencil",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"edit",class:"q-mr-sm",onClick:v[3]||(v[3]=d=>{d.stopPropagation(),d.preventDefault(),m("action:edit",{nodeId:l.node.id})})},null,8,["size"])):Te("",!0)]}),_:1},8,["modelValue"]),ce(Ri,{animated:"",modelValue:i.value,"onUpdate:modelValue":v[5]||(v[5]=h=>i.value=h),style:{flex:"1","overflow-y":"auto",height:"1px"}},{default:me(()=>{var h;return[(pe(!0),we(Ye,null,nt(Object.keys(((h=l.node)==null?void 0:h.content_types)||{}).filter(y=>y!=="meta"&&y!=="thumb"),y=>(pe(),Ee(Oi,{class:"q-pa-xs",key:y,name:y},{default:me(()=>{var p,s;return[ce(Xi,{label:y.toUpperCase(),info:(s=(p=l.node)==null?void 0:p.content_types)==null?void 0:s[y]},null,8,["label","info"])]}),_:2},1032,["name"]))),128))]}),_:1},8,["modelValue"])])],4)],4))}});function Ht(e,m,a){const f=at(e);let t,i=f.left-m.event.x,n=f.top-m.event.y,r=Math.abs(i),l=Math.abs(n);const v=m.direction;v.horizontal===!0&&v.vertical!==!0?t=i<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=n<0?"up":"down":v.up===!0&&n<0?(t="up",r>l&&(v.left===!0&&i<0?t="left":v.right===!0&&i>0&&(t="right"))):v.down===!0&&n>0?(t="down",r>l&&(v.left===!0&&i<0?t="left":v.right===!0&&i>0&&(t="right"))):v.left===!0&&i<0?(t="left",r<l&&(v.up===!0&&n<0?t="up":v.down===!0&&n>0&&(t="down"))):v.right===!0&&i>0&&(t="right",r<l&&(v.up===!0&&n<0?t="up":v.down===!0&&n>0&&(t="down")));let h=!1;if(t===void 0&&a===!1){if(m.event.isFirst===!0||m.event.lastDir===void 0)return{};t=m.event.lastDir,h=!0,t==="left"||t==="right"?(f.left-=i,r=0,i=0):(f.top-=n,l=0,n=0)}return{synthetic:h,payload:{evt:e,touch:m.event.mouse!==!0,mouse:m.event.mouse===!0,position:f,direction:t,isFirst:m.event.isFirst,isFinal:a===!0,duration:Date.now()-m.event.time,distance:{x:r,y:l},offset:{x:i,y:n},delta:{x:f.left-m.event.lastX,y:f.top-m.event.lastY}}}}let ra=0;var Xt=en({name:"touch-pan",beforeMount(e,{value:m,modifiers:a}){if(a.mouse!==!0&&He.has.touch!==!0)return;function f(i,n){a.mouse===!0&&n===!0?$e(i):(a.stop===!0&&Mt(i),a.prevent===!0&&Ct(i))}const t={uid:"qvtp_"+ra++,handler:m,modifiers:a,direction:Ot(a),noop:Mn,mouseStart(i){Rt(i,t)&&Un(i)&&(De(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(i,!0))},touchStart(i){if(Rt(i,t)){const n=i.target;De(t,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","passiveCapture"],[n,"touchend","end","passiveCapture"]]),t.start(i)}},start(i,n){if(He.is.firefox===!0&&lt(e,!0),t.lastEvt=i,n===!0||a.stop===!0){if(t.direction.all!==!0&&(n!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=i.type.indexOf("mouse")>-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&Ct(v),i.cancelBubble===!0&&Mt(v),Object.assign(v,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[t.uid]:i.qClonedBy.concat(t.uid)}),t.initialEvent={target:i.target,event:v}}Mt(i)}const{left:r,top:l}=at(i);t.event={x:r,y:l,time:Date.now(),mouse:n===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:l}},move(i){if(t.event===void 0)return;const n=at(i),r=n.left-t.event.x,l=n.top-t.event.y;if(r===0&&l===0)return;t.lastEvt=i;const v=t.event.mouse===!0,h=()=>{f(i,v);let s;a.preserveCursor!==!0&&a.preservecursor!==!0&&(s=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),pt(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,s!==void 0&&(document.documentElement.style.cursor=s),document.body.classList.remove("non-selectable"),v===!0){const c=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{c(),g()},50):c()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&f(i,t.event.mouse);const{payload:s,synthetic:g}=Ht(i,t,!1);s!==void 0&&(t.handler(s)===!1?t.end(i):(t.styleCleanup===void 0&&t.event.isFirst===!0&&h(),t.event.lastX=s.position.left,t.event.lastY=s.position.top,t.event.lastDir=g===!0?void 0:s.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){h(),t.event.detected=!0,t.move(i);return}const y=Math.abs(r),p=Math.abs(l);y!==p&&(t.direction.horizontal===!0&&y>p||t.direction.vertical===!0&&y<p||t.direction.up===!0&&y<p&&l<0||t.direction.down===!0&&y<p&&l>0||t.direction.left===!0&&y>p&&r<0||t.direction.right===!0&&y>p&&r>0?(t.event.detected=!0,t.move(i)):t.end(i,!0))},end(i,n){if(t.event!==void 0){if(Ge(t,"temp"),He.is.firefox===!0&&lt(e,!1),n===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Ht(i===void 0?t.lastEvt:i,t).payload);const{payload:r}=Ht(i===void 0?t.lastEvt:i,t,!0),l=()=>{t.handler(r)};t.styleCleanup!==void 0?t.styleCleanup(l):l()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,a.mouse===!0){const i=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";De(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}He.has.touch===!0&&De(t,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,m){const a=e.__qtouchpan;a!==void 0&&(m.oldValue!==m.value&&(typeof value!="function"&&a.end(),a.handler=m.value),a.direction=Ot(m.modifiers))},beforeUnmount(e){const m=e.__qtouchpan;m!==void 0&&(m.event!==void 0&&m.end(),Ge(m,"main"),Ge(m,"temp"),He.is.firefox===!0&&lt(e,!1),m.styleCleanup!==void 0&&m.styleCleanup(),delete e.__qtouchpan)}});const _n="q-slider__marker-labels",ia=e=>({value:e}),aa=({marker:e})=>J("div",{key:e.value,style:e.style,class:e.classes},e.label),ur=[34,37,40,33,39,38],oa={...Xe,...Kr,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},sa=["pan","update:modelValue","change"];function la({updateValue:e,updatePosition:m,getDragging:a,formAttrs:f}){const{props:t,emit:i,slots:n,proxy:{$q:r}}=Pe(),l=Je(t,r),v=Hr(f),h=ie(!1),y=ie(!1),p=ie(!1),s=ie(!1),g=N(()=>t.vertical===!0?"--v":"--h"),c=N(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),b=N(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(r.lang.rtl===!0)),d=N(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),x=N(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),w=N(()=>t.disable!==!0&&t.readonly!==!0&&d.value<x.value),E=N(()=>(String(t.step).trim().split(".")[1]||"").length),S=N(()=>t.step===0?1:t.step),q=N(()=>w.value===!0?t.tabindex||0:-1),A=N(()=>t.max-t.min),D=N(()=>x.value-d.value),B=N(()=>he(d.value)),W=N(()=>he(x.value)),ee=N(()=>t.vertical===!0?b.value===!0?"bottom":"top":b.value===!0?"right":"left"),z=N(()=>t.vertical===!0?"height":"width"),L=N(()=>t.vertical===!0?"width":"height"),u=N(()=>t.vertical===!0?"vertical":"horizontal"),K=N(()=>{const te={role:"slider","aria-valuemin":d.value,"aria-valuemax":x.value,"aria-orientation":u.value,"data-step":t.step};return t.disable===!0?te["aria-disabled"]="true":t.readonly===!0&&(te["aria-readonly"]="true"),te}),G=N(()=>`q-slider q-slider${g.value} q-slider--${h.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(w.value===!0?" q-slider--editable":""))+(p.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+g.value:""));function H(te){const be="q-slider__"+te;return`${be} ${be}${g.value} ${be}${g.value}${c.value}`}function le(te){const be="q-slider__"+te;return`${be} ${be}${g.value}`}const ne=N(()=>{const te=t.selectionColor||t.color;return"q-slider__selection absolute"+(te!==void 0?` text-${te}`:"")}),fe=N(()=>le("markers")+" absolute overflow-hidden"),M=N(()=>le("track-container")),T=N(()=>H("pin")),Z=N(()=>H("label")),k=N(()=>H("text-container")),O=N(()=>H("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),R=N(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),V=N(()=>{const te={[L.value]:t.trackSize};return t.trackImg!==void 0&&(te.backgroundImage=`url(${t.trackImg}) !important`),te}),$=N(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),U=N(()=>{const te={[ee.value]:`${100*B.value}%`,[z.value]:`${100*(W.value-B.value)}%`};return t.innerTrackImg!==void 0&&(te.backgroundImage=`url(${t.innerTrackImg}) !important`),te});function oe(te){const{min:be,max:xe,step:ke}=t;let Ie=be+te*(xe-be);if(ke>0){const We=(Ie-be)%ke;Ie+=(Math.abs(We)>=ke/2?(We<0?-1:1)*ke:0)-We}return E.value>0&&(Ie=parseFloat(Ie.toFixed(E.value))),Ne(Ie,d.value,x.value)}function he(te){return A.value===0?0:(te-t.min)/A.value}function se(te,be){const xe=at(te),ke=t.vertical===!0?Ne((xe.top-be.top)/be.height,0,1):Ne((xe.left-be.left)/be.width,0,1);return Ne(b.value===!0?1-ke:ke,B.value,W.value)}const _e=N(()=>jr(t.markers)===!0?t.markers:S.value),o=N(()=>{const te=[],be=_e.value,xe=t.max;let ke=t.min;do te.push(ke),ke+=be;while(ke<xe);return te.push(xe),te}),Q=N(()=>{const te=` ${_n}${g.value}-`;return _n+`${te}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${te}${b.value===!0?"rtl":"ltr"}`}),j=N(()=>t.markerLabels===!1?null:P(t.markerLabels).map((te,be)=>({index:be,value:te.value,label:te.label||te.value,classes:Q.value+(te.classes!==void 0?" "+te.classes:""),style:{...Y(te.value),...te.style||{}}}))),C=N(()=>({markerList:j.value,markerMap:F.value,classes:Q.value,getStyle:Y})),_=N(()=>{if(D.value!==0){const te=100*_e.value/D.value;return{...U.value,backgroundSize:t.vertical===!0?`2px ${te}%`:`${te}% 2px`}}return null});function P(te){if(te===!1)return null;if(te===!0)return o.value.map(ia);if(typeof te=="function")return o.value.map(xe=>{const ke=te(xe);return Ut(ke)===!0?{...ke,value:xe}:{value:xe,label:ke}});const be=({value:xe})=>xe>=t.min&&xe<=t.max;return Array.isArray(te)===!0?te.map(xe=>Ut(xe)===!0?xe:{value:xe}).filter(be):Object.keys(te).map(xe=>{const ke=te[xe],Ie=Number(xe);return Ut(ke)===!0?{...ke,value:Ie}:{value:Ie,label:ke}}).filter(be)}function Y(te){return{[ee.value]:`${100*(te-t.min)/A.value}%`}}const F=N(()=>{if(t.markerLabels===!1)return null;const te={};return j.value.forEach(be=>{te[be.value]=be}),te});function I(){if(n["marker-label-group"]!==void 0)return n["marker-label-group"](C.value);const te=n["marker-label"]||aa;return j.value.map(be=>te({marker:be,...C.value}))}const X=N(()=>[[Xt,ae,void 0,{[u.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ae(te){te.isFinal===!0?(s.value!==void 0&&(m(te.evt),te.touch===!0&&e(!0),s.value=void 0,i("pan","end")),h.value=!1,p.value=!1):te.isFirst===!0?(s.value=a(te.evt),m(te.evt),e(),h.value=!0,i("pan","start")):(m(te.evt),e())}function re(){p.value=!1}function ue(te){m(te,a(te)),e(),y.value=!0,h.value=!0,document.addEventListener("mouseup",ve,!0)}function ve(){y.value=!1,h.value=!1,e(!0),re(),document.removeEventListener("mouseup",ve,!0)}function ge(te){m(te,a(te)),e(!0)}function ze(te){ur.includes(te.keyCode)&&e(!0)}function je(te){if(t.vertical===!0)return null;const be=r.lang.rtl!==t.reverse?1-te:te;return{transform:`translateX(calc(${2*be-1} * ${t.thumbSize} / 2 + ${50-100*be}%))`}}function Le(te){const be=N(()=>y.value===!1&&(p.value===te.focusValue||p.value==="both")?" q-slider--focus":""),xe=N(()=>`q-slider__thumb q-slider__thumb${g.value} q-slider__thumb${g.value}-${b.value===!0?"rtl":"ltr"} absolute non-selectable`+be.value+(te.thumbColor.value!==void 0?` text-${te.thumbColor.value}`:"")),ke=N(()=>({width:t.thumbSize,height:t.thumbSize,[ee.value]:`${100*te.ratio.value}%`,zIndex:p.value===te.focusValue?2:void 0})),Ie=N(()=>te.labelColor.value!==void 0?` text-${te.labelColor.value}`:""),We=N(()=>je(te.ratio.value)),dt=N(()=>"q-slider__text"+(te.labelTextColor.value!==void 0?` text-${te.labelTextColor.value}`:""));return()=>{const ft=[J("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[J("path",{d:t.thumbPath})]),J("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(ft.push(J("div",{class:T.value+" absolute fit no-pointer-events"+Ie.value},[J("div",{class:Z.value,style:{minWidth:t.thumbSize}},[J("div",{class:k.value,style:We.value},[J("span",{class:dt.value},te.label.value)])])])),t.name!==void 0&&t.disable!==!0&&v(ft,"push")),J("div",{class:xe.value,style:ke.value,...te.getNodeData()},ft)}}function Ze(te,be,xe,ke){const Ie=[];t.innerTrackColor!=="transparent"&&Ie.push(J("div",{key:"inner",class:$.value,style:U.value})),t.selectionColor!=="transparent"&&Ie.push(J("div",{key:"selection",class:ne.value,style:te.value})),t.markers!==!1&&Ie.push(J("div",{key:"marker",class:fe.value,style:_.value})),ke(Ie);const We=[jn("div",{key:"trackC",class:M.value,tabindex:be.value,...xe.value},[J("div",{class:R.value,style:V.value},Ie)],"slide",w.value,()=>X.value)];if(t.markerLabels!==!1){const dt=t.switchMarkerLabelsSide===!0?"unshift":"push";We[dt](J("div",{key:"markerL",class:O.value},I()))}return We}return Ve(()=>{document.removeEventListener("mouseup",ve,!0)}),{state:{active:h,focus:p,preventFocus:y,dragging:s,editable:w,classes:G,tabindex:q,attributes:K,step:S,decimals:E,trackLen:A,innerMin:d,innerMinRatio:B,innerMax:x,innerMaxRatio:W,positionProp:ee,sizeProp:z,isReversed:b},methods:{onActivate:ue,onMobileClick:ge,onBlur:re,onKeyup:ze,getContent:Ze,getThumbRenderFn:Le,convertRatioToModel:oe,convertModelToRatio:he,getDraggingRatio:se}}}const ua=()=>({});var ca=qe({name:"QSlider",props:{...oa,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:sa,setup(e,{emit:m}){const{proxy:{$q:a}}=Pe(),{state:f,methods:t}=la({updateValue:g,updatePosition:b,getDragging:c,formAttrs:Wr(e)}),i=ie(null),n=ie(0),r=ie(0);function l(){r.value=e.modelValue===null?f.innerMin.value:Ne(e.modelValue,f.innerMin.value,f.innerMax.value)}Se(()=>`${e.modelValue}|${f.innerMin.value}|${f.innerMax.value}`,l),l();const v=N(()=>t.convertModelToRatio(r.value)),h=N(()=>f.active.value===!0?n.value:v.value),y=N(()=>{const w={[f.positionProp.value]:`${100*f.innerMinRatio.value}%`,[f.sizeProp.value]:`${100*(h.value-f.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(w.backgroundImage=`url(${e.selectionImg}) !important`),w}),p=t.getThumbRenderFn({focusValue:!0,getNodeData:ua,ratio:h,label:N(()=>e.labelValue!==void 0?e.labelValue:r.value),thumbColor:N(()=>e.thumbColor||e.color),labelColor:N(()=>e.labelColor),labelTextColor:N(()=>e.labelTextColor)}),s=N(()=>f.editable.value!==!0?{}:a.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:d,onBlur:t.onBlur,onKeydown:x,onKeyup:t.onKeyup});function g(w){r.value!==e.modelValue&&m("update:modelValue",r.value),w===!0&&m("change",r.value)}function c(){return i.value.getBoundingClientRect()}function b(w,E=f.dragging.value){const S=t.getDraggingRatio(w,E);r.value=t.convertRatioToModel(S),n.value=e.snap!==!0||e.step===0?S:t.convertModelToRatio(r.value)}function d(){f.focus.value=!0}function x(w){if(!ur.includes(w.keyCode))return;$e(w);const E=([34,33].includes(w.keyCode)?10:1)*f.step.value,S=([34,37,40].includes(w.keyCode)?-1:1)*(f.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*E;r.value=Ne(parseFloat((r.value+S).toFixed(f.decimals.value)),f.innerMin.value,f.innerMax.value),g()}return()=>{const w=t.getContent(y,f.tabindex,s,E=>{E.push(p())});return J("div",{ref:i,class:f.classes.value+(e.modelValue===null?" q-slider--no-value":""),...f.attributes.value,"aria-valuenow":e.modelValue},w)}}});const da=()=>!0;function fa(e){const m={};return e.forEach(a=>{m[a]=da}),m}function Me(){const{emit:e,proxy:m}=Pe(),a=ie(null);function f(){a.value.show()}function t(){a.value.hide()}function i(r){e("ok",r),t()}function n(){e("hide")}return Object.assign(m,{show:f,hide:t}),{dialogRef:a,onDialogHide:n,onDialogOK:i,onDialogCancel:t}}const cr=["ok","hide"];Me.emits=cr;Me.emitsObject=fa(cr);const ha={class:"row q-mb-sm"},va=de("label",{for:"token"},"Github API Key: ",-1),ma={class:"row q-mb-sm"},pa=de("label",{for:"fontSize"},"Font Size: ",-1),ga={class:"row q-mb-sm"},ba=de("label",{for:"token"},"Interface URL: ",-1),ya={class:"row q-mb-sm"},_a={style:{"margin-left":"17px"}},ka={class:"row q-mb-sm"},wa={style:{"margin-left":"17px"}},xa={class:"row q-mb-sm"},Sa={style:{"margin-left":"17px"}},Ca={__name:"SettingsDialog",emits:[...Me.emits],setup(e){const m=et(),a=ie(m.token),f={...m.preferences},t=h=>{document.querySelector("body").style.fontSize=`${h}px`},{dialogRef:i,onDialogHide:n,onDialogOK:r,onDialogCancel:l}=Me();function v(){f.interfaceUrl,m.token=a,m.saveToken(),Object.assign(m.preferences,f),m.savePreferences(),r()}return(h,y)=>(pe(),Ee(bt,{ref_key:"dialogRef",ref:i,onHide:ye(n),square:""},{default:me(()=>[ce(_t,{class:"q-dialog-plugin"},{default:me(()=>[ce(yt,null,{default:me(()=>[de("div",ha,[va,Ce(de("input",{id:"token",type:"password","bg-color":"white",style:{flex:1},"onUpdate:modelValue":y[0]||(y[0]=p=>a.value=p)},null,512),[[ct,a.value]])]),de("div",ma,[pa,ce(ca,{color:"blue-8",id:"fontSize",style:{flex:1},modelValue:f.fontSize,"onUpdate:modelValue":[y[1]||(y[1]=p=>f.fontSize=p),t],min:10,max:20,step:1,snap:"",label:""},null,8,["modelValue"])]),de("div",ga,[ba,Ce(de("input",{id:"token","bg-color":"white",style:{flex:1},placeholder:"https://mapleleafmakers.github.io/VoronConstruct360/","onUpdate:modelValue":y[2]||(y[2]=p=>f.interfaceUrl=p)},null,512),[[ct,f.interfaceUrl]])]),de("div",ya,[de("label",_a,[Re(" Show Thumbnails: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=p=>f.showThumbnails=p)},null,512),[[rt,f.showThumbnails]])])]),de("div",ka,[de("label",wa,[Re(" Search Folder Names: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":y[4]||(y[4]=p=>f.searchFolderNames=p)},null,512),[[rt,f.searchFolderNames]])])]),de("div",xa,[de("label",Sa,[Re(" Mgmt. Controls: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":y[5]||(y[5]=p=>f.showManagementUI=p)},null,512),[[rt,f.showManagementUI]])])])]),_:1}),ce(Dt,{align:"right"},{default:me(()=>[ce(Ae,{size:"sm",square:"",color:"negative","text-color":"white",label:"Cancel",onClick:ye(l)},null,8,["onClick"]),ce(Ae,{color:"positive","text-color":"white",label:"OK",size:"sm",square:"",onClick:v})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var za=qe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:m}){const a=N(()=>{const f=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${f.length!==0?" "+f:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>J("div",{class:a.value},Ue(m.default))}});const Ta={class:"row q-mb-sm"},Ea=de("label",null,"Display Name: ",-1),Aa={class:"row q-mb-sm"},qa=de("label",null,"Repositories: ",-1),Ba={style:{display:"flex","flex-direction":"column",flex:"1"}},Pa={class:"row q-mb-xs"},Ia=["disabled","onKeypress"],Oa=["disabled"],Ra={class:"row"},kn={__name:"CollectionEditor",props:{initialValue:{type:Object,required:!1,default:null}},emits:[...Me.emits],setup(e){const m=e,a=tr(),f=et(),t=ie(null),i=ie(""),n=rn(JSON.parse(JSON.stringify(m.initialValue||{})));n.type||(n.type="repo");const r=async()=>{const E=h.value-1,S=h.value;[n.repositories[E],n.repositories[S]]=[n.repositories[S],n.repositories[E]]},l=async()=>{const E=h.value+1,S=h.value;[n.repositories[E],n.repositories[S]]=[n.repositories[S],n.repositories[E]]},v=async()=>{let E;if(i.value.match(/[\w-]+\/\*/)){const S=(await ei({org:i.value.split("/")[0],token:f.token})).map(q=>q.repositories[0]);n.repositories=[...S],n.org=i.value.split("/")[0],n.type="org",i.value=""}else{try{E=await ti({input:i.value,token:f.token})}catch(S){alert(S);return}n.repositories=[...n.repositories||[],E],i.value=""}},h=N(()=>((n==null?void 0:n.repositories)||[]).findIndex(E=>E.repr===t.value)),y=N(()=>h.value!==null&&h.value!==void 0&&h.value>0),p=N(()=>h.value>-1&&h.value<((n==null?void 0:n.repositories)||[]).length-1),s=()=>{const E=n.repositories.findIndex(S=>S.repr===t.value);n.repositories.splice(E,1)},g=()=>{a.dialog({title:"Are you sure?",message:"Are you sure you want to permanently delete this collection?",cancel:!0,persistent:!1,ok:{class:"bordered",square:!0,size:"sm",color:"positive",nocaps:!0},cancel:{class:"bordered",square:!0,size:"sm",push:!0,color:"negative",nocaps:!0}}).onOk(()=>{const E=f.tree.findIndex(S=>S.id==n.id);E!==-1?(f.tree.splice(E,1),f.saveCollections(),x()):console.log("No match found for",n.id)})},{dialogRef:c,onDialogHide:b,onDialogOK:d,onDialogCancel:x}=Me();function w(){d(n)}return(E,S)=>(pe(),Ee(bt,{ref_key:"dialogRef",ref:c,onHide:ye(b),square:""},{default:me(()=>[ce(_t,{class:"q-dialog-plugin"},{default:me(()=>[ce(yt,null,{default:me(()=>[de("div",Ta,[Ea,Ce(de("input",{"bg-color":"white",style:{flex:1},"onUpdate:modelValue":S[0]||(S[0]=q=>n.name=q)},null,512),[[ct,n.name]])]),de("div",Aa,[qa,de("div",Ba,[de("div",Pa,[Ce(de("input",{disabled:n.type==="org","onUpdate:modelValue":S[1]||(S[1]=q=>i.value=q),"bg-color":"white",style:{flex:1},onKeypress:Kn(v,["enter"])},null,40,Ia),[[ct,i.value]]),ce(Ae,{disable:n.type==="org",class:"bordered",style:{"border-left":"none"},unelevated:"",size:"sm",icon:"add",onClick:v},null,8,["disable"])]),Ce(de("select",{disabled:n.type==="org","onUpdate:modelValue":S[2]||(S[2]=q=>t.value=q),size:"4",style:{flex:1,overflowY:"auto"},class:"q-mb-xs"},[(pe(!0),we(Ye,null,nt(n.repositories||[],q=>(pe(),we("option",{key:q.repr},Fe(q.repr),1))),128))],8,Oa),[[Et,t.value]]),de("div",Ra,[ce(za,{square:"",unelevated:""},{default:me(()=>[ce(Ae,{size:"sm",class:"bordered",style:{"border-right":"none"},unelevated:"",square:"",disable:!y.value,onClick:r,icon:"mdi-arrow-up"},null,8,["disable"]),ce(Ae,{size:"sm",class:"bordered",unelevated:"",square:"",disable:!p.value,onClick:l,icon:"mdi-arrow-down"},null,8,["disable"])]),_:1}),ce(Ae,{size:"sm",class:"bordered q-ml-md",square:"",unelevated:"",disable:!t.value,onClick:s,icon:"mdi-delete"},null,8,["disable"])])])])]),_:1}),ce(Dt,null,{default:me(()=>{var q;return[ce(Ae,{square:"",size:"sm",class:"bordered",label:"DELETE",color:"negative","text-color":"yellow",style:{"font-weight":"bold"},onClick:g}),ce(nr),ce(Ae,{square:"",size:"sm",class:"bordered",color:"negative",label:"Cancel",onClick:ye(x)},null,8,["onClick"]),ce(Ae,{square:"",size:"sm",class:"bordered",label:"OK",color:"positive",disable:!(n.name&&((q=n==null?void 0:n.repositories)==null?void 0:q.length)>0),onClick:w},null,8,["disable"])]}),_:1})]),_:1})]),_:1},8,["onHide"]))}},$a=[J("g",[J("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),J("clipPath",{id:"uil-hourglass-clip1"},[J("rect",{x:"15",y:"20",width:" 70",height:"25"},[J("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),J("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),J("clipPath",{id:"uil-hourglass-clip2"},[J("rect",{x:"15",y:"55",width:" 70",height:"25"},[J("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),J("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),J("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),J("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),J("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])];var La=qe({name:"QSpinnerHourglass",props:Vr,setup(e){const{cSize:m,classes:a}=Zr(e);return()=>J("svg",{class:a.value,width:m.value,height:m.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},$a)}});const Fa=["none","strict","leaf","leaf-filtered"];var dr=qe({name:"QTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Fa.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:m,emit:a}){const{proxy:f}=Pe(),{$q:t}=f,i=Je(e,t),n=ie({}),r=ie(e.ticked||[]),l=ie(e.expanded||[]);let v={};Rn(()=>{v={}});const h=N(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),y=N(()=>e.selected!==void 0),p=N(()=>e.icon||t.iconSet.tree.icon),s=N(()=>e.controlColor||e.color),g=N(()=>e.textColor!==void 0?` text-${e.textColor}`:""),c=N(()=>{const T=e.selectedColor||e.color;return T?` text-${T}`:""}),b=N(()=>e.filterMethod!==void 0?e.filterMethod:(T,Z)=>{const k=Z.toLowerCase();return T[e.labelKey]&&T[e.labelKey].toLowerCase().indexOf(k)>-1}),d=N(()=>{const T={},Z=(k,O)=>{const R=k.tickStrategy||(O?O.tickStrategy:e.tickStrategy),V=k[e.nodeKey],$=k[e.childrenKey]&&Array.isArray(k[e.childrenKey])&&k[e.childrenKey].length!==0,U=k.disabled!==!0&&y.value===!0&&k.selectable!==!1,oe=k.disabled!==!0&&k.expandable!==!1,he=R!=="none",se=R==="strict",_e=R==="leaf-filtered",o=R==="leaf"||R==="leaf-filtered";let Q=k.disabled!==!0&&k.tickable!==!1;o===!0&&Q===!0&&O&&O.tickable!==!0&&(Q=!1);let j=k.lazy;j===!0&&n.value[V]!==void 0&&Array.isArray(k[e.childrenKey])===!0&&(j=n.value[V]);const C={key:V,parent:O,isParent:$,lazy:j,disabled:k.disabled,link:k.disabled!==!0&&(U===!0||oe===!0&&($===!0||j===!0)),children:[],matchesFilter:e.filter?b.value(k,e.filter):!0,selected:V===e.selected&&U===!0,selectable:U,expanded:$===!0?l.value.includes(V):!1,expandable:oe,noTick:k.noTick===!0||se!==!0&&j&&j!=="loaded",tickable:Q,tickStrategy:R,hasTicking:he,strictTicking:se,leafFilteredTicking:_e,leafTicking:o,ticked:se===!0?r.value.includes(V):$===!0?!1:r.value.includes(V)};if(T[V]=C,$===!0&&(C.children=k[e.childrenKey].map(_=>Z(_,C)),e.filter&&(C.matchesFilter!==!0?C.matchesFilter=C.children.some(_=>_.matchesFilter):C.noTick!==!0&&C.disabled!==!0&&C.tickable===!0&&_e===!0&&C.children.every(_=>_.matchesFilter!==!0||_.noTick===!0||_.tickable!==!0)===!0&&(C.tickable=!1)),C.matchesFilter===!0&&(C.noTick!==!0&&se!==!0&&C.children.every(_=>_.noTick)===!0&&(C.noTick=!0),o))){if(C.ticked=!1,C.indeterminate=C.children.some(_=>_.indeterminate===!0),C.tickable=C.tickable===!0&&C.children.some(_=>_.tickable),C.indeterminate!==!0){const _=C.children.reduce((P,Y)=>Y.ticked===!0?P+1:P,0);_===C.children.length?C.ticked=!0:_>0&&(C.indeterminate=!0)}C.indeterminate===!0&&(C.indeterminateNextState=C.children.every(_=>_.tickable!==!0||_.ticked!==!0))}return C};return e.nodes.forEach(k=>Z(k,null)),T});Se(()=>e.ticked,T=>{r.value=T}),Se(()=>e.expanded,T=>{l.value=T});function x(T){const Z=[].reduce,k=(O,R)=>{if(O||!R)return O;if(Array.isArray(R)===!0)return Z.call(Object(R),k,O);if(R[e.nodeKey]===T)return R;if(R[e.childrenKey])return k(null,R[e.childrenKey])};return k(null,e.nodes)}function w(){return r.value.map(T=>x(T))}function E(){return l.value.map(T=>x(T))}function S(T){return T&&d.value[T]?d.value[T].expanded:!1}function q(){e.expanded!==void 0?a("update:expanded",[]):l.value=[]}function A(){const T=[],Z=k=>{k[e.childrenKey]&&k[e.childrenKey].length!==0&&k.expandable!==!1&&k.disabled!==!0&&(T.push(k[e.nodeKey]),k[e.childrenKey].forEach(Z))};e.nodes.forEach(Z),e.expanded!==void 0?a("update:expanded",T):l.value=T}function D(T,Z,k=x(T),O=d.value[T]){if(O.lazy&&O.lazy!=="loaded"){if(O.lazy==="loading")return;n.value[T]="loading",Array.isArray(k[e.childrenKey])!==!0&&(k[e.childrenKey]=[]),a("lazyLoad",{node:k,key:T,done:R=>{n.value[T]="loaded",k[e.childrenKey]=Array.isArray(R)===!0?R:[],gt(()=>{const V=d.value[T];V&&V.isParent===!0&&B(T,!0)})},fail:()=>{delete n.value[T],k[e.childrenKey].length===0&&delete k[e.childrenKey]}})}else O.isParent===!0&&O.expandable===!0&&B(T,Z)}function B(T,Z){let k=l.value;const O=e.expanded!==void 0;if(O===!0&&(k=k.slice()),Z){if(e.accordion&&d.value[T]){const R=[];d.value[T].parent?d.value[T].parent.children.forEach(V=>{V.key!==T&&V.expandable===!0&&R.push(V.key)}):e.nodes.forEach(V=>{const $=V[e.nodeKey];$!==T&&R.push($)}),R.length!==0&&(k=k.filter(V=>R.includes(V)===!1))}k=k.concat([T]).filter((R,V,$)=>$.indexOf(R)===V)}else k=k.filter(R=>R!==T);O===!0?a("update:expanded",k):l.value=k}function W(T){return T&&d.value[T]?d.value[T].ticked:!1}function ee(T,Z){let k=r.value;const O=e.ticked!==void 0;O===!0&&(k=k.slice()),Z?k=k.concat(T).filter((R,V,$)=>$.indexOf(R)===V):k=k.filter(R=>T.includes(R)===!1),O===!0&&a("update:ticked",k)}function z(T,Z,k){const O={tree:f,node:T,key:k,color:e.color,dark:i.value};return cn(O,"expanded",()=>Z.expanded,R=>{R!==Z.expanded&&D(k,R)}),cn(O,"ticked",()=>Z.ticked,R=>{R!==Z.ticked&&ee([k],R)}),O}function L(T){return(e.filter?T.filter(Z=>d.value[Z[e.nodeKey]].matchesFilter):T).map(Z=>H(Z))}function u(T){if(T.icon!==void 0)return J(Be,{class:"q-tree__icon q-mr-sm",name:T.icon,color:T.iconColor});const Z=T.img||T.avatar;if(Z)return J("img",{class:`q-tree__${T.img?"img":"avatar"} q-mr-sm`,src:Z})}function K(){a("afterShow")}function G(){a("afterHide")}function H(T){const Z=T[e.nodeKey],k=d.value[Z],O=T.header&&m[`header-${T.header}`]||m["default-header"],R=k.isParent===!0?L(T[e.childrenKey]):[],V=R.length!==0||k.lazy&&k.lazy!=="loaded";let $=T.body&&m[`body-${T.body}`]||m["default-body"];const U=O!==void 0||$!==void 0?z(T,k,Z):null;return $!==void 0&&($=J("div",{class:"q-tree__node-body relative-position"},[J("div",{class:g.value},[$(U)])])),J("div",{key:Z,class:`q-tree__node relative-position q-tree__node--${V===!0?"parent":"child"}`},[J("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(k.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(k.selected===!0?" q-tree__node--selected":"")+(k.disabled===!0?" q-tree__node--disabled":""),tabindex:k.link===!0?0:-1,onClick:oe=>{ne(T,k,oe)},onKeypress(oe){tn(oe)!==!0&&(oe.keyCode===13?ne(T,k,oe,!0):oe.keyCode===32&&fe(T,k,oe,!0))}},[J("div",{class:"q-focus-helper",tabindex:-1,ref:oe=>{v[k.key]=oe}}),k.lazy==="loading"?J($n,{class:"q-tree__spinner",color:s.value}):V===!0?J(Be,{class:"q-tree__arrow"+(k.expanded===!0?" q-tree__arrow--rotate":""),name:p.value,onClick(oe){fe(T,k,oe)}}):null,k.hasTicking===!0&&k.noTick!==!0?J(Qr,{class:"q-tree__tickbox",modelValue:k.indeterminate===!0?null:k.ticked,color:s.value,dark:i.value,dense:!0,keepColor:!0,disable:k.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":oe=>{M(k,oe)}}):null,J("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(k.selected===!0?c.value:g.value)},[O?O(U):[u(T),J("div",T[e.labelKey])]])]),V===!0?e.noTransition===!0?J("div",{class:"q-tree__node-collapsible"+g.value,key:`${Z}__q`},[$,J("div",{class:"q-tree__children"+(k.disabled===!0?" q-tree__node--disabled":"")},k.expanded?R:null)]):J(er,{duration:e.duration,onShow:K,onHide:G},()=>Ce(J("div",{class:"q-tree__node-collapsible"+g.value,key:`${Z}__q`},[$,J("div",{class:"q-tree__children"+(k.disabled===!0?" q-tree__node--disabled":"")},R)]),[[Ln,k.expanded]])):$])}function le(T){const Z=v[T];Z&&Z.focus()}function ne(T,Z,k,O){O!==!0&&Z.selectable!==!1&&le(Z.key),y.value&&Z.selectable?e.noSelectionUnset===!1?a("update:selected",Z.key!==e.selected?Z.key:null):Z.key!==e.selected&&a("update:selected",Z.key===void 0?null:Z.key):fe(T,Z,k,O),typeof T.handler=="function"&&T.handler(T)}function fe(T,Z,k,O){k!==void 0&&$e(k),O!==!0&&Z.selectable!==!1&&le(Z.key),D(Z.key,!Z.expanded,T,Z)}function M(T,Z){if(T.indeterminate===!0&&(Z=T.indeterminateNextState),T.strictTicking)ee([T.key],Z);else if(T.leafTicking){const k=[],O=R=>{R.isParent?(Z!==!0&&R.noTick!==!0&&R.tickable===!0&&k.push(R.key),R.leafTicking===!0&&R.children.forEach(O)):R.noTick!==!0&&R.tickable===!0&&(R.leafFilteredTicking!==!0||R.matchesFilter===!0)&&k.push(R.key)};O(T),ee(k,Z)}}return e.defaultExpandAll===!0&&A(),Object.assign(f,{getNodeByKey:x,getTickedNodes:w,getExpandedNodes:E,isExpanded:S,collapseAll:q,expandAll:A,setExpanded:D,isTicked:W,setTicked:ee}),()=>{const T=L(e.nodes);return J("div",{class:h.value},T.length===0?e.filter?e.noResultsLabel||t.lang.tree.noResults:e.noNodesLabel||t.lang.tree.noNodes:T)}}});const Da={class:"row q-mb-sm"},Na=de("label",null,"Name: ",-1),Ma=["disabled"],Ua={class:"row q-mb-sm"},ja=de("label",null,"Path: ",-1),Ka={style:{flex:"1",position:"relative"}},Ha=["id"],Wa={key:0},Va=["onBlur","onKeypress"],Za={key:1},Qa={class:"row q-mb-sm no-wrap"},Ya={style:{"margin-left":"17px","white-space":"nowrap"}},Ga={key:0,class:"text-negative"},Xa={class:"row q-mb-sm no-wrap"},Ja={style:{"margin-left":"17px","white-space":"nowrap"}},eo={key:0,class:"text-negative"},to={class:"row q-mb-sm"},no=de("label",null,"Thumbnail: ",-1),ro={class:"thumbnail-edit-wrapper"},io={class:"row q-col-gutter-xs"},ao=["src"],oo={class:"col-6 q-pt-none"},so={class:"row"},lo=de("label",null,"Upload To: ",-1),uo=["value"],co={key:0,style:{display:"flex","flex-direction":"row",position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px","text-align":"center","align-items":"center","justify-content":"center","background-color":"rgba(128, 128, 128, 0.5)"}},wn=tt({__name:"ContentEditor",props:{initialValue:{},collection:{}},emits:[...Me.emits],setup(e){var Z,k,O,R;const m=e,a=ie(!1),f=ie(null),t=ie(!1),i=ie(!1),n=et(),r=ie(!1),l=ie(),v=ie("New Folder"),h=ie((Z=m==null?void 0:m.initialValue)==null?void 0:Z.name),y=ie(""),p=m.collection||n.getTopLevelNode((O=(k=m.initialValue)==null?void 0:k.id)==null?void 0:O.split("|")[0]);let s="";(R=m==null?void 0:m.initialValue)!=null&&R.path&&(s=m==null?void 0:m.initialValue.path.split("/").slice(0,-1).join("/"));const g=ie(s),c=ie(["/"]),b=ie(g.value),d=ie(!1),x=(V,$,U)=>{var _e,o;const oe=(_e=l.value)==null?void 0:_e.getNodeByKey($.id.split("/").slice(0,-1).join("/"));let he=!0;U||(he=!1),oe.children.filter(Q=>Q.name===U).length>1&&(he=!1),$.name=U,$.path=oe.path="/"+$.name,he?$.editing=!1:(V.preventDefault(),V.stopImmediatePropagation(),(o=V.target)==null||o.focus())},w=V=>btoa(V).replaceAll("=",""),E=V=>V.filter(U=>U.type==="tree").map(U=>({id:U.path,path:U.path,icon:"mdi-folder",selectable:!0,name:U.name,editing:!1,children:U.children?E(U.children):[]})),S=rn([{name:"/",icon:"mdi-folder",selectable:!0,id:"/",path:"",children:E((p==null?void 0:p.children)||[])}]),q=ie((p==null?void 0:p.uploadTo)||(p==null?void 0:p.repositories[0].repr)),A=V=>{var oe,he;v.value="New Folder",V.preventDefault(),V.stopPropagation();const $=(oe=l.value)==null?void 0:oe.getNodeByKey(b.value),U={id:$.path+"/"+nn(),name:"New Folder",path:$.path+"/New Folder",selectable:!0,icon:"mdi-folder-star",editing:!0,children:[]};$.children.push(U),b.value=U.id,(he=l.value)==null||he.setExpanded($.id,!0),setTimeout(()=>{var _e;const se=document.querySelector(`#pathTree--${w(U.id)}`);se==null||se.scrollIntoView({block:"center"}),(_e=se==null?void 0:se.querySelector("input"))==null||_e.focus()},500)},D=N(()=>{var V,$;if(i.value){const U=($=(V=m.initialValue)==null?void 0:V.content_types)==null?void 0:$.f3d,oe=p.repositories.filter(he=>he.repr===q.value)[0];if(U&&U.repo!==oe.repo)return"cannot replace the f3d file, it exists in another repository."}return""}),B=N(()=>{var V,$;if(t.value){const U=($=(V=m.initialValue)==null?void 0:V.content_types)==null?void 0:$.step,oe=p.repositories.filter(he=>he.repr===q.value)[0];if(U&&U.repo!==oe.repo)return"cannot replace the step file, it exists in another repository."}return""}),W=V=>{var oe;let $=[...(oe=V.clipboardData)==null?void 0:oe.items];if($=$.filter(he=>/image/.test(he.type)),!$.length||$.length===0)return!1;let U=new FileReader;U.onload=()=>{const he=U.result;y.value=he},U.readAsDataURL($[0].getAsFile())},ee=V=>new Promise($=>{const U=new window.FileReader;U.onload=()=>{y.value=U.result,r.value=!0,$(y.value)},U.readAsDataURL(V)}),z=V=>{var $;V.stopPropagation(),V.preventDefault(),ee(($=V.dataTransfer)==null?void 0:$.files[0])},L=V=>{var U;V.stopPropagation(),V.preventDefault();const $=V.target;ee((U=$.files)==null?void 0:U[0]).then(()=>{f.value!==null&&(f.value.value="")})},u=V=>{var $;V.preventDefault(),V.stopPropagation(),($=f.value)==null||$.click()},K=async()=>{const V=await n.backend.get_screenshot({width:256,height:256,transparent:a.value});V?(y.value=V,r.value=!0):alert("Workspace image capture failed.")},G=async()=>{var U,oe,he,se,_e,o;const V=(he=(oe=(U=m==null?void 0:m.initialValue)==null?void 0:U.content_types)==null?void 0:oe.thumb)==null?void 0:he.url,$=(_e=(se=m==null?void 0:m.initialValue)==null?void 0:se.meta)==null?void 0:_e.thumb;$?y.value=$:V?y.value=await Qt({url:V,token:n.token,content_type:"image/png"}):y.value="",(o=m==null?void 0:m.initialValue)!=null&&o.name||await n.backend.export_model({f3d:!1,step:!1}).then(Q=>{h.value=Q==null?void 0:Q.name})},H=()=>{var V;if(h.value!==((V=m.initialValue)==null?void 0:V.name)||r.value||i.value||t.value)return!0};ot(()=>{G()});const{dialogRef:le,onDialogHide:ne,onDialogOK:fe,onDialogCancel:M}=Me();function T(){d.value=!0,setTimeout(()=>{const V=p.repositories.filter(U=>U.repr===q.value)[0];let $=V.path||"";$&&b.value?$=`${$}/${b.value}`:b.value&&($=`${b.value}`),$=$===""?`${h.value}`:`${$}/${h.value}`,n.backend.export_model({f3d:i.value,step:t.value}).then(U=>{var he,se;const oe=[];d.value=!1,i.value&&oe.push({path:`${$}.f3d`,content:(he=U.f3d)==null?void 0:he.split(",")[1],encoding:"base64"}),t.value&&oe.push({path:`${$}.step`,content:(se=U.step)==null?void 0:se.split(",")[1],encoding:"base64"}),r.value&&oe.push({path:`${$}.png`,content:y.value.split(",")[1],encoding:"base64"}),Zn({repo:V.repo,branch:V.branch,files:oe,message:`Add ${$}`,token:n.token}).then(()=>{d.value=!1,fe(p)})})},500)}return(V,$)=>(pe(),Ee(bt,{ref_key:"dialogRef",ref:le,onHide:ye(ne),square:""},{default:me(()=>[ce(_t,{class:"q-dialog-plugin"},{default:me(()=>[ce(yt,{style:{position:"relative"}},{default:me(()=>{var U,oe,he;return[de("div",Da,[Na,Ce(de("input",{disabled:!!((U=m.initialValue)!=null&&U.name),"bg-color":"white",style:{flex:1},"onUpdate:modelValue":$[0]||($[0]=se=>h.value=se)},null,8,Ma),[[ct,h.value]])]),de("div",Ua,[ja,de("div",Ka,[ce(ye(dr),{ref_key:"treeRef",ref:l,dense:"","default-expand-all":!!g.value,selected:b.value,"onUpdate:selected":$[3]||($[3]=se=>b.value=se),expanded:c.value,"onUpdate:expanded":$[4]||($[4]=se=>c.value=se),"no-selection-unset":"",nodes:S,filter:g.value,"filter-method":(se,_e)=>se.path===_e,"node-key":"id","label-key":"name",class:"pathTree"},{"default-header":me(({node:se})=>[ce(Be,{name:se.icon,class:"q-tree__icon q-mr-sm"},null,8,["name"]),de("div",{id:`pathTree--${w(se.id)}`,onKeypress:$[2]||($[2]=_e=>_e.stopImmediatePropagation())},[se.editing?Ce((pe(),we("input",{key:1,"onUpdate:modelValue":$[1]||($[1]=_e=>v.value=_e),onBlur:_e=>x(_e,se,v.value),onKeypress:Kn(_e=>x(_e,se,v.value),["enter"])},null,40,Va)),[[ct,v.value]]):(pe(),we("span",Wa,Fe(se.name),1))],40,Ha)]),_:1},8,["default-expand-all","selected","expanded","nodes","filter","filter-method"]),(oe=m.initialValue)!=null&&oe.path?(pe(),we("div",{key:0,class:"pathTree--disabler",onClick:$[5]||($[5]=se=>{se.preventDefault(),se.stopPropagation()})})):Te("",!0),(he=m.initialValue)!=null&&he.path?Te("",!0):(pe(),we("div",Za,[ce(Ae,{size:"sm",icon:"mdi-folder-plus-outline",label:"New Folder",flat:"",square:"","no-caps":"",disable:!b.value,class:"bordered q-mt-xs",onClick:A},null,8,["disable"])]))])]),de("div",Qa,[de("label",Ya,[Re("Upload .STEP: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":$[6]||($[6]=se=>t.value=se)},null,512),[[rt,t.value]])]),B.value?(pe(),we("div",Ga,Fe(B.value),1)):Te("",!0)]),de("div",Xa,[de("label",Ja,[Re("Upload .F3D: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":$[7]||($[7]=se=>i.value=se)},null,512),[[rt,i.value]])]),D.value?(pe(),we("div",eo,Fe(D.value),1)):Te("",!0)]),de("div",to,[no,de("div",ro,[de("div",io,[de("div",{contenteditable:"true",class:"col-6 q-pa-none editor-thumb",onDragover:$[8]||($[8]=se=>{se.dataTransfer&&(se.dataTransfer.effectAllowed="all")}),onDrop:z,onPaste:W,onBeforeinput:$[9]||($[9]=se=>{se.inputType!=="insertFromPaste"&&(se.preventDefault(),se.stopPropagation())})},[de("img",{src:y.value||"img/cube-outline.svg"},null,8,ao)],32),de("div",oo,[ce(Ae,{dense:"",label:"Choose",size:"sm",flat:"",icon:"upload",class:"full-width bordered q-mb-xs","no-caps":"",onClick:u}),ce(Ae,{dense:"",onClick:K,label:"Capture",icon:"mdi-monitor-screenshot",size:"sm",flat:"",class:"full-width bordered","no-caps":""}),de("label",null,[Ce(de("input",{type:"checkbox","onUpdate:modelValue":$[10]||($[10]=se=>a.value=se)},null,512),[[rt,a.value]]),Re(" BG Transparency")])])]),de("input",{ref_key:"filePicker",ref:f,onChange:L,id:"thumbnail",type:"file",style:{display:"none"}},null,544)])]),de("div",so,[lo,Ce(de("select",{"onUpdate:modelValue":$[11]||($[11]=se=>q.value=se),style:{flex:"1"}},[(pe(!0),we(Ye,null,nt(ye(p).repositories,se=>(pe(),we("option",{value:se.repr,key:se.repr},Fe(se.repr),9,uo))),128))],512),[[Et,q.value]])]),d.value?(pe(),we("div",co,[ce(La,{color:"purple",size:"10em"})])):Te("",!0)]}),_:1}),ce(Dt,{align:"right"},{default:me(()=>[ce(Ae,{square:"",size:"sm",class:"bordered",color:"negative",label:"Cancel",onClick:ye(M)},null,8,["onClick"]),ce(Ae,{square:"",size:"sm",class:"bordered",label:"OK",color:"positive",disable:!H(),onClick:T},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),xn=["vertical","horizontal"],Wt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Sn={prevent:!0,mouse:!0,mouseAllDir:!0},Cn=e=>e>=250?50:Math.ceil(e/5);var fo=qe({name:"QScrollArea",props:{...Xe,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:m,emit:a}){const f=ie(!1),t=ie(!1),i=ie(!1),n={vertical:ie(0),horizontal:ie(0)},r={vertical:{ref:ie(null),position:ie(0),size:ie(0)},horizontal:{ref:ie(null),position:ie(0),size:ie(0)}},{proxy:l}=Pe(),v=Je(e,l.$q);let h=null,y;const p=ie(null),s=N(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));r.vertical.percentage=N(()=>{const G=r.vertical.size.value-n.vertical.value;if(G<=0)return 0;const H=Ne(r.vertical.position.value/G,0,1);return Math.round(H*1e4)/1e4}),r.vertical.thumbHidden=N(()=>(e.visible===null?i.value:e.visible)!==!0&&f.value===!1&&t.value===!1||r.vertical.size.value<=n.vertical.value+1),r.vertical.thumbStart=N(()=>r.vertical.percentage.value*(n.vertical.value-r.vertical.thumbSize.value)),r.vertical.thumbSize=N(()=>Math.round(Ne(n.vertical.value*n.vertical.value/r.vertical.size.value,Cn(n.vertical.value),n.vertical.value))),r.vertical.style=N(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${r.vertical.thumbStart.value}px`,height:`${r.vertical.thumbSize.value}px`})),r.vertical.thumbClass=N(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.vertical.barClass=N(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),r.horizontal.percentage=N(()=>{const G=r.horizontal.size.value-n.horizontal.value;if(G<=0)return 0;const H=Ne(Math.abs(r.horizontal.position.value)/G,0,1);return Math.round(H*1e4)/1e4}),r.horizontal.thumbHidden=N(()=>(e.visible===null?i.value:e.visible)!==!0&&f.value===!1&&t.value===!1||r.horizontal.size.value<=n.horizontal.value+1),r.horizontal.thumbStart=N(()=>r.horizontal.percentage.value*(n.horizontal.value-r.horizontal.thumbSize.value)),r.horizontal.thumbSize=N(()=>Math.round(Ne(n.horizontal.value*n.horizontal.value/r.horizontal.size.value,Cn(n.horizontal.value),n.horizontal.value))),r.horizontal.style=N(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[l.$q.lang.rtl===!0?"right":"left"]:`${r.horizontal.thumbStart.value}px`,width:`${r.horizontal.thumbSize.value}px`})),r.horizontal.thumbClass=N(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.horizontal.barClass=N(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=N(()=>r.vertical.thumbHidden.value===!0&&r.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),c=[[Xt,G=>{A(G,"vertical")},void 0,{vertical:!0,...Sn}]],b=[[Xt,G=>{A(G,"horizontal")},void 0,{horizontal:!0,...Sn}]];function d(){const G={};return xn.forEach(H=>{const le=r[H];G[H+"Position"]=le.position.value,G[H+"Percentage"]=le.percentage.value,G[H+"Size"]=le.size.value,G[H+"ContainerSize"]=n[H].value}),G}const x=Yr(()=>{const G=d();G.ref=l,a("scroll",G)},0);function w(G,H,le){if(xn.includes(G)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(G==="vertical"?dn:jt)(p.value,H,le)}function E({height:G,width:H}){let le=!1;n.vertical.value!==G&&(n.vertical.value=G,le=!0),n.horizontal.value!==H&&(n.horizontal.value=H,le=!0),le===!0&&ee()}function S({position:G}){let H=!1;r.vertical.position.value!==G.top&&(r.vertical.position.value=G.top,H=!0),r.horizontal.position.value!==G.left&&(r.horizontal.position.value=G.left,H=!0),H===!0&&ee()}function q({height:G,width:H}){r.horizontal.size.value!==H&&(r.horizontal.size.value=H,ee()),r.vertical.size.value!==G&&(r.vertical.size.value=G,ee())}function A(G,H){const le=r[H];if(G.isFirst===!0){if(le.thumbHidden.value===!0)return;y=le.position.value,t.value=!0}else if(t.value!==!0)return;G.isFinal===!0&&(t.value=!1);const ne=Wt[H],fe=n[H].value,M=(le.size.value-fe)/(fe-le.thumbSize.value),T=G.distance[ne.dist],Z=y+(G.direction===ne.dir?1:-1)*T*M;z(Z,H)}function D(G,H){const le=r[H];if(le.thumbHidden.value!==!0){const ne=G[Wt[H].offset];if(ne<le.thumbStart.value||ne>le.thumbStart.value+le.thumbSize.value){const fe=ne-le.thumbSize.value/2;z(fe/n[H].value*le.size.value,H)}le.ref.value!==null&&le.ref.value.dispatchEvent(new MouseEvent(G.type,G))}}function B(G){D(G,"vertical")}function W(G){D(G,"horizontal")}function ee(){f.value=!0,h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,f.value=!1},e.delay),e.onScroll!==void 0&&x()}function z(G,H){p.value[Wt[H].scroll]=G}function L(){i.value=!0}function u(){i.value=!1}let K=null;return Se(()=>l.$q.lang.rtl,G=>{p.value!==null&&jt(p.value,Math.abs(r.horizontal.position.value)*(G===!0?-1:1))}),Dn(()=>{K={top:r.vertical.position.value,left:r.horizontal.position.value}}),Nn(()=>{if(K===null)return;const G=p.value;G!==null&&(jt(G,K.left),dn(G,K.top))}),Ve(x.cancel),Object.assign(l,{getScrollTarget:()=>p.value,getScroll:d,getScrollPosition:()=>({top:r.vertical.position.value,left:r.horizontal.position.value}),getScrollPercentage:()=>({top:r.vertical.percentage.value,left:r.horizontal.percentage.value}),setScrollPosition:w,setScrollPercentage(G,H,le){w(G,H*(r[G].size.value-n[G].value)*(G==="horizontal"&&l.$q.lang.rtl===!0?-1:1),le)}}),()=>J("div",{class:s.value,onMouseenter:L,onMouseleave:u},[J("div",{ref:p,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[J("div",{class:"q-scrollarea__content absolute",style:g.value},$t(m.default,[J(Zt,{debounce:0,onResize:q})])),J(ni,{axis:"both",onScroll:S})]),J(Zt,{debounce:0,onResize:E}),J("div",{class:r.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:B}),J("div",{class:r.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:W}),Ce(J("div",{ref:r.vertical.ref,class:r.vertical.thumbClass.value,style:r.vertical.style.value,"aria-hidden":"true"}),c),Ce(J("div",{ref:r.horizontal.ref,class:r.horizontal.thumbClass.value,style:r.horizontal.style.value,"aria-hidden":"true"}),b)])}});const ho={xs:2,sm:4,md:6,lg:10,xl:14};function zn(e,m,a){return{transform:m===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Tn=qe({name:"QLinearProgress",props:{...Xe,...Hn,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:m}){const{proxy:a}=Pe(),f=Je(e,a.$q),t=Wn(e,ho),i=N(()=>e.indeterminate===!0||e.query===!0),n=N(()=>e.reverse!==e.query),r=N(()=>({...t.value!==null?t.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),l=N(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),v=N(()=>zn(e.buffer!==void 0?e.buffer:1,n.value,a.$q)),h=N(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=N(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${h.value} q-linear-progress__track--${f.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),p=N(()=>zn(i.value===!0?1:e.value,n.value,a.$q)),s=N(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${h.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),g=N(()=>({width:`${e.value*100}%`})),c=N(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${h.value}`);return()=>{const b=[J("div",{class:y.value,style:v.value}),J("div",{class:s.value,style:p.value})];return e.stripe===!0&&i.value===!1&&b.push(J("div",{class:c.value,style:g.value})),J("div",{class:l.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},$t(m.default,b))}}});const vo=de("div",{class:"row"},[de("div",{class:"col-12"}," AutoThumb will automatically generate any missing thumbnail images in the selected path. Existing thumbnails will not be replaced. ")],-1),mo={key:0,class:"row q-mb-sm"},po=de("label",null,"Collection: ",-1),go=["value"],bo={key:1,class:"row q-mb-sm"},yo=de("label",null,"Path: ",-1),_o={style:{flex:"1",position:"relative"}},ko={key:2,class:"row q-mb-sm"},wo={style:{"margin-left":"17px"}},xo={key:3,class:"row q-py-sm"},So={class:"col-12"},Co={key:4,class:"row q-py-sm"},zo=de("label",null,"Upload To: ",-1),To=["value"],Eo={key:5,class:"row justify-center q-py-sm"},Ao=["src"],qo={class:"absolute-full flex flex-center"},Bo={class:"absolute-full flex flex-center"},Po=tt({__name:"AutoThumb",emits:[...Me.emits],setup(e){const{humanStorageSize:m}=lr,a=ie(null),f=ie([]),t=et(),i=ie(null),n=ie([]),r=ie(0),l=ie(""),v=ie(null),h=ie([]),y=ie(!1),p=N(()=>i.value?t.tree.filter(B=>B.id===i.value)[0]:null),s=ie([]),g=B=>B.filter(ee=>ee.type==="tree").map(ee=>({id:ee.path,path:ee.path,icon:"mdi-folder",selectable:!0,name:ee.name,children:ee.children?g(ee.children):void 0})),c=N(()=>{var B;return p.value?rn([{name:"/",icon:"mdi-folder",selectable:!0,id:"/",path:"",children:g(((B=p.value)==null?void 0:B.children)||[])}]):[]}),b=B=>{const W=[];for(let ee of B)ee.type==="tree"&&ee.children&&ee.children.length>0?W.push(...b(ee.children)):W.push(ee);return W.filter(ee=>{var L,u,K;let z=ee;!((L=z==null?void 0:z.content_types)!=null&&L.thumb)&&((u=z==null?void 0:z.content_types)!=null&&u.step||((K=z==null?void 0:z.content_types)==null||K.f3d))})},d=async()=>{var B,W,ee,z,L;for(;n.value.length>0;){await new Promise(G=>setTimeout(G,100));const u=n.value.shift(),K=await t.backend.autothumb({url:((W=(B=u==null?void 0:u.content_types)==null?void 0:B.f3d)==null?void 0:W.url)||((z=(ee=u==null?void 0:u.content_types)==null?void 0:ee.step)==null?void 0:z.url),content_type:(L=u==null?void 0:u.content_types)!=null&&L.f3d?"f3d":"step",transparent:y.value,token:t.token});K&&(s.value.push({path:`${u.path}.png`,content:K.split(",")[1],encoding:"base64"}),l.value=K)}},x=async()=>{var W;const B=(W=p.value)==null?void 0:W.repositories.filter(ee=>ee.repr===v.value)[0];await Zn({repo:B.repo,branch:B.branch,files:[...s.value],token:t.token,message:"Add auto-generated thumbnails.",progressCallback:(ee,z)=>{h.value=[ee,z],console.log(m(ee),"/",m(z))}})},{dialogRef:w,onDialogHide:E,onDialogOK:S,onDialogCancel:q}=Me();function A(){n.value.length?(n.value=[],r.value=0,l.value="",s.value=[]):s.value.length?s.value=[]:q()}function D(){var B;if(s.value.length)x().then(()=>{var W;S((W=p==null?void 0:p.value)==null?void 0:W.id)}).catch(W=>{alert(W)});else{let W=a.value||"";W==="/"&&(W=""),n.value=b(((B=p.value)==null?void 0:B.children)||[]).filter(ee=>ee.path.startsWith(W)),r.value=n.value.length,d().then(()=>{r.value=0,console.log("done")}).catch(ee=>{console.error("Processing Error",ee),r.value=0,n.value=[],l.value="",s.value=[]})}}return(B,W)=>(pe(),Ee(bt,{ref_key:"dialogRef",ref:w,onHide:ye(E),square:""},{default:me(()=>[ce(_t,{class:"q-dialog-plugin"},{default:me(()=>[ce(yt,null,{default:me(()=>{var ee;return[vo,ce(Vn,{class:"q-mb-sm"}),!n.value.length&&!s.value.length?(pe(),we("div",mo,[po,Ce(de("select",{"onUpdate:modelValue":W[0]||(W[0]=z=>i.value=z),style:{flex:"1"}},[(pe(!0),we(Ye,null,nt(ye(t).tree,z=>(pe(),we("option",{key:z.id,value:z.id},Fe(z.name),9,go))),128))],512),[[Et,i.value]])])):Te("",!0),!n.value.length&&!s.value.length?(pe(),we("div",bo,[yo,de("div",_o,[ce(dr,{ref:"treeRef",dense:"",selected:a.value,"onUpdate:selected":W[1]||(W[1]=z=>a.value=z),expanded:f.value,"onUpdate:expanded":W[2]||(W[2]=z=>f.value=z),"no-selection-unset":"",nodes:c.value,"node-key":"id","label-key":"name",class:"pathTree"},null,8,["selected","expanded","nodes"])])])):Te("",!0),!n.value.length&&!s.value.length?(pe(),we("div",ko,[de("label",wo,[Re(" BG Transparency: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":W[3]||(W[3]=z=>y.value=z)},null,512),[[rt,y.value]])])])):Te("",!0),s.value.length&&!n.value.length?(pe(),we("div",xo,[de("div",So,[de("div",null,"Generated "+Fe(s.value.length)+" thumbnails.",1),ce(fo,{class:"thumb-list"},{default:me(()=>[(pe(!0),we(Ye,null,nt(s.value,z=>(pe(),we("div",{key:z.path,style:{"white-space":"nowrap"}},Fe(z.path),1))),128))]),_:1})])])):Te("",!0),s.value.length&&!n.value.length?(pe(),we("div",Co,[zo,Ce(de("select",{"onUpdate:modelValue":W[4]||(W[4]=z=>v.value=z),style:{flex:"1"}},[(pe(!0),we(Ye,null,nt((ee=p.value)==null?void 0:ee.repositories,z=>(pe(),we("option",{value:z.repr,key:z.repr},Fe(z.repr),9,To))),128))],512),[[Et,v.value]])])):Te("",!0),n.value.length?(pe(),we("div",Eo,[l.value?(pe(),we("img",{key:0,src:l.value,class:"autothumb-preview"},null,8,Ao)):Te("",!0)])):Te("",!0),r.value?(pe(),Ee(Tn,{key:6,"animation-speed":100,size:"25px",value:(r.value-n.value.length)/r.value,color:"accent"},{default:me(()=>[de("div",qo,[ce(Yt,{color:"white","text-color":"accent",label:`${r.value-n.value.length} / ${r.value}`},null,8,["label"])])]),_:1},8,["value"])):Te("",!0),h.value?(pe(),Ee(Tn,{key:7,size:"25px","animation-speed":100,value:h.value[0]/h.value[1],color:"accent"},{default:me(()=>[de("div",Bo,[ce(Yt,{color:"white","text-color":"accent",label:`${ye(m)(h.value[0])} / ${ye(m)(h.value[1])}`},null,8,["label"])])]),_:1},8,["value"])):Te("",!0)]}),_:1}),ce(Dt,{align:"right"},{default:me(()=>[ce(Ae,{size:"sm",square:"",color:"negative","text-color":"white",label:"Cancel",onClick:A}),ce(Ae,{color:"positive","text-color":"white",label:"OK",size:"sm",square:"",disable:!!(!p.value||!a.value||n.value.length||s.value.length&&!v.value),onClick:D},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),Io={...Hn,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Jt=50,fr=2*Jt,hr=fr*Math.PI,Oo=Math.round(hr*1e3)/1e3;var Ro=qe({name:"QCircularProgress",props:{...Io,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:m}){const{proxy:{$q:a}}=Pe(),f=Wn(e),t=N(()=>{const p=(a.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(a.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-p}deg)`:`rotate3d(0, 0, 1, ${p-90}deg)`}}),i=N(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),n=N(()=>fr/(1-e.thickness/2)),r=N(()=>`${n.value/2} ${n.value/2} ${n.value} ${n.value}`),l=N(()=>Ne(e.value,e.min,e.max)),v=N(()=>hr*(1-(l.value-e.min)/(e.max-e.min))),h=N(()=>e.thickness/2*n.value);function y({thickness:p,offset:s,color:g,cls:c,rounded:b}){return J("circle",{class:"q-circular-progress__"+c+(g!==void 0?` text-${g}`:""),style:i.value,fill:"transparent",stroke:"currentColor","stroke-width":p,"stroke-dasharray":Oo,"stroke-dashoffset":s,"stroke-linecap":b,cx:n.value,cy:n.value,r:Jt})}return()=>{const p=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&p.push(J("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Jt-h.value/2,cx:n.value,cy:n.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&p.push(y({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),p.push(y({cls:"circle",thickness:h.value,offset:v.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const s=[J("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:r.value,"aria-hidden":"true"},p)];return e.showValue===!0&&s.push(J("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},m.default!==void 0?m.default():[J("div",l.value)])),J("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:f.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},Gr(m.internal,s))}}}),vr={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,m){(function(a){e.exports=a()})(function(){return function a(f,t,i){function n(v,h){if(!t[v]){if(!f[v]){var y=typeof St=="function"&&St;if(!h&&y)return y(v,!0);if(r)return r(v,!0);var p=new Error("Cannot find module '"+v+"'");throw p.code="MODULE_NOT_FOUND",p}var s=t[v]={exports:{}};f[v][0].call(s.exports,function(g){var c=f[v][1][g];return n(c||g)},s,s.exports,a,f,t,i)}return t[v].exports}for(var r=typeof St=="function"&&St,l=0;l<i.length;l++)n(i[l]);return n}({1:[function(a,f,t){var i=a("./utils"),n=a("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(l){for(var v,h,y,p,s,g,c,b=[],d=0,x=l.length,w=x,E=i.getTypeOf(l)!=="string";d<l.length;)w=x-d,y=E?(v=l[d++],h=d<x?l[d++]:0,d<x?l[d++]:0):(v=l.charCodeAt(d++),h=d<x?l.charCodeAt(d++):0,d<x?l.charCodeAt(d++):0),p=v>>2,s=(3&v)<<4|h>>4,g=1<w?(15&h)<<2|y>>6:64,c=2<w?63&y:64,b.push(r.charAt(p)+r.charAt(s)+r.charAt(g)+r.charAt(c));return b.join("")},t.decode=function(l){var v,h,y,p,s,g,c=0,b=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===r.charAt(64)&&w--,l.charAt(l.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=n.uint8array?new Uint8Array(0|w):new Array(0|w);c<l.length;)v=r.indexOf(l.charAt(c++))<<2|(p=r.indexOf(l.charAt(c++)))>>4,h=(15&p)<<4|(s=r.indexOf(l.charAt(c++)))>>2,y=(3&s)<<6|(g=r.indexOf(l.charAt(c++))),x[b++]=v,s!==64&&(x[b++]=h),g!==64&&(x[b++]=y);return x}},{"./support":30,"./utils":32}],2:[function(a,f,t){var i=a("./external"),n=a("./stream/DataWorker"),r=a("./stream/Crc32Probe"),l=a("./stream/DataLengthProbe");function v(h,y,p,s,g){this.compressedSize=h,this.uncompressedSize=y,this.crc32=p,this.compression=s,this.compressedContent=g}v.prototype={getContentWorker:function(){var h=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),y=this;return h.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(h,y,p){return h.pipe(new r).pipe(new l("uncompressedSize")).pipe(y.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",y)},f.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,f,t){var i=a("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,f,t){var i=a("./utils"),n=function(){for(var r,l=[],v=0;v<256;v++){r=v;for(var h=0;h<8;h++)r=1&r?3988292384^r>>>1:r>>>1;l[v]=r}return l}();f.exports=function(r,l){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(v,h,y,p){var s=n,g=p+y;v^=-1;for(var c=p;c<g;c++)v=v>>>8^s[255&(v^h[c])];return-1^v}(0|l,r,r.length,0):function(v,h,y,p){var s=n,g=p+y;v^=-1;for(var c=p;c<g;c++)v=v>>>8^s[255&(v^h.charCodeAt(c))];return-1^v}(0|l,r,r.length,0):0}},{"./utils":32}],5:[function(a,f,t){t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(a,f,t){var i=null;i=typeof Promise!="undefined"?Promise:a("lie"),f.exports={Promise:i}},{lie:37}],7:[function(a,f,t){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",n=a("pako"),r=a("./utils"),l=a("./stream/GenericWorker"),v=i?"uint8array":"array";function h(y,p){l.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=p,this.meta={}}t.magic="\b\0",r.inherits(h,l),h.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(v,y.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(p){y.push({data:p,meta:y.meta})}},t.compressWorker=function(y){return new h("Deflate",y)},t.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,f,t){function i(s,g){var c,b="";for(c=0;c<g;c++)b+=String.fromCharCode(255&s),s>>>=8;return b}function n(s,g,c,b,d,x){var w,E,S=s.file,q=s.compression,A=x!==v.utf8encode,D=r.transformTo("string",x(S.name)),B=r.transformTo("string",v.utf8encode(S.name)),W=S.comment,ee=r.transformTo("string",x(W)),z=r.transformTo("string",v.utf8encode(W)),L=B.length!==S.name.length,u=z.length!==W.length,K="",G="",H="",le=S.dir,ne=S.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!c||(fe.crc32=s.crc32,fe.compressedSize=s.compressedSize,fe.uncompressedSize=s.uncompressedSize);var M=0;g&&(M|=8),A||!L&&!u||(M|=2048);var T=0,Z=0;le&&(T|=16),d==="UNIX"?(Z=798,T|=function(O,R){var V=O;return O||(V=R?16893:33204),(65535&V)<<16}(S.unixPermissions,le)):(Z=20,T|=function(O){return 63&(O||0)}(S.dosPermissions)),w=ne.getUTCHours(),w<<=6,w|=ne.getUTCMinutes(),w<<=5,w|=ne.getUTCSeconds()/2,E=ne.getUTCFullYear()-1980,E<<=4,E|=ne.getUTCMonth()+1,E<<=5,E|=ne.getUTCDate(),L&&(G=i(1,1)+i(h(D),4)+B,K+="up"+i(G.length,2)+G),u&&(H=i(1,1)+i(h(ee),4)+z,K+="uc"+i(H.length,2)+H);var k="";return k+=`
\0`,k+=i(M,2),k+=q.magic,k+=i(w,2),k+=i(E,2),k+=i(fe.crc32,4),k+=i(fe.compressedSize,4),k+=i(fe.uncompressedSize,4),k+=i(D.length,2),k+=i(K.length,2),{fileRecord:y.LOCAL_FILE_HEADER+k+D+K,dirRecord:y.CENTRAL_FILE_HEADER+i(Z,2)+k+i(ee.length,2)+"\0\0\0\0"+i(T,4)+i(b,4)+D+K+ee}}var r=a("../utils"),l=a("../stream/GenericWorker"),v=a("../utf8"),h=a("../crc32"),y=a("../signature");function p(s,g,c,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=c,this.encodeFileName=b,this.streamFiles=s,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(p,l),p.prototype.push=function(s){var g=s.meta.percent||0,c=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(s):(this.bytesWritten+=s.data.length,l.prototype.push.call(this,{data:s.data,meta:{currentFile:this.currentFile,percent:c?(g+100*(c-b-1))/c:100}}))},p.prototype.openedSource=function(s){this.currentSourceOffset=this.bytesWritten,this.currentFile=s.file.name;var g=this.streamFiles&&!s.file.dir;if(g){var c=n(s,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(s){this.accumulate=!1;var g=this.streamFiles&&!s.file.dir,c=n(s,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),g)this.push({data:function(b){return y.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(s),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var s=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var c=this.bytesWritten-s,b=function(d,x,w,E,S){var q=r.transformTo("string",S(E));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(x,4)+i(w,4)+i(q.length,2)+q}(this.dirRecords.length,c,s,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(s){this._sources.push(s);var g=this;return s.on("data",function(c){g.processChunk(c)}),s.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),s.on("error",function(c){g.error(c)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(s){var g=this._sources;if(!l.prototype.error.call(this,s))return!1;for(var c=0;c<g.length;c++)try{g[c].error(s)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var s=this._sources,g=0;g<s.length;g++)s[g].lock()},f.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,f,t){var i=a("../compressions"),n=a("./ZipFileWorker");t.generateWorker=function(r,l,v){var h=new n(l.streamFiles,v,l.platform,l.encodeFileName),y=0;try{r.forEach(function(p,s){y++;var g=function(x,w){var E=x||w,S=i[E];if(!S)throw new Error(E+" is not a valid compression method !");return S}(s.options.compression,l.compression),c=s.options.compressionOptions||l.compressionOptions||{},b=s.dir,d=s.date;s._compressWorker(g,c).withStreamInfo("file",{name:p,dir:b,date:d,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(h)}),h.entriesCount=y}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,f,t){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new i;for(var r in this)typeof this[r]!="function"&&(n[r]=this[r]);return n}}(i.prototype=a("./object")).loadAsync=a("./load"),i.support=a("./support"),i.defaults=a("./defaults"),i.version="3.10.1",i.loadAsync=function(n,r){return new i().loadAsync(n,r)},i.external=a("./external"),f.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,f,t){var i=a("./utils"),n=a("./external"),r=a("./utf8"),l=a("./zipEntries"),v=a("./stream/Crc32Probe"),h=a("./nodejsUtils");function y(p){return new n.Promise(function(s,g){var c=p.decompressed.getContentWorker().pipe(new v);c.on("error",function(b){g(b)}).on("end",function(){c.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):s()}).resume()})}f.exports=function(p,s){var g=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),h.isNode&&h.isStream(p)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,s.optimizedBinaryString,s.base64).then(function(c){var b=new l(s);return b.load(c),b}).then(function(c){var b=[n.Promise.resolve(c)],d=c.files;if(s.checkCRC32)for(var x=0;x<d.length;x++)b.push(y(d[x]));return n.Promise.all(b)}).then(function(c){for(var b=c.shift(),d=b.files,x=0;x<d.length;x++){var w=d[x],E=w.fileNameStr,S=i.resolve(w.fileNameStr);g.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:s.createFolders}),w.dir||(g.file(S).unsafeOriginalName=E)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,f,t){var i=a("../utils"),n=a("../stream/GenericWorker");function r(l,v){n.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(v)}i.inherits(r,n),r.prototype._bindStream=function(l){var v=this;(this._stream=l).pause(),l.on("data",function(h){v.push({data:h,meta:{percent:0}})}).on("error",function(h){v.isPaused?this.generatedError=h:v.error(h)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},r.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,f,t){var i=a("readable-stream").Readable;function n(r,l,v){i.call(this,l),this._helper=r;var h=this;r.on("data",function(y,p){h.push(y)||h._helper.pause(),v&&v(p)}).on("error",function(y){h.emit("error",y)}).on("end",function(){h.push(null)})}a("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},f.exports=n},{"../utils":32,"readable-stream":16}],14:[function(a,f,t){f.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,n);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,n)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var n=new Buffer(i);return n.fill(0),n},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(a,f,t){function i(S,q,A){var D,B=r.getTypeOf(q),W=r.extend(A||{},h);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(S=d(S)),W.createFolders&&(D=b(S))&&x.call(this,D,!0);var ee=B==="string"&&W.binary===!1&&W.base64===!1;A&&A.binary!==void 0||(W.binary=!ee),(q instanceof y&&q.uncompressedSize===0||W.dir||!q||q.length===0)&&(W.base64=!1,W.binary=!0,q="",W.compression="STORE",B="string");var z=null;z=q instanceof y||q instanceof l?q:g.isNode&&g.isStream(q)?new c(S,q):r.prepareContent(S,q,W.binary,W.optimizedBinaryString,W.base64);var L=new p(S,z,W);this.files[S]=L}var n=a("./utf8"),r=a("./utils"),l=a("./stream/GenericWorker"),v=a("./stream/StreamHelper"),h=a("./defaults"),y=a("./compressedObject"),p=a("./zipObject"),s=a("./generate"),g=a("./nodejsUtils"),c=a("./nodejs/NodejsStreamInputAdapter"),b=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var q=S.lastIndexOf("/");return 0<q?S.substring(0,q):""},d=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},x=function(S,q){return q=q!==void 0?q:h.createFolders,S=d(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:q}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var q,A,D;for(q in this.files)D=this.files[q],(A=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&S(A,D)},filter:function(S){var q=[];return this.forEach(function(A,D){S(A,D)&&q.push(D)}),q},file:function(S,q,A){if(arguments.length!==1)return S=this.root+S,i.call(this,S,q,A),this;if(w(S)){var D=S;return this.filter(function(W,ee){return!ee.dir&&D.test(W)})}var B=this.files[this.root+S];return B&&!B.dir?B:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(B,W){return W.dir&&S.test(B)});var q=this.root+S,A=x.call(this,q),D=this.clone();return D.root=A.name,D},remove:function(S){S=this.root+S;var q=this.files[S];if(q||(S.slice(-1)!=="/"&&(S+="/"),q=this.files[S]),q&&!q.dir)delete this.files[S];else for(var A=this.filter(function(B,W){return W.name.slice(0,S.length)===S}),D=0;D<A.length;D++)delete this.files[A[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var q,A={};try{if((A=r.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");r.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var D=A.comment||this.comment||"";q=s.generateWorker(this,A,D)}catch(B){(q=new l("error")).error(B)}return new v(q,A.type||"string",A.mimeType)},generateAsync:function(S,q){return this.generateInternalStream(S).accumulate(q)},generateNodeStream:function(S,q){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(q)}};f.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,f,t){f.exports=a("stream")},{stream:void 0}],17:[function(a,f,t){var i=a("./DataReader");function n(r){i.call(this,r);for(var l=0;l<this.data.length;l++)r[l]=255&r[l]}a("../utils").inherits(n,i),n.prototype.byteAt=function(r){return this.data[this.zero+r]},n.prototype.lastIndexOfSignature=function(r){for(var l=r.charCodeAt(0),v=r.charCodeAt(1),h=r.charCodeAt(2),y=r.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===v&&this.data[p+2]===h&&this.data[p+3]===y)return p-this.zero;return-1},n.prototype.readAndCheckSignature=function(r){var l=r.charCodeAt(0),v=r.charCodeAt(1),h=r.charCodeAt(2),y=r.charCodeAt(3),p=this.readData(4);return l===p[0]&&v===p[1]&&h===p[2]&&y===p[3]},n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./DataReader":18}],18:[function(a,f,t){var i=a("../utils");function n(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var l,v=0;for(this.checkOffset(r),l=this.index+r-1;l>=this.index;l--)v=(v<<8)+this.byteAt(l);return this.index+=r,v},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},f.exports=n},{"../utils":32}],19:[function(a,f,t){var i=a("./Uint8ArrayReader");function n(r){i.call(this,r)}a("../utils").inherits(n,i),n.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,f,t){var i=a("./DataReader");function n(r){i.call(this,r)}a("../utils").inherits(n,i),n.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},n.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},n.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},n.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./DataReader":18}],21:[function(a,f,t){var i=a("./ArrayReader");function n(r){i.call(this,r)}a("../utils").inherits(n,i),n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(a,f,t){var i=a("../utils"),n=a("../support"),r=a("./ArrayReader"),l=a("./StringReader"),v=a("./NodeBufferReader"),h=a("./Uint8ArrayReader");f.exports=function(y){var p=i.getTypeOf(y);return i.checkSupport(p),p!=="string"||n.uint8array?p==="nodebuffer"?new v(y):n.uint8array?new h(i.transformTo("uint8array",y)):new r(i.transformTo("array",y)):new l(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,f,t){t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,f,t){var i=a("./GenericWorker"),n=a("../utils");function r(l){i.call(this,"ConvertWorker to "+l),this.destType=l}n.inherits(r,i),r.prototype.processChunk=function(l){this.push({data:n.transformTo(this.destType,l.data),meta:l.meta})},f.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(a,f,t){var i=a("./GenericWorker"),n=a("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(r,i),r.prototype.processChunk=function(l){this.streamInfo.crc32=n(l.data,this.streamInfo.crc32||0),this.push(l)},f.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,f,t){var i=a("../utils"),n=a("./GenericWorker");function r(l){n.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(r,n),r.prototype.processChunk=function(l){if(l){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+l.data.length}n.prototype.processChunk.call(this,l)},f.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(a,f,t){var i=a("../utils"),n=a("./GenericWorker");function r(l){n.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){v.dataIsReady=!0,v.data=h,v.max=h&&h.length||0,v.type=i.getTypeOf(h),v.isPaused||v._tickAndRepeat()},function(h){v.error(h)})}i.inherits(r,n),r.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,v);break;case"uint8array":l=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":l=this.data.slice(this.index,v)}return this.index=v,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(a,f,t){function i(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,r){return this._listeners[n].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,r){if(this._listeners[n])for(var l=0;l<this._listeners[n].length;l++)this._listeners[n][l].call(this,r)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var r=this;return n.on("data",function(l){r.processChunk(l)}),n.on("end",function(){r.end()}),n.on("error",function(l){r.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,r){return this.extraStreamInfo[n]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},f.exports=i},{}],29:[function(a,f,t){var i=a("../utils"),n=a("./ConvertWorker"),r=a("./GenericWorker"),l=a("../base64"),v=a("../support"),h=a("../external"),y=null;if(v.nodestream)try{y=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,c){return new h.Promise(function(b,d){var x=[],w=g._internalType,E=g._outputType,S=g._mimeType;g.on("data",function(q,A){x.push(q),c&&c(A)}).on("error",function(q){x=[],d(q)}).on("end",function(){try{var q=function(A,D,B){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),B);case"base64":return l.encode(D);default:return i.transformTo(A,D)}}(E,function(A,D){var B,W=0,ee=null,z=0;for(B=0;B<D.length;B++)z+=D[B].length;switch(A){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(ee=new Uint8Array(z),B=0;B<D.length;B++)ee.set(D[B],W),W+=D[B].length;return ee;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+A+"'")}}(w,x),S);b(q)}catch(A){d(A)}x=[]}).resume()})}function s(g,c,b){var d=c;switch(c){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=c,this._mimeType=b,i.checkSupport(d),this._worker=g.pipe(new n(d)),g.lock()}catch(x){this._worker=new r("error"),this._worker.error(x)}}s.prototype={accumulate:function(g){return p(this,g)},on:function(g,c){var b=this;return g==="data"?this._worker.on(g,function(d){c.call(b,d.data,d.meta)}):this._worker.on(g,function(){i.delay(c,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},g)}},f.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,f,t){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",t.nodebuffer=typeof Buffer!="undefined",t.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),t.blob=n.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!a("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(a,f,t){for(var i=a("./utils"),n=a("./support"),r=a("./nodejsUtils"),l=a("./stream/GenericWorker"),v=new Array(256),h=0;h<256;h++)v[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;v[254]=v[254]=1;function y(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}t.utf8encode=function(s){return n.nodebuffer?r.newBufferFrom(s,"utf-8"):function(g){var c,b,d,x,w,E=g.length,S=0;for(x=0;x<E;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<E&&(64512&(d=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(d-56320),x++),S+=b<128?1:b<2048?2:b<65536?3:4;for(c=n.uint8array?new Uint8Array(S):new Array(S),x=w=0;w<S;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<E&&(64512&(d=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(d-56320),x++),b<128?c[w++]=b:(b<2048?c[w++]=192|b>>>6:(b<65536?c[w++]=224|b>>>12:(c[w++]=240|b>>>18,c[w++]=128|b>>>12&63),c[w++]=128|b>>>6&63),c[w++]=128|63&b);return c}(s)},t.utf8decode=function(s){return n.nodebuffer?i.transformTo("nodebuffer",s).toString("utf-8"):function(g){var c,b,d,x,w=g.length,E=new Array(2*w);for(c=b=0;c<w;)if((d=g[c++])<128)E[b++]=d;else if(4<(x=v[d]))E[b++]=65533,c+=x-1;else{for(d&=x===2?31:x===3?15:7;1<x&&c<w;)d=d<<6|63&g[c++],x--;1<x?E[b++]=65533:d<65536?E[b++]=d:(d-=65536,E[b++]=55296|d>>10&1023,E[b++]=56320|1023&d)}return E.length!==b&&(E.subarray?E=E.subarray(0,b):E.length=b),i.applyFromCharCode(E)}(s=i.transformTo(n.uint8array?"uint8array":"array",s))},i.inherits(y,l),y.prototype.processChunk=function(s){var g=i.transformTo(n.uint8array?"uint8array":"array",s.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var c=g;(g=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),g.set(c,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=function(x,w){var E;for((w=w||x.length)>x.length&&(w=x.length),E=w-1;0<=E&&(192&x[E])==128;)E--;return E<0||E===0?w:E+v[x[E]]>w?E:w}(g),d=g;b!==g.length&&(n.uint8array?(d=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(d=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:t.utf8decode(d),meta:s.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=y,i.inherits(p,l),p.prototype.processChunk=function(s){this.push({data:t.utf8encode(s.data),meta:s.meta})},t.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,f,t){var i=a("./support"),n=a("./base64"),r=a("./nodejsUtils"),l=a("./external");function v(c){return c}function h(c,b){for(var d=0;d<c.length;++d)b[d]=255&c.charCodeAt(d);return b}a("setimmediate"),t.newBlob=function(c,b){t.checkSupport("blob");try{return new Blob([c],{type:b})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(c),d.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(c,b,d){var x=[],w=0,E=c.length;if(E<=d)return String.fromCharCode.apply(null,c);for(;w<E;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,c.slice(w,Math.min(w+d,E)))):x.push(String.fromCharCode.apply(null,c.subarray(w,Math.min(w+d,E)))),w+=d;return x.join("")},stringifyByChar:function(c){for(var b="",d=0;d<c.length;d++)b+=String.fromCharCode(c[d]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function p(c){var b=65536,d=t.getTypeOf(c),x=!0;if(d==="uint8array"?x=y.applyCanBeUsed.uint8array:d==="nodebuffer"&&(x=y.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return y.stringifyByChunk(c,d,b)}catch{b=Math.floor(b/2)}return y.stringifyByChar(c)}function s(c,b){for(var d=0;d<c.length;d++)b[d]=c[d];return b}t.applyFromCharCode=p;var g={};g.string={string:v,array:function(c){return h(c,new Array(c.length))},arraybuffer:function(c){return g.string.uint8array(c).buffer},uint8array:function(c){return h(c,new Uint8Array(c.length))},nodebuffer:function(c){return h(c,r.allocBuffer(c.length))}},g.array={string:p,array:v,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return r.newBufferFrom(c)}},g.arraybuffer={string:function(c){return p(new Uint8Array(c))},array:function(c){return s(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:v,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return r.newBufferFrom(new Uint8Array(c))}},g.uint8array={string:p,array:function(c){return s(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:v,nodebuffer:function(c){return r.newBufferFrom(c)}},g.nodebuffer={string:p,array:function(c){return s(c,new Array(c.length))},arraybuffer:function(c){return g.nodebuffer.uint8array(c).buffer},uint8array:function(c){return s(c,new Uint8Array(c.length))},nodebuffer:v},t.transformTo=function(c,b){if(b=b||"",!c)return b;t.checkSupport(c);var d=t.getTypeOf(b);return g[d][c](b)},t.resolve=function(c){for(var b=c.split("/"),d=[],x=0;x<b.length;x++){var w=b[x];w==="."||w===""&&x!==0&&x!==b.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},t.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(c)?"nodebuffer":i.uint8array&&c instanceof Uint8Array?"uint8array":i.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(c){if(!i[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(c){var b,d,x="";for(d=0;d<(c||"").length;d++)x+="\\x"+((b=c.charCodeAt(d))<16?"0":"")+b.toString(16).toUpperCase();return x},t.delay=function(c,b,d){setImmediate(function(){c.apply(d||null,b||[])})},t.inherits=function(c,b){function d(){}d.prototype=b.prototype,c.prototype=new d},t.extend=function(){var c,b,d={};for(c=0;c<arguments.length;c++)for(b in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],b)&&d[b]===void 0&&(d[b]=arguments[c][b]);return d},t.prepareContent=function(c,b,d,x,w){return l.Promise.resolve(b).then(function(E){return i.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(S,q){var A=new FileReader;A.onload=function(D){S(D.target.result)},A.onerror=function(D){q(D.target.error)},A.readAsArrayBuffer(E)}):E}).then(function(E){var S=t.getTypeOf(E);return S?(S==="arraybuffer"?E=t.transformTo("uint8array",E):S==="string"&&(w?E=n.decode(E):d&&x!==!0&&(E=function(q){return h(q,i.uint8array?new Uint8Array(q.length):new Array(q.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,f,t){var i=a("./reader/readerFor"),n=a("./utils"),r=a("./signature"),l=a("./zipEntry"),v=a("./support");function h(y){this.files=[],this.loadOptions=y}h.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(p)+", expected "+n.pretty(y)+")")}},isSignature:function(y,p){var s=this.reader.index;this.reader.setIndex(y);var g=this.reader.readString(4)===p;return this.reader.setIndex(s),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),p=v.uint8array?"uint8array":"array",s=n.transformTo(p,y);this.zipComment=this.loadOptions.decodeFileName(s)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,p,s,g=this.zip64EndOfCentralSize-44;0<g;)y=this.reader.readInt(2),p=this.reader.readInt(4),s=this.reader.readData(p),this.zip64ExtensibleData[y]={id:y,length:p,value:s}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,p;for(y=0;y<this.files.length;y++)p=this.files[y],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(y=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var p=y;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var s=this.centralDirOffset+this.centralDirSize;this.zip64&&(s+=20,s+=12+this.zip64EndOfCentralSize);var g=p-s;if(0<g)this.isSignature(p,r.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(y){this.reader=i(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,f,t){var i=a("./reader/readerFor"),n=a("./utils"),r=a("./compressedObject"),l=a("./crc32"),v=a("./utf8"),h=a("./compressions"),y=a("./support");function p(s,g){this.options=s,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(s){var g,c;if(s.skip(22),this.fileNameLength=s.readInt(2),c=s.readInt(2),this.fileName=s.readData(this.fileNameLength),s.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(b){for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&h[d].magic===b)return h[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,g,s.readData(this.compressedSize))},readCentralPart:function(s){this.versionMadeBy=s.readInt(2),s.skip(2),this.bitFlag=s.readInt(2),this.compressionMethod=s.readString(2),this.date=s.readDate(),this.crc32=s.readInt(4),this.compressedSize=s.readInt(4),this.uncompressedSize=s.readInt(4);var g=s.readInt(2);if(this.extraFieldsLength=s.readInt(2),this.fileCommentLength=s.readInt(2),this.diskNumberStart=s.readInt(2),this.internalFileAttributes=s.readInt(2),this.externalFileAttributes=s.readInt(4),this.localHeaderOffset=s.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");s.skip(g),this.readExtraFields(s),this.parseZIP64ExtraField(s),this.fileComment=s.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var s=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),s==0&&(this.dosPermissions=63&this.externalFileAttributes),s==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var s=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=s.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=s.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=s.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=s.readInt(4))}},readExtraFields:function(s){var g,c,b,d=s.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});s.index+4<d;)g=s.readInt(2),c=s.readInt(2),b=s.readData(c),this.extraFields[g]={id:g,length:c,value:b};s.setIndex(d)},handleUTF8:function(){var s=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var c=n.transformTo(s,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var d=n.transformTo(s,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var s=this.extraFields[28789];if(s){var g=i(s.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:v.utf8decode(g.readData(s.length-5))}return null},findExtraFieldUnicodeComment:function(){var s=this.extraFields[25461];if(s){var g=i(s.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:v.utf8decode(g.readData(s.length-5))}return null}},f.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,f,t){function i(g,c,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=c,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var n=a("./stream/StreamHelper"),r=a("./stream/DataWorker"),l=a("./utf8"),v=a("./compressedObject"),h=a("./stream/GenericWorker");i.prototype={internalStream:function(g){var c=null,b="string";try{if(!g)throw new Error("No output type specified.");var d=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),c=this._decompressWorker();var x=!this._dataBinary;x&&!d&&(c=c.pipe(new l.Utf8EncodeWorker)),!x&&d&&(c=c.pipe(new l.Utf8DecodeWorker))}catch(w){(c=new h("error")).error(w)}return new n(c,b,"")},async:function(g,c){return this.internalStream(g).accumulate(c)},nodeStream:function(g,c){return this.internalStream(g||"nodebuffer").toNodejsStream(c)},_compressWorker:function(g,c){if(this._data instanceof v&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),v.createWorkerFrom(b,g,c)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof h?this._data:new r(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},s=0;s<y.length;s++)i.prototype[y[s]]=p;f.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,f,t){(function(i){var n,r,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var v=0,h=new l(g),y=i.document.createTextNode("");h.observe(y,{characterData:!0}),n=function(){y.data=v=++v%2}}else if(i.setImmediate||i.MessageChannel===void 0)n="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var c=i.document.createElement("script");c.onreadystatechange=function(){g(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},i.document.documentElement.appendChild(c)}:function(){setTimeout(g,0)};else{var p=new i.MessageChannel;p.port1.onmessage=g,n=function(){p.port2.postMessage(0)}}var s=[];function g(){var c,b;r=!0;for(var d=s.length;d;){for(b=s,s=[],c=-1;++c<d;)b[c]();d=s.length}r=!1}f.exports=function(c){s.push(c)!==1||r||n()}}).call(this,typeof xt!="undefined"?xt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(a,f,t){var i=a("immediate");function n(){}var r={},l=["REJECTED"],v=["FULFILLED"],h=["PENDING"];function y(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,d!==n&&c(this,d)}function p(d,x,w){this.promise=d,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function s(d,x,w){i(function(){var E;try{E=x(w)}catch(S){return r.reject(d,S)}E===d?r.reject(d,new TypeError("Cannot resolve promise with itself")):r.resolve(d,E)})}function g(d){var x=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof x=="function")return function(){x.apply(d,arguments)}}function c(d,x){var w=!1;function E(A){w||(w=!0,r.reject(d,A))}function S(A){w||(w=!0,r.resolve(d,A))}var q=b(function(){x(S,E)});q.status==="error"&&E(q.value)}function b(d,x){var w={};try{w.value=d(x),w.status="success"}catch(E){w.status="error",w.value=E}return w}(f.exports=y).prototype.finally=function(d){if(typeof d!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(d()).then(function(){return w})},function(w){return x.resolve(d()).then(function(){throw w})})},y.prototype.catch=function(d){return this.then(null,d)},y.prototype.then=function(d,x){if(typeof d!="function"&&this.state===v||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(n);return this.state!==h?s(w,this.state===v?d:x,this.outcome):this.queue.push(new p(w,d,x)),w},p.prototype.callFulfilled=function(d){r.resolve(this.promise,d)},p.prototype.otherCallFulfilled=function(d){s(this.promise,this.onFulfilled,d)},p.prototype.callRejected=function(d){r.reject(this.promise,d)},p.prototype.otherCallRejected=function(d){s(this.promise,this.onRejected,d)},r.resolve=function(d,x){var w=b(g,x);if(w.status==="error")return r.reject(d,w.value);var E=w.value;if(E)c(d,E);else{d.state=v,d.outcome=x;for(var S=-1,q=d.queue.length;++S<q;)d.queue[S].callFulfilled(x)}return d},r.reject=function(d,x){d.state=l,d.outcome=x;for(var w=-1,E=d.queue.length;++w<E;)d.queue[w].callRejected(x);return d},y.resolve=function(d){return d instanceof this?d:r.resolve(new this(n),d)},y.reject=function(d){var x=new this(n);return r.reject(x,d)},y.all=function(d){var x=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,E=!1;if(!w)return this.resolve([]);for(var S=new Array(w),q=0,A=-1,D=new this(n);++A<w;)B(d[A],A);return D;function B(W,ee){x.resolve(W).then(function(z){S[ee]=z,++q!==w||E||(E=!0,r.resolve(D,S))},function(z){E||(E=!0,r.reject(D,z))})}},y.race=function(d){var x=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,E=!1;if(!w)return this.resolve([]);for(var S=-1,q=new this(n);++S<w;)A=d[S],x.resolve(A).then(function(D){E||(E=!0,r.resolve(q,D))},function(D){E||(E=!0,r.reject(q,D))});var A;return q}},{immediate:36}],38:[function(a,f,t){var i={};(0,a("./lib/utils/common").assign)(i,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),f.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,f,t){var i=a("./zlib/deflate"),n=a("./utils/common"),r=a("./utils/strings"),l=a("./zlib/messages"),v=a("./zlib/zstream"),h=Object.prototype.toString,y=0,p=-1,s=0,g=8;function c(d){if(!(this instanceof c))return new c(d);this.options=n.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},d||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==y)throw new Error(l[w]);if(x.header&&i.deflateSetHeader(this.strm,x.header),x.dictionary){var E;if(E=typeof x.dictionary=="string"?r.string2buf(x.dictionary):h.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=i.deflateSetDictionary(this.strm,E))!==y)throw new Error(l[w]);this._dict_set=!0}}function b(d,x){var w=new c(x);if(w.push(d,!0),w.err)throw w.msg||l[w.err];return w.result}c.prototype.push=function(d,x){var w,E,S=this.strm,q=this.options.chunkSize;if(this.ended)return!1;E=x===~~x?x:x===!0?4:0,typeof d=="string"?S.input=r.string2buf(d):h.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new n.Buf8(q),S.next_out=0,S.avail_out=q),(w=i.deflate(S,E))!==1&&w!==y)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(n.shrinkBuf(S.output,S.next_out))):this.onData(n.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return E===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===y):E!==2||(this.onEnd(y),!(S.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},t.Deflate=c,t.deflate=b,t.deflateRaw=function(d,x){return(x=x||{}).raw=!0,b(d,x)},t.gzip=function(d,x){return(x=x||{}).gzip=!0,b(d,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,f,t){var i=a("./zlib/inflate"),n=a("./utils/common"),r=a("./utils/strings"),l=a("./zlib/constants"),v=a("./zlib/messages"),h=a("./zlib/zstream"),y=a("./zlib/gzheader"),p=Object.prototype.toString;function s(c){if(!(this instanceof s))return new s(c);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},c||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||c&&c.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,b.windowBits);if(d!==l.Z_OK)throw new Error(v[d]);this.header=new y,i.inflateGetHeader(this.strm,this.header)}function g(c,b){var d=new s(b);if(d.push(c,!0),d.err)throw d.msg||v[d.err];return d.result}s.prototype.push=function(c,b){var d,x,w,E,S,q,A=this.strm,D=this.options.chunkSize,B=this.options.dictionary,W=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof c=="string"?A.input=r.binstring2buf(c):p.call(c)==="[object ArrayBuffer]"?A.input=new Uint8Array(c):A.input=c,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new n.Buf8(D),A.next_out=0,A.avail_out=D),(d=i.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&B&&(q=typeof B=="string"?r.string2buf(B):p.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,d=i.inflateSetDictionary(this.strm,q)),d===l.Z_BUF_ERROR&&W===!0&&(d=l.Z_OK,W=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&d!==l.Z_STREAM_END&&(A.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(A.output,A.next_out),E=A.next_out-w,S=r.buf2string(A.output,w),A.next_out=E,A.avail_out=D-E,E&&n.arraySet(A.output,A.output,w,E,0),this.onData(S)):this.onData(n.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(W=!0)}while((0<A.avail_in||A.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},s.prototype.onData=function(c){this.chunks.push(c)},s.prototype.onEnd=function(c){c===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},t.Inflate=s,t.inflate=g,t.inflateRaw=function(c,b){return(b=b||{}).raw=!0,g(c,b)},t.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,f,t){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";t.assign=function(l){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var h=v.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var y in h)h.hasOwnProperty(y)&&(l[y]=h[y])}}return l},t.shrinkBuf=function(l,v){return l.length===v?l:l.subarray?l.subarray(0,v):(l.length=v,l)};var n={arraySet:function(l,v,h,y,p){if(v.subarray&&l.subarray)l.set(v.subarray(h,h+y),p);else for(var s=0;s<y;s++)l[p+s]=v[h+s]},flattenChunks:function(l){var v,h,y,p,s,g;for(v=y=0,h=l.length;v<h;v++)y+=l[v].length;for(g=new Uint8Array(y),v=p=0,h=l.length;v<h;v++)s=l[v],g.set(s,p),p+=s.length;return g}},r={arraySet:function(l,v,h,y,p){for(var s=0;s<y;s++)l[p+s]=v[h+s]},flattenChunks:function(l){return[].concat.apply([],l)}};t.setTyped=function(l){l?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},{}],42:[function(a,f,t){var i=a("./common"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var l=new i.Buf8(256),v=0;v<256;v++)l[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function h(y,p){if(p<65537&&(y.subarray&&r||!y.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(y,p));for(var s="",g=0;g<p;g++)s+=String.fromCharCode(y[g]);return s}l[254]=l[254]=1,t.string2buf=function(y){var p,s,g,c,b,d=y.length,x=0;for(c=0;c<d;c++)(64512&(s=y.charCodeAt(c)))==55296&&c+1<d&&(64512&(g=y.charCodeAt(c+1)))==56320&&(s=65536+(s-55296<<10)+(g-56320),c++),x+=s<128?1:s<2048?2:s<65536?3:4;for(p=new i.Buf8(x),c=b=0;b<x;c++)(64512&(s=y.charCodeAt(c)))==55296&&c+1<d&&(64512&(g=y.charCodeAt(c+1)))==56320&&(s=65536+(s-55296<<10)+(g-56320),c++),s<128?p[b++]=s:(s<2048?p[b++]=192|s>>>6:(s<65536?p[b++]=224|s>>>12:(p[b++]=240|s>>>18,p[b++]=128|s>>>12&63),p[b++]=128|s>>>6&63),p[b++]=128|63&s);return p},t.buf2binstring=function(y){return h(y,y.length)},t.binstring2buf=function(y){for(var p=new i.Buf8(y.length),s=0,g=p.length;s<g;s++)p[s]=y.charCodeAt(s);return p},t.buf2string=function(y,p){var s,g,c,b,d=p||y.length,x=new Array(2*d);for(s=g=0;s<d;)if((c=y[s++])<128)x[g++]=c;else if(4<(b=l[c]))x[g++]=65533,s+=b-1;else{for(c&=b===2?31:b===3?15:7;1<b&&s<d;)c=c<<6|63&y[s++],b--;1<b?x[g++]=65533:c<65536?x[g++]=c:(c-=65536,x[g++]=55296|c>>10&1023,x[g++]=56320|1023&c)}return h(x,g)},t.utf8border=function(y,p){var s;for((p=p||y.length)>y.length&&(p=y.length),s=p-1;0<=s&&(192&y[s])==128;)s--;return s<0||s===0?p:s+l[y[s]]>p?s:p}},{"./common":41}],43:[function(a,f,t){f.exports=function(i,n,r,l){for(var v=65535&i|0,h=i>>>16&65535|0,y=0;r!==0;){for(r-=y=2e3<r?2e3:r;h=h+(v=v+n[l++]|0)|0,--y;);v%=65521,h%=65521}return v|h<<16|0}},{}],44:[function(a,f,t){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,f,t){var i=function(){for(var n,r=[],l=0;l<256;l++){n=l;for(var v=0;v<8;v++)n=1&n?3988292384^n>>>1:n>>>1;r[l]=n}return r}();f.exports=function(n,r,l,v){var h=i,y=v+l;n^=-1;for(var p=v;p<y;p++)n=n>>>8^h[255&(n^r[p])];return-1^n}},{}],46:[function(a,f,t){var i,n=a("../utils/common"),r=a("./trees"),l=a("./adler32"),v=a("./crc32"),h=a("./messages"),y=0,p=4,s=0,g=-2,c=-1,b=4,d=2,x=8,w=9,E=286,S=30,q=19,A=2*E+1,D=15,B=3,W=258,ee=W+B+1,z=42,L=113,u=1,K=2,G=3,H=4;function le(o,Q){return o.msg=h[Q],Q}function ne(o){return(o<<1)-(4<o?9:0)}function fe(o){for(var Q=o.length;0<=--Q;)o[Q]=0}function M(o){var Q=o.state,j=Q.pending;j>o.avail_out&&(j=o.avail_out),j!==0&&(n.arraySet(o.output,Q.pending_buf,Q.pending_out,j,o.next_out),o.next_out+=j,Q.pending_out+=j,o.total_out+=j,o.avail_out-=j,Q.pending-=j,Q.pending===0&&(Q.pending_out=0))}function T(o,Q){r._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,Q),o.block_start=o.strstart,M(o.strm)}function Z(o,Q){o.pending_buf[o.pending++]=Q}function k(o,Q){o.pending_buf[o.pending++]=Q>>>8&255,o.pending_buf[o.pending++]=255&Q}function O(o,Q){var j,C,_=o.max_chain_length,P=o.strstart,Y=o.prev_length,F=o.nice_match,I=o.strstart>o.w_size-ee?o.strstart-(o.w_size-ee):0,X=o.window,ae=o.w_mask,re=o.prev,ue=o.strstart+W,ve=X[P+Y-1],ge=X[P+Y];o.prev_length>=o.good_match&&(_>>=2),F>o.lookahead&&(F=o.lookahead);do if(X[(j=Q)+Y]===ge&&X[j+Y-1]===ve&&X[j]===X[P]&&X[++j]===X[P+1]){P+=2,j++;do;while(X[++P]===X[++j]&&X[++P]===X[++j]&&X[++P]===X[++j]&&X[++P]===X[++j]&&X[++P]===X[++j]&&X[++P]===X[++j]&&X[++P]===X[++j]&&X[++P]===X[++j]&&P<ue);if(C=W-(ue-P),P=ue-W,Y<C){if(o.match_start=Q,F<=(Y=C))break;ve=X[P+Y-1],ge=X[P+Y]}}while((Q=re[Q&ae])>I&&--_!=0);return Y<=o.lookahead?Y:o.lookahead}function R(o){var Q,j,C,_,P,Y,F,I,X,ae,re=o.w_size;do{if(_=o.window_size-o.lookahead-o.strstart,o.strstart>=re+(re-ee)){for(n.arraySet(o.window,o.window,re,re,0),o.match_start-=re,o.strstart-=re,o.block_start-=re,Q=j=o.hash_size;C=o.head[--Q],o.head[Q]=re<=C?C-re:0,--j;);for(Q=j=re;C=o.prev[--Q],o.prev[Q]=re<=C?C-re:0,--j;);_+=re}if(o.strm.avail_in===0)break;if(Y=o.strm,F=o.window,I=o.strstart+o.lookahead,X=_,ae=void 0,ae=Y.avail_in,X<ae&&(ae=X),j=ae===0?0:(Y.avail_in-=ae,n.arraySet(F,Y.input,Y.next_in,ae,I),Y.state.wrap===1?Y.adler=l(Y.adler,F,ae,I):Y.state.wrap===2&&(Y.adler=v(Y.adler,F,ae,I)),Y.next_in+=ae,Y.total_in+=ae,ae),o.lookahead+=j,o.lookahead+o.insert>=B)for(P=o.strstart-o.insert,o.ins_h=o.window[P],o.ins_h=(o.ins_h<<o.hash_shift^o.window[P+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[P+B-1])&o.hash_mask,o.prev[P&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=P,P++,o.insert--,!(o.lookahead+o.insert<B)););}while(o.lookahead<ee&&o.strm.avail_in!==0)}function V(o,Q){for(var j,C;;){if(o.lookahead<ee){if(R(o),o.lookahead<ee&&Q===y)return u;if(o.lookahead===0)break}if(j=0,o.lookahead>=B&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+B-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),j!==0&&o.strstart-j<=o.w_size-ee&&(o.match_length=O(o,j)),o.match_length>=B)if(C=r._tr_tally(o,o.strstart-o.match_start,o.match_length-B),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=B){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+B-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,--o.match_length!=0;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else C=r._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(C&&(T(o,!1),o.strm.avail_out===0))return u}return o.insert=o.strstart<B-1?o.strstart:B-1,Q===p?(T(o,!0),o.strm.avail_out===0?G:H):o.last_lit&&(T(o,!1),o.strm.avail_out===0)?u:K}function $(o,Q){for(var j,C,_;;){if(o.lookahead<ee){if(R(o),o.lookahead<ee&&Q===y)return u;if(o.lookahead===0)break}if(j=0,o.lookahead>=B&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+B-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=B-1,j!==0&&o.prev_length<o.max_lazy_match&&o.strstart-j<=o.w_size-ee&&(o.match_length=O(o,j),o.match_length<=5&&(o.strategy===1||o.match_length===B&&4096<o.strstart-o.match_start)&&(o.match_length=B-1)),o.prev_length>=B&&o.match_length<=o.prev_length){for(_=o.strstart+o.lookahead-B,C=r._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-B),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=_&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+B-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),--o.prev_length!=0;);if(o.match_available=0,o.match_length=B-1,o.strstart++,C&&(T(o,!1),o.strm.avail_out===0))return u}else if(o.match_available){if((C=r._tr_tally(o,0,o.window[o.strstart-1]))&&T(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return u}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(C=r._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<B-1?o.strstart:B-1,Q===p?(T(o,!0),o.strm.avail_out===0?G:H):o.last_lit&&(T(o,!1),o.strm.avail_out===0)?u:K}function U(o,Q,j,C,_){this.good_length=o,this.max_lazy=Q,this.nice_length=j,this.max_chain=C,this.func=_}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*A),this.dyn_dtree=new n.Buf16(2*(2*S+1)),this.bl_tree=new n.Buf16(2*(2*q+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(D+1),this.heap=new n.Buf16(2*E+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*E+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(o){var Q;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=d,(Q=o.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?z:L,o.adler=Q.wrap===2?0:1,Q.last_flush=y,r._tr_init(Q),s):le(o,g)}function se(o){var Q=he(o);return Q===s&&function(j){j.window_size=2*j.w_size,fe(j.head),j.max_lazy_match=i[j.level].max_lazy,j.good_match=i[j.level].good_length,j.nice_match=i[j.level].nice_length,j.max_chain_length=i[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=B-1,j.match_available=0,j.ins_h=0}(o.state),Q}function _e(o,Q,j,C,_,P){if(!o)return g;var Y=1;if(Q===c&&(Q=6),C<0?(Y=0,C=-C):15<C&&(Y=2,C-=16),_<1||w<_||j!==x||C<8||15<C||Q<0||9<Q||P<0||b<P)return le(o,g);C===8&&(C=9);var F=new oe;return(o.state=F).strm=o,F.wrap=Y,F.gzhead=null,F.w_bits=C,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=_+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+B-1)/B),F.window=new n.Buf8(2*F.w_size),F.head=new n.Buf16(F.hash_size),F.prev=new n.Buf16(F.w_size),F.lit_bufsize=1<<_+6,F.pending_buf_size=4*F.lit_bufsize,F.pending_buf=new n.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=Q,F.strategy=P,F.method=j,se(o)}i=[new U(0,0,0,0,function(o,Q){var j=65535;for(j>o.pending_buf_size-5&&(j=o.pending_buf_size-5);;){if(o.lookahead<=1){if(R(o),o.lookahead===0&&Q===y)return u;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var C=o.block_start+j;if((o.strstart===0||o.strstart>=C)&&(o.lookahead=o.strstart-C,o.strstart=C,T(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-ee&&(T(o,!1),o.strm.avail_out===0))return u}return o.insert=0,Q===p?(T(o,!0),o.strm.avail_out===0?G:H):(o.strstart>o.block_start&&(T(o,!1),o.strm.avail_out),u)}),new U(4,4,8,4,V),new U(4,5,16,8,V),new U(4,6,32,32,V),new U(4,4,16,16,$),new U(8,16,32,32,$),new U(8,16,128,128,$),new U(8,32,128,256,$),new U(32,128,258,1024,$),new U(32,258,258,4096,$)],t.deflateInit=function(o,Q){return _e(o,Q,x,15,8,0)},t.deflateInit2=_e,t.deflateReset=se,t.deflateResetKeep=he,t.deflateSetHeader=function(o,Q){return o&&o.state?o.state.wrap!==2?g:(o.state.gzhead=Q,s):g},t.deflate=function(o,Q){var j,C,_,P;if(!o||!o.state||5<Q||Q<0)return o?le(o,g):g;if(C=o.state,!o.output||!o.input&&o.avail_in!==0||C.status===666&&Q!==p)return le(o,o.avail_out===0?-5:g);if(C.strm=o,j=C.last_flush,C.last_flush=Q,C.status===z)if(C.wrap===2)o.adler=0,Z(C,31),Z(C,139),Z(C,8),C.gzhead?(Z(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Z(C,255&C.gzhead.time),Z(C,C.gzhead.time>>8&255),Z(C,C.gzhead.time>>16&255),Z(C,C.gzhead.time>>24&255),Z(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Z(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Z(C,255&C.gzhead.extra.length),Z(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(o.adler=v(o.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Z(C,0),Z(C,0),Z(C,0),Z(C,0),Z(C,0),Z(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Z(C,3),C.status=L);else{var Y=x+(C.w_bits-8<<4)<<8;Y|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(Y|=32),Y+=31-Y%31,C.status=L,k(C,Y),C.strstart!==0&&(k(C,o.adler>>>16),k(C,65535&o.adler)),o.adler=1}if(C.status===69)if(C.gzhead.extra){for(_=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>_&&(o.adler=v(o.adler,C.pending_buf,C.pending-_,_)),M(o),_=C.pending,C.pending!==C.pending_buf_size));)Z(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>_&&(o.adler=v(o.adler,C.pending_buf,C.pending-_,_)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(o.adler=v(o.adler,C.pending_buf,C.pending-_,_)),M(o),_=C.pending,C.pending===C.pending_buf_size)){P=1;break}P=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Z(C,P)}while(P!==0);C.gzhead.hcrc&&C.pending>_&&(o.adler=v(o.adler,C.pending_buf,C.pending-_,_)),P===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){_=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>_&&(o.adler=v(o.adler,C.pending_buf,C.pending-_,_)),M(o),_=C.pending,C.pending===C.pending_buf_size)){P=1;break}P=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Z(C,P)}while(P!==0);C.gzhead.hcrc&&C.pending>_&&(o.adler=v(o.adler,C.pending_buf,C.pending-_,_)),P===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&M(o),C.pending+2<=C.pending_buf_size&&(Z(C,255&o.adler),Z(C,o.adler>>8&255),o.adler=0,C.status=L)):C.status=L),C.pending!==0){if(M(o),o.avail_out===0)return C.last_flush=-1,s}else if(o.avail_in===0&&ne(Q)<=ne(j)&&Q!==p)return le(o,-5);if(C.status===666&&o.avail_in!==0)return le(o,-5);if(o.avail_in!==0||C.lookahead!==0||Q!==y&&C.status!==666){var F=C.strategy===2?function(I,X){for(var ae;;){if(I.lookahead===0&&(R(I),I.lookahead===0)){if(X===y)return u;break}if(I.match_length=0,ae=r._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,ae&&(T(I,!1),I.strm.avail_out===0))return u}return I.insert=0,X===p?(T(I,!0),I.strm.avail_out===0?G:H):I.last_lit&&(T(I,!1),I.strm.avail_out===0)?u:K}(C,Q):C.strategy===3?function(I,X){for(var ae,re,ue,ve,ge=I.window;;){if(I.lookahead<=W){if(R(I),I.lookahead<=W&&X===y)return u;if(I.lookahead===0)break}if(I.match_length=0,I.lookahead>=B&&0<I.strstart&&(re=ge[ue=I.strstart-1])===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]){ve=I.strstart+W;do;while(re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&ue<ve);I.match_length=W-(ve-ue),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=B?(ae=r._tr_tally(I,1,I.match_length-B),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(ae=r._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),ae&&(T(I,!1),I.strm.avail_out===0))return u}return I.insert=0,X===p?(T(I,!0),I.strm.avail_out===0?G:H):I.last_lit&&(T(I,!1),I.strm.avail_out===0)?u:K}(C,Q):i[C.level].func(C,Q);if(F!==G&&F!==H||(C.status=666),F===u||F===G)return o.avail_out===0&&(C.last_flush=-1),s;if(F===K&&(Q===1?r._tr_align(C):Q!==5&&(r._tr_stored_block(C,0,0,!1),Q===3&&(fe(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),M(o),o.avail_out===0))return C.last_flush=-1,s}return Q!==p?s:C.wrap<=0?1:(C.wrap===2?(Z(C,255&o.adler),Z(C,o.adler>>8&255),Z(C,o.adler>>16&255),Z(C,o.adler>>24&255),Z(C,255&o.total_in),Z(C,o.total_in>>8&255),Z(C,o.total_in>>16&255),Z(C,o.total_in>>24&255)):(k(C,o.adler>>>16),k(C,65535&o.adler)),M(o),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?s:1)},t.deflateEnd=function(o){var Q;return o&&o.state?(Q=o.state.status)!==z&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==L&&Q!==666?le(o,g):(o.state=null,Q===L?le(o,-3):s):g},t.deflateSetDictionary=function(o,Q){var j,C,_,P,Y,F,I,X,ae=Q.length;if(!o||!o.state||(P=(j=o.state).wrap)===2||P===1&&j.status!==z||j.lookahead)return g;for(P===1&&(o.adler=l(o.adler,Q,ae,0)),j.wrap=0,ae>=j.w_size&&(P===0&&(fe(j.head),j.strstart=0,j.block_start=0,j.insert=0),X=new n.Buf8(j.w_size),n.arraySet(X,Q,ae-j.w_size,j.w_size,0),Q=X,ae=j.w_size),Y=o.avail_in,F=o.next_in,I=o.input,o.avail_in=ae,o.next_in=0,o.input=Q,R(j);j.lookahead>=B;){for(C=j.strstart,_=j.lookahead-(B-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[C+B-1])&j.hash_mask,j.prev[C&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=C,C++,--_;);j.strstart=C,j.lookahead=B-1,R(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=B-1,j.match_available=0,o.next_in=F,o.input=I,o.avail_in=Y,j.wrap=P,s},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,f,t){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,f,t){f.exports=function(i,n){var r,l,v,h,y,p,s,g,c,b,d,x,w,E,S,q,A,D,B,W,ee,z,L,u,K;r=i.state,l=i.next_in,u=i.input,v=l+(i.avail_in-5),h=i.next_out,K=i.output,y=h-(n-i.avail_out),p=h+(i.avail_out-257),s=r.dmax,g=r.wsize,c=r.whave,b=r.wnext,d=r.window,x=r.hold,w=r.bits,E=r.lencode,S=r.distcode,q=(1<<r.lenbits)-1,A=(1<<r.distbits)-1;e:do{w<15&&(x+=u[l++]<<w,w+=8,x+=u[l++]<<w,w+=8),D=E[x&q];t:for(;;){if(x>>>=B=D>>>24,w-=B,(B=D>>>16&255)===0)K[h++]=65535&D;else{if(!(16&B)){if((64&B)==0){D=E[(65535&D)+(x&(1<<B)-1)];continue t}if(32&B){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}W=65535&D,(B&=15)&&(w<B&&(x+=u[l++]<<w,w+=8),W+=x&(1<<B)-1,x>>>=B,w-=B),w<15&&(x+=u[l++]<<w,w+=8,x+=u[l++]<<w,w+=8),D=S[x&A];n:for(;;){if(x>>>=B=D>>>24,w-=B,!(16&(B=D>>>16&255))){if((64&B)==0){D=S[(65535&D)+(x&(1<<B)-1)];continue n}i.msg="invalid distance code",r.mode=30;break e}if(ee=65535&D,w<(B&=15)&&(x+=u[l++]<<w,(w+=8)<B&&(x+=u[l++]<<w,w+=8)),s<(ee+=x&(1<<B)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(x>>>=B,w-=B,(B=h-y)<ee){if(c<(B=ee-B)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(L=d,(z=0)===b){if(z+=g-B,B<W){for(W-=B;K[h++]=d[z++],--B;);z=h-ee,L=K}}else if(b<B){if(z+=g+b-B,(B-=b)<W){for(W-=B;K[h++]=d[z++],--B;);if(z=0,b<W){for(W-=B=b;K[h++]=d[z++],--B;);z=h-ee,L=K}}}else if(z+=b-B,B<W){for(W-=B;K[h++]=d[z++],--B;);z=h-ee,L=K}for(;2<W;)K[h++]=L[z++],K[h++]=L[z++],K[h++]=L[z++],W-=3;W&&(K[h++]=L[z++],1<W&&(K[h++]=L[z++]))}else{for(z=h-ee;K[h++]=K[z++],K[h++]=K[z++],K[h++]=K[z++],2<(W-=3););W&&(K[h++]=K[z++],1<W&&(K[h++]=K[z++]))}break}}break}}while(l<v&&h<p);l-=W=w>>3,x&=(1<<(w-=W<<3))-1,i.next_in=l,i.next_out=h,i.avail_in=l<v?v-l+5:5-(l-v),i.avail_out=h<p?p-h+257:257-(h-p),r.hold=x,r.bits=w}},{}],49:[function(a,f,t){var i=a("../utils/common"),n=a("./adler32"),r=a("./crc32"),l=a("./inffast"),v=a("./inftrees"),h=1,y=2,p=0,s=-2,g=1,c=852,b=592;function d(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(z){var L;return z&&z.state?(L=z.state,z.total_in=z.total_out=L.total=0,z.msg="",L.wrap&&(z.adler=1&L.wrap),L.mode=g,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new i.Buf32(c),L.distcode=L.distdyn=new i.Buf32(b),L.sane=1,L.back=-1,p):s}function E(z){var L;return z&&z.state?((L=z.state).wsize=0,L.whave=0,L.wnext=0,w(z)):s}function S(z,L){var u,K;return z&&z.state?(K=z.state,L<0?(u=0,L=-L):(u=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?s:(K.window!==null&&K.wbits!==L&&(K.window=null),K.wrap=u,K.wbits=L,E(z))):s}function q(z,L){var u,K;return z?(K=new x,(z.state=K).window=null,(u=S(z,L))!==p&&(z.state=null),u):s}var A,D,B=!0;function W(z){if(B){var L;for(A=new i.Buf32(512),D=new i.Buf32(32),L=0;L<144;)z.lens[L++]=8;for(;L<256;)z.lens[L++]=9;for(;L<280;)z.lens[L++]=7;for(;L<288;)z.lens[L++]=8;for(v(h,z.lens,0,288,A,0,z.work,{bits:9}),L=0;L<32;)z.lens[L++]=5;v(y,z.lens,0,32,D,0,z.work,{bits:5}),B=!1}z.lencode=A,z.lenbits=9,z.distcode=D,z.distbits=5}function ee(z,L,u,K){var G,H=z.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new i.Buf8(H.wsize)),K>=H.wsize?(i.arraySet(H.window,L,u-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(K<(G=H.wsize-H.wnext)&&(G=K),i.arraySet(H.window,L,u-K,G,H.wnext),(K-=G)?(i.arraySet(H.window,L,u-K,K,0),H.wnext=K,H.whave=H.wsize):(H.wnext+=G,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=G))),0}t.inflateReset=E,t.inflateReset2=S,t.inflateResetKeep=w,t.inflateInit=function(z){return q(z,15)},t.inflateInit2=q,t.inflate=function(z,L){var u,K,G,H,le,ne,fe,M,T,Z,k,O,R,V,$,U,oe,he,se,_e,o,Q,j,C,_=0,P=new i.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return s;(u=z.state).mode===12&&(u.mode=13),le=z.next_out,G=z.output,fe=z.avail_out,H=z.next_in,K=z.input,ne=z.avail_in,M=u.hold,T=u.bits,Z=ne,k=fe,Q=p;e:for(;;)switch(u.mode){case g:if(u.wrap===0){u.mode=13;break}for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(2&u.wrap&&M===35615){P[u.check=0]=255&M,P[1]=M>>>8&255,u.check=r(u.check,P,2,0),T=M=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&M)<<8)+(M>>8))%31){z.msg="incorrect header check",u.mode=30;break}if((15&M)!=8){z.msg="unknown compression method",u.mode=30;break}if(T-=4,o=8+(15&(M>>>=4)),u.wbits===0)u.wbits=o;else if(o>u.wbits){z.msg="invalid window size",u.mode=30;break}u.dmax=1<<o,z.adler=u.check=1,u.mode=512&M?10:12,T=M=0;break;case 2:for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(u.flags=M,(255&u.flags)!=8){z.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){z.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=M>>8&1),512&u.flags&&(P[0]=255&M,P[1]=M>>>8&255,u.check=r(u.check,P,2,0)),T=M=0,u.mode=3;case 3:for(;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.head&&(u.head.time=M),512&u.flags&&(P[0]=255&M,P[1]=M>>>8&255,P[2]=M>>>16&255,P[3]=M>>>24&255,u.check=r(u.check,P,4,0)),T=M=0,u.mode=4;case 4:for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.head&&(u.head.xflags=255&M,u.head.os=M>>8),512&u.flags&&(P[0]=255&M,P[1]=M>>>8&255,u.check=r(u.check,P,2,0)),T=M=0,u.mode=5;case 5:if(1024&u.flags){for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.length=M,u.head&&(u.head.extra_len=M),512&u.flags&&(P[0]=255&M,P[1]=M>>>8&255,u.check=r(u.check,P,2,0)),T=M=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(ne<(O=u.length)&&(O=ne),O&&(u.head&&(o=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),i.arraySet(u.head.extra,K,H,O,o)),512&u.flags&&(u.check=r(u.check,K,O,H)),ne-=O,H+=O,u.length-=O),u.length))break e;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(ne===0)break e;for(O=0;o=K[H+O++],u.head&&o&&u.length<65536&&(u.head.name+=String.fromCharCode(o)),o&&O<ne;);if(512&u.flags&&(u.check=r(u.check,K,O,H)),ne-=O,H+=O,o)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(ne===0)break e;for(O=0;o=K[H+O++],u.head&&o&&u.length<65536&&(u.head.comment+=String.fromCharCode(o)),o&&O<ne;);if(512&u.flags&&(u.check=r(u.check,K,O,H)),ne-=O,H+=O,o)break e}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(M!==(65535&u.check)){z.msg="header crc mismatch",u.mode=30;break}T=M=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),z.adler=u.check=0,u.mode=12;break;case 10:for(;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}z.adler=u.check=d(M),T=M=0,u.mode=11;case 11:if(u.havedict===0)return z.next_out=le,z.avail_out=fe,z.next_in=H,z.avail_in=ne,u.hold=M,u.bits=T,2;z.adler=u.check=1,u.mode=12;case 12:if(L===5||L===6)break e;case 13:if(u.last){M>>>=7&T,T-=7&T,u.mode=27;break}for(;T<3;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}switch(u.last=1&M,T-=1,3&(M>>>=1)){case 0:u.mode=14;break;case 1:if(W(u),u.mode=20,L!==6)break;M>>>=2,T-=2;break e;case 2:u.mode=17;break;case 3:z.msg="invalid block type",u.mode=30}M>>>=2,T-=2;break;case 14:for(M>>>=7&T,T-=7&T;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if((65535&M)!=(M>>>16^65535)){z.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&M,T=M=0,u.mode=15,L===6)break e;case 15:u.mode=16;case 16:if(O=u.length){if(ne<O&&(O=ne),fe<O&&(O=fe),O===0)break e;i.arraySet(G,K,H,O,le),ne-=O,H+=O,fe-=O,le+=O,u.length-=O;break}u.mode=12;break;case 17:for(;T<14;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(u.nlen=257+(31&M),M>>>=5,T-=5,u.ndist=1+(31&M),M>>>=5,T-=5,u.ncode=4+(15&M),M>>>=4,T-=4,286<u.nlen||30<u.ndist){z.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;T<3;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.lens[Y[u.have++]]=7&M,M>>>=3,T-=3}for(;u.have<19;)u.lens[Y[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,j={bits:u.lenbits},Q=v(0,u.lens,0,19,u.lencode,0,u.work,j),u.lenbits=j.bits,Q){z.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;U=(_=u.lencode[M&(1<<u.lenbits)-1])>>>16&255,oe=65535&_,!(($=_>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(oe<16)M>>>=$,T-=$,u.lens[u.have++]=oe;else{if(oe===16){for(C=$+2;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(M>>>=$,T-=$,u.have===0){z.msg="invalid bit length repeat",u.mode=30;break}o=u.lens[u.have-1],O=3+(3&M),M>>>=2,T-=2}else if(oe===17){for(C=$+3;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}T-=$,o=0,O=3+(7&(M>>>=$)),M>>>=3,T-=3}else{for(C=$+7;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}T-=$,o=0,O=11+(127&(M>>>=$)),M>>>=7,T-=7}if(u.have+O>u.nlen+u.ndist){z.msg="invalid bit length repeat",u.mode=30;break}for(;O--;)u.lens[u.have++]=o}}if(u.mode===30)break;if(u.lens[256]===0){z.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,j={bits:u.lenbits},Q=v(h,u.lens,0,u.nlen,u.lencode,0,u.work,j),u.lenbits=j.bits,Q){z.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,j={bits:u.distbits},Q=v(y,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,j),u.distbits=j.bits,Q){z.msg="invalid distances set",u.mode=30;break}if(u.mode=20,L===6)break e;case 20:u.mode=21;case 21:if(6<=ne&&258<=fe){z.next_out=le,z.avail_out=fe,z.next_in=H,z.avail_in=ne,u.hold=M,u.bits=T,l(z,k),le=z.next_out,G=z.output,fe=z.avail_out,H=z.next_in,K=z.input,ne=z.avail_in,M=u.hold,T=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;U=(_=u.lencode[M&(1<<u.lenbits)-1])>>>16&255,oe=65535&_,!(($=_>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(U&&(240&U)==0){for(he=$,se=U,_e=oe;U=(_=u.lencode[_e+((M&(1<<he+se)-1)>>he)])>>>16&255,oe=65535&_,!(he+($=_>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}M>>>=he,T-=he,u.back+=he}if(M>>>=$,T-=$,u.back+=$,u.length=oe,U===0){u.mode=26;break}if(32&U){u.back=-1,u.mode=12;break}if(64&U){z.msg="invalid literal/length code",u.mode=30;break}u.extra=15&U,u.mode=22;case 22:if(u.extra){for(C=u.extra;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.length+=M&(1<<u.extra)-1,M>>>=u.extra,T-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;U=(_=u.distcode[M&(1<<u.distbits)-1])>>>16&255,oe=65535&_,!(($=_>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if((240&U)==0){for(he=$,se=U,_e=oe;U=(_=u.distcode[_e+((M&(1<<he+se)-1)>>he)])>>>16&255,oe=65535&_,!(he+($=_>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}M>>>=he,T-=he,u.back+=he}if(M>>>=$,T-=$,u.back+=$,64&U){z.msg="invalid distance code",u.mode=30;break}u.offset=oe,u.extra=15&U,u.mode=24;case 24:if(u.extra){for(C=u.extra;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.offset+=M&(1<<u.extra)-1,M>>>=u.extra,T-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){z.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(fe===0)break e;if(O=k-fe,u.offset>O){if((O=u.offset-O)>u.whave&&u.sane){z.msg="invalid distance too far back",u.mode=30;break}R=O>u.wnext?(O-=u.wnext,u.wsize-O):u.wnext-O,O>u.length&&(O=u.length),V=u.window}else V=G,R=le-u.offset,O=u.length;for(fe<O&&(O=fe),fe-=O,u.length-=O;G[le++]=V[R++],--O;);u.length===0&&(u.mode=21);break;case 26:if(fe===0)break e;G[le++]=u.length,fe--,u.mode=21;break;case 27:if(u.wrap){for(;T<32;){if(ne===0)break e;ne--,M|=K[H++]<<T,T+=8}if(k-=fe,z.total_out+=k,u.total+=k,k&&(z.adler=u.check=u.flags?r(u.check,G,k,le-k):n(u.check,G,k,le-k)),k=fe,(u.flags?M:d(M))!==u.check){z.msg="incorrect data check",u.mode=30;break}T=M=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(M!==(4294967295&u.total)){z.msg="incorrect length check",u.mode=30;break}T=M=0}u.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return s}return z.next_out=le,z.avail_out=fe,z.next_in=H,z.avail_in=ne,u.hold=M,u.bits=T,(u.wsize||k!==z.avail_out&&u.mode<30&&(u.mode<27||L!==4))&&ee(z,z.output,z.next_out,k-z.avail_out)?(u.mode=31,-4):(Z-=z.avail_in,k-=z.avail_out,z.total_in+=Z,z.total_out+=k,u.total+=k,u.wrap&&k&&(z.adler=u.check=u.flags?r(u.check,G,k,z.next_out-k):n(u.check,G,k,z.next_out-k)),z.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(Z==0&&k===0||L===4)&&Q===p&&(Q=-5),Q)},t.inflateEnd=function(z){if(!z||!z.state)return s;var L=z.state;return L.window&&(L.window=null),z.state=null,p},t.inflateGetHeader=function(z,L){var u;return z&&z.state?(2&(u=z.state).wrap)==0?s:((u.head=L).done=!1,p):s},t.inflateSetDictionary=function(z,L){var u,K=L.length;return z&&z.state?(u=z.state).wrap!==0&&u.mode!==11?s:u.mode===11&&n(1,L,K,0)!==u.check?-3:ee(z,L,K,K)?(u.mode=31,-4):(u.havedict=1,p):s},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,f,t){var i=a("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(h,y,p,s,g,c,b,d){var x,w,E,S,q,A,D,B,W,ee=d.bits,z=0,L=0,u=0,K=0,G=0,H=0,le=0,ne=0,fe=0,M=0,T=null,Z=0,k=new i.Buf16(16),O=new i.Buf16(16),R=null,V=0;for(z=0;z<=15;z++)k[z]=0;for(L=0;L<s;L++)k[y[p+L]]++;for(G=ee,K=15;1<=K&&k[K]===0;K--);if(K<G&&(G=K),K===0)return g[c++]=20971520,g[c++]=20971520,d.bits=1,0;for(u=1;u<K&&k[u]===0;u++);for(G<u&&(G=u),z=ne=1;z<=15;z++)if(ne<<=1,(ne-=k[z])<0)return-1;if(0<ne&&(h===0||K!==1))return-1;for(O[1]=0,z=1;z<15;z++)O[z+1]=O[z]+k[z];for(L=0;L<s;L++)y[p+L]!==0&&(b[O[y[p+L]]++]=L);if(A=h===0?(T=R=b,19):h===1?(T=n,Z-=257,R=r,V-=257,256):(T=l,R=v,-1),z=u,q=c,le=L=M=0,E=-1,S=(fe=1<<(H=G))-1,h===1&&852<fe||h===2&&592<fe)return 1;for(;;){for(D=z-le,W=b[L]<A?(B=0,b[L]):b[L]>A?(B=R[V+b[L]],T[Z+b[L]]):(B=96,0),x=1<<z-le,u=w=1<<H;g[q+(M>>le)+(w-=x)]=D<<24|B<<16|W|0,w!==0;);for(x=1<<z-1;M&x;)x>>=1;if(x!==0?(M&=x-1,M+=x):M=0,L++,--k[z]==0){if(z===K)break;z=y[p+b[L]]}if(G<z&&(M&S)!==E){for(le===0&&(le=G),q+=u,ne=1<<(H=z-le);H+le<K&&!((ne-=k[H+le])<=0);)H++,ne<<=1;if(fe+=1<<H,h===1&&852<fe||h===2&&592<fe)return 1;g[E=M&S]=G<<24|H<<16|q-c|0}}return M!==0&&(g[q+M]=z-le<<24|64<<16|0),d.bits=G,0}},{"../utils/common":41}],51:[function(a,f,t){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,f,t){var i=a("../utils/common"),n=0,r=1;function l(_){for(var P=_.length;0<=--P;)_[P]=0}var v=0,h=29,y=256,p=y+1+h,s=30,g=19,c=2*p+1,b=15,d=16,x=7,w=256,E=16,S=17,q=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=new Array(2*(p+2));l(ee);var z=new Array(2*s);l(z);var L=new Array(512);l(L);var u=new Array(256);l(u);var K=new Array(h);l(K);var G,H,le,ne=new Array(s);function fe(_,P,Y,F,I){this.static_tree=_,this.extra_bits=P,this.extra_base=Y,this.elems=F,this.max_length=I,this.has_stree=_&&_.length}function M(_,P){this.dyn_tree=_,this.max_code=0,this.stat_desc=P}function T(_){return _<256?L[_]:L[256+(_>>>7)]}function Z(_,P){_.pending_buf[_.pending++]=255&P,_.pending_buf[_.pending++]=P>>>8&255}function k(_,P,Y){_.bi_valid>d-Y?(_.bi_buf|=P<<_.bi_valid&65535,Z(_,_.bi_buf),_.bi_buf=P>>d-_.bi_valid,_.bi_valid+=Y-d):(_.bi_buf|=P<<_.bi_valid&65535,_.bi_valid+=Y)}function O(_,P,Y){k(_,Y[2*P],Y[2*P+1])}function R(_,P){for(var Y=0;Y|=1&_,_>>>=1,Y<<=1,0<--P;);return Y>>>1}function V(_,P,Y){var F,I,X=new Array(b+1),ae=0;for(F=1;F<=b;F++)X[F]=ae=ae+Y[F-1]<<1;for(I=0;I<=P;I++){var re=_[2*I+1];re!==0&&(_[2*I]=R(X[re]++,re))}}function $(_){var P;for(P=0;P<p;P++)_.dyn_ltree[2*P]=0;for(P=0;P<s;P++)_.dyn_dtree[2*P]=0;for(P=0;P<g;P++)_.bl_tree[2*P]=0;_.dyn_ltree[2*w]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function U(_){8<_.bi_valid?Z(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function oe(_,P,Y,F){var I=2*P,X=2*Y;return _[I]<_[X]||_[I]===_[X]&&F[P]<=F[Y]}function he(_,P,Y){for(var F=_.heap[Y],I=Y<<1;I<=_.heap_len&&(I<_.heap_len&&oe(P,_.heap[I+1],_.heap[I],_.depth)&&I++,!oe(P,F,_.heap[I],_.depth));)_.heap[Y]=_.heap[I],Y=I,I<<=1;_.heap[Y]=F}function se(_,P,Y){var F,I,X,ae,re=0;if(_.last_lit!==0)for(;F=_.pending_buf[_.d_buf+2*re]<<8|_.pending_buf[_.d_buf+2*re+1],I=_.pending_buf[_.l_buf+re],re++,F===0?O(_,I,P):(O(_,(X=u[I])+y+1,P),(ae=A[X])!==0&&k(_,I-=K[X],ae),O(_,X=T(--F),Y),(ae=D[X])!==0&&k(_,F-=ne[X],ae)),re<_.last_lit;);O(_,w,P)}function _e(_,P){var Y,F,I,X=P.dyn_tree,ae=P.stat_desc.static_tree,re=P.stat_desc.has_stree,ue=P.stat_desc.elems,ve=-1;for(_.heap_len=0,_.heap_max=c,Y=0;Y<ue;Y++)X[2*Y]!==0?(_.heap[++_.heap_len]=ve=Y,_.depth[Y]=0):X[2*Y+1]=0;for(;_.heap_len<2;)X[2*(I=_.heap[++_.heap_len]=ve<2?++ve:0)]=1,_.depth[I]=0,_.opt_len--,re&&(_.static_len-=ae[2*I+1]);for(P.max_code=ve,Y=_.heap_len>>1;1<=Y;Y--)he(_,X,Y);for(I=ue;Y=_.heap[1],_.heap[1]=_.heap[_.heap_len--],he(_,X,1),F=_.heap[1],_.heap[--_.heap_max]=Y,_.heap[--_.heap_max]=F,X[2*I]=X[2*Y]+X[2*F],_.depth[I]=(_.depth[Y]>=_.depth[F]?_.depth[Y]:_.depth[F])+1,X[2*Y+1]=X[2*F+1]=I,_.heap[1]=I++,he(_,X,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(ge,ze){var je,Le,Ze,te,be,xe,ke=ze.dyn_tree,Ie=ze.max_code,We=ze.stat_desc.static_tree,dt=ze.stat_desc.has_stree,ft=ze.stat_desc.extra_bits,sn=ze.stat_desc.extra_base,ht=ze.stat_desc.max_length,wt=0;for(te=0;te<=b;te++)ge.bl_count[te]=0;for(ke[2*ge.heap[ge.heap_max]+1]=0,je=ge.heap_max+1;je<c;je++)ht<(te=ke[2*ke[2*(Le=ge.heap[je])+1]+1]+1)&&(te=ht,wt++),ke[2*Le+1]=te,Ie<Le||(ge.bl_count[te]++,be=0,sn<=Le&&(be=ft[Le-sn]),xe=ke[2*Le],ge.opt_len+=xe*(te+be),dt&&(ge.static_len+=xe*(We[2*Le+1]+be)));if(wt!==0){do{for(te=ht-1;ge.bl_count[te]===0;)te--;ge.bl_count[te]--,ge.bl_count[te+1]+=2,ge.bl_count[ht]--,wt-=2}while(0<wt);for(te=ht;te!==0;te--)for(Le=ge.bl_count[te];Le!==0;)Ie<(Ze=ge.heap[--je])||(ke[2*Ze+1]!==te&&(ge.opt_len+=(te-ke[2*Ze+1])*ke[2*Ze],ke[2*Ze+1]=te),Le--)}}(_,P),V(X,ve,_.bl_count)}function o(_,P,Y){var F,I,X=-1,ae=P[1],re=0,ue=7,ve=4;for(ae===0&&(ue=138,ve=3),P[2*(Y+1)+1]=65535,F=0;F<=Y;F++)I=ae,ae=P[2*(F+1)+1],++re<ue&&I===ae||(re<ve?_.bl_tree[2*I]+=re:I!==0?(I!==X&&_.bl_tree[2*I]++,_.bl_tree[2*E]++):re<=10?_.bl_tree[2*S]++:_.bl_tree[2*q]++,X=I,ve=(re=0)===ae?(ue=138,3):I===ae?(ue=6,3):(ue=7,4))}function Q(_,P,Y){var F,I,X=-1,ae=P[1],re=0,ue=7,ve=4;for(ae===0&&(ue=138,ve=3),F=0;F<=Y;F++)if(I=ae,ae=P[2*(F+1)+1],!(++re<ue&&I===ae)){if(re<ve)for(;O(_,I,_.bl_tree),--re!=0;);else I!==0?(I!==X&&(O(_,I,_.bl_tree),re--),O(_,E,_.bl_tree),k(_,re-3,2)):re<=10?(O(_,S,_.bl_tree),k(_,re-3,3)):(O(_,q,_.bl_tree),k(_,re-11,7));X=I,ve=(re=0)===ae?(ue=138,3):I===ae?(ue=6,3):(ue=7,4)}}l(ne);var j=!1;function C(_,P,Y,F){k(_,(v<<1)+(F?1:0),3),function(I,X,ae,re){U(I),re&&(Z(I,ae),Z(I,~ae)),i.arraySet(I.pending_buf,I.window,X,ae,I.pending),I.pending+=ae}(_,P,Y,!0)}t._tr_init=function(_){j||(function(){var P,Y,F,I,X,ae=new Array(b+1);for(I=F=0;I<h-1;I++)for(K[I]=F,P=0;P<1<<A[I];P++)u[F++]=I;for(u[F-1]=I,I=X=0;I<16;I++)for(ne[I]=X,P=0;P<1<<D[I];P++)L[X++]=I;for(X>>=7;I<s;I++)for(ne[I]=X<<7,P=0;P<1<<D[I]-7;P++)L[256+X++]=I;for(Y=0;Y<=b;Y++)ae[Y]=0;for(P=0;P<=143;)ee[2*P+1]=8,P++,ae[8]++;for(;P<=255;)ee[2*P+1]=9,P++,ae[9]++;for(;P<=279;)ee[2*P+1]=7,P++,ae[7]++;for(;P<=287;)ee[2*P+1]=8,P++,ae[8]++;for(V(ee,p+1,ae),P=0;P<s;P++)z[2*P+1]=5,z[2*P]=R(P,5);G=new fe(ee,A,y+1,p,b),H=new fe(z,D,0,s,b),le=new fe(new Array(0),B,0,g,x)}(),j=!0),_.l_desc=new M(_.dyn_ltree,G),_.d_desc=new M(_.dyn_dtree,H),_.bl_desc=new M(_.bl_tree,le),_.bi_buf=0,_.bi_valid=0,$(_)},t._tr_stored_block=C,t._tr_flush_block=function(_,P,Y,F){var I,X,ae=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(re){var ue,ve=4093624447;for(ue=0;ue<=31;ue++,ve>>>=1)if(1&ve&&re.dyn_ltree[2*ue]!==0)return n;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return r;for(ue=32;ue<y;ue++)if(re.dyn_ltree[2*ue]!==0)return r;return n}(_)),_e(_,_.l_desc),_e(_,_.d_desc),ae=function(re){var ue;for(o(re,re.dyn_ltree,re.l_desc.max_code),o(re,re.dyn_dtree,re.d_desc.max_code),_e(re,re.bl_desc),ue=g-1;3<=ue&&re.bl_tree[2*W[ue]+1]===0;ue--);return re.opt_len+=3*(ue+1)+5+5+4,ue}(_),I=_.opt_len+3+7>>>3,(X=_.static_len+3+7>>>3)<=I&&(I=X)):I=X=Y+5,Y+4<=I&&P!==-1?C(_,P,Y,F):_.strategy===4||X===I?(k(_,2+(F?1:0),3),se(_,ee,z)):(k(_,4+(F?1:0),3),function(re,ue,ve,ge){var ze;for(k(re,ue-257,5),k(re,ve-1,5),k(re,ge-4,4),ze=0;ze<ge;ze++)k(re,re.bl_tree[2*W[ze]+1],3);Q(re,re.dyn_ltree,ue-1),Q(re,re.dyn_dtree,ve-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,ae+1),se(_,_.dyn_ltree,_.dyn_dtree)),$(_),F&&U(_)},t._tr_tally=function(_,P,Y){return _.pending_buf[_.d_buf+2*_.last_lit]=P>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&P,_.pending_buf[_.l_buf+_.last_lit]=255&Y,_.last_lit++,P===0?_.dyn_ltree[2*Y]++:(_.matches++,P--,_.dyn_ltree[2*(u[Y]+y+1)]++,_.dyn_dtree[2*T(P)]++),_.last_lit===_.lit_bufsize-1},t._tr_align=function(_){k(_,2,3),O(_,w,ee),function(P){P.bi_valid===16?(Z(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(a,f,t){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,f,t){(function(i){(function(n,r){if(!n.setImmediate){var l,v,h,y,p=1,s={},g=!1,c=n.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(n);b=b&&b.setTimeout?b:n,l={}.toString.call(n.process)==="[object process]"?function(E){process.nextTick(function(){x(E)})}:function(){if(n.postMessage&&!n.importScripts){var E=!0,S=n.onmessage;return n.onmessage=function(){E=!1},n.postMessage("","*"),n.onmessage=S,E}}()?(y="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",w,!1):n.attachEvent("onmessage",w),function(E){n.postMessage(y+E,"*")}):n.MessageChannel?((h=new MessageChannel).port1.onmessage=function(E){x(E.data)},function(E){h.port2.postMessage(E)}):c&&"onreadystatechange"in c.createElement("script")?(v=c.documentElement,function(E){var S=c.createElement("script");S.onreadystatechange=function(){x(E),S.onreadystatechange=null,v.removeChild(S),S=null},v.appendChild(S)}):function(E){setTimeout(x,0,E)},b.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),q=0;q<S.length;q++)S[q]=arguments[q+1];var A={callback:E,args:S};return s[p]=A,l(p),p++},b.clearImmediate=d}function d(E){delete s[E]}function x(E){if(g)setTimeout(x,0,E);else{var S=s[E];if(S){g=!0;try{(function(q){var A=q.callback,D=q.args;switch(D.length){case 0:A();break;case 1:A(D[0]);break;case 2:A(D[0],D[1]);break;case 3:A(D[0],D[1],D[2]);break;default:A.apply(r,D)}})(S)}finally{d(E),g=!1}}}}function w(E){E.source===n&&typeof E.data=="string"&&E.data.indexOf(y)===0&&x(+E.data.slice(y.length))}})(typeof self=="undefined"?i===void 0?this:i:self)}).call(this,typeof xt!="undefined"?xt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(vr);var $o=vr.exports;const Lo=tt({__name:"FolderDownloader",props:{node:{}},emits:[...Me.emits],setup(e){const m=e,a=ie(0),f=et(),t=v=>{const h=[];for(let y of v)y.type==="blob"?h.push(y):y.type==="tree"&&h.push(...t(y.children||[]));return h};(async()=>{const v=m.node.path,h=t(m.node.children||[]),y=[].concat(...h.map(b=>{const d=[];for(const[x,w]of Object.entries(b.content_types))x==="meta"||x==="thumb"||d.push(w);return d})),p=y.length,s=$o();for(const[b,d]of y.entries()){const x=await ri({url:d.url,token:f.token});s.file(d.path.substring(v.length+1),x),a.value=Math.ceil((b+1)/p*100)}const g=await s.generateAsync({type:"blob"}),c=document.createElement("a");c.href=URL.createObjectURL(g),c.download=`${m.node.name}.zip`,c.click(),URL.revokeObjectURL(c.href)})().then(()=>{l()});const{dialogRef:n,onDialogHide:r,onDialogOK:l}=Me();return(v,h)=>(pe(),Ee(bt,{ref_key:"dialogRef",ref:n,onHide:ye(r),square:""},{default:me(()=>[ce(_t,{class:"q-dialog-plugin"},{default:me(()=>[ce(yt,{style:{"text-align":"center"}},{default:me(()=>[ce(Ro,{"show-value":"",value:a.value,size:"90px",color:"accent","center-color":"white","track-color":"transparent","animation-speed":10},{default:me(()=>[ce(Be,{name:"mdi-folder-download"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),Fo={style:{flex:"1","overflow-y":"auto","padding-top":"4px","background-color":"white"}},Do={class:"row"},No=["src"],Mo={style:{display:"flex","flex-direction":"column","justify-content":"center"}},Uo=de("div",null,null,-1),Wo=tt({__name:"IndexPage",setup(e){const m=tr();ii({async clear(){return await a.backend.kv_mdel({pattern:"cache:%"})},async get(S,q=null){let A=await a.backend.kv_get({key:S,or:q});return A===null&&(A=q),A},async set(S,q){return await a.backend.kv_set({key:S,value:q})}});const a=et();a.loadState();const f=ie([]),t=ie([]),i=ie(),n=ie([]),r=()=>J("div",{class:"row justify-center q-my-xl"},['Select "Add Repository" from the menu to get started.']),l=S=>{S.map(q=>{var A;return(A=i.value)==null?void 0:A.getNodeByKey(q)}).forEach(q=>{var A,D;if(q)for(let B of q.children)(((A=B==null?void 0:B.content_types)==null?void 0:A.thumb)||((D=B==null?void 0:B.content_types)==null?void 0:D.svg))&&!(B!=null&&B.img)&&a.setNodeThumbnail(B)})},v=N(()=>{var S;return f.value.length>0?(S=i.value)==null?void 0:S.getNodeByKey(f.value):null});Se(t,(S,q)=>{q.forEach(A=>{var D;if(S.indexOf(A)===-1){const B=(D=i.value)==null?void 0:D.getNodeByKey(A);B.type==="tree"&&(B.icon="mdi-folder")}}),S.forEach(A=>{var D;if(q.indexOf(A)===-1){const B=(D=i.value)==null?void 0:D.getNodeByKey(A);B.type==="tree"&&(B.icon="mdi-folder")}})}),Se(()=>a.search,(S,q)=>{var A;S&&!q?(n.value=[...t.value],(A=i.value)==null||A.expandAll()):q&&!S&&(t.value=[...n.value])});const h=async({nodeId:S})=>{var D;const A=((D=i.value)==null?void 0:D.getNodeByKey(S)).id;t.value=t.value.filter(B=>B!=A&&!B.startsWith(A+"|")),await a.reloadCollection({nodeId:S})},y=()=>{m.dialog({component:Ca})},p=()=>{m.dialog({component:kn}).onOk(S=>{console.log("OK",S);const q=nn();a.tree.push({...S,id:q,icon:"mdi-github",selectable:!1,children:[]}),h({nodeId:q}).then(()=>{a.saveCollections()})})},s=()=>{m.dialog({component:Po}).onOk(S=>{S&&h({nodeId:S})})},g=(S,q)=>{if(S.type==="repo"||S.type==="org")return!1;const A=q.toLowerCase().split(/\s+/),D=a.preferences.searchFolderNames?S.path:S.name;return A.every(W=>{var z;if(D.toLowerCase().indexOf(W)!==-1)return!0;let ee=(z=S.meta)==null?void 0:z.keywords;return ee||(ee=""),ee.indexOf(W)!==-1})},c=({nodeId:S})=>{var D,B;const q=(D=i.value)==null?void 0:D.getNodeByKey(S);let A=q;q.type==="tree"&&(A=(B=i.value)==null?void 0:B.getNodeByKey(q.id.split("|")[0])),m.dialog({component:wn,componentProps:{collection:A,initialValue:{content_types:{}}}}).onOk(W=>{h({nodeId:W.id})})},b=({nodeId:S,contentType:q})=>{var B;const A=(B=i.value)==null?void 0:B.getNodeByKey(S),D=A.content_types;q=q||(D.f3d?"f3d":D.step?"step":D.dxf?"dxf":D.svg&&"svg"),a.backend.import_model({url:D[q].url,token:a.token,filename:A.name,content_type:q})},d=({nodeId:S,contentType:q})=>{var B;const A=(B=i.value)==null?void 0:B.getNodeByKey(S),D=A.content_types;q=q||(D.f3d?"f3d":D.step?"step":D.dxf?"dxf":D.svg&&"svg"),a.backend.open_model({url:D[q].url,token:a.token,filename:A.name,content_type:q})},x=({nodeId:S})=>{var D;const q=(D=i.value)==null?void 0:D.getNodeByKey(S),A=q.type==="repo"||q.type==="org"?kn:wn;m.dialog({component:A,componentProps:{initialValue:q}}).onOk(B=>{q.name=B.name;const W=JSON.stringify(B.repositories),ee=JSON.stringify(q.repositories);W!=ee&&(q.repositories=B.repositories,h({nodeId:B.id})),a.saveCollections()})},w=async({nodeId:S})=>{var A;const q=(A=i.value)==null?void 0:A.getNodeByKey(S);m.dialog({component:Lo,componentProps:{node:q},persistent:!0})},E=N(()=>{var S,q;return((S=a.backend)==null?void 0:S.version)<((q=a.backend)==null?void 0:q.latestVersion)});return(S,q)=>(pe(),Ee(fi,{class:"column",style:ut({cursor:ye(a).globalCursor||void 0})},{default:me(()=>[ce(di,{class:"text-white shadow-2",style:{"z-index":"2"}},{default:me(()=>[ce(Xr,{class:"full-width","bg-color":"white",modelValue:ye(a).search,"onUpdate:modelValue":q[1]||(q[1]=A=>ye(a).search=A),dense:"",square:"",outlined:"",clearable:""},{prepend:me(()=>[ce(Be,{name:"search"})]),after:me(()=>[ce(Ae,{flat:"",square:"",dense:"",icon:"more_vert"},{default:me(()=>[E.value?(pe(),Ee(Yt,{key:0,color:"orange",floating:""},{default:me(()=>[Re("!")]),_:1})):Te("",!0),ce(ci,{square:""},{default:me(()=>[ce(oi,{dense:"",style:{"min-width":"150px"}},{default:me(()=>[Ce((pe(),Ee(st,{dense:"",clickable:"",onClick:y},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"settings"})]),_:1}),ce(Ke,null,{default:me(()=>[Re("Settings")]),_:1})]),_:1})),[[vt]]),Ce((pe(),Ee(st,{dense:"",clickable:"",onClick:p},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"add"})]),_:1}),ce(Ke,null,{default:me(()=>[Re("Add Repository")]),_:1})]),_:1})),[[vt]]),ye(a).preferences.showManagementUI?Ce((pe(),Ee(st,{key:0,dense:"",clickable:"",onClick:s},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"image"})]),_:1}),ce(Ke,null,{default:me(()=>[Re("Auto-Thumb")]),_:1})]),_:1})),[[vt]]):Te("",!0),E.value?Ce((pe(),Ee(st,{key:1,dense:"",clickable:"",class:"bg-orange",href:ye(a).backend.updateUrl},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"upgrade",color:"white"})]),_:1}),ce(Ke,{class:"text-white"},{default:me(()=>[Re("Update Available")]),_:1})]),_:1},8,["href"])),[[vt]]):Te("",!0),ce(Vn),Ce((pe(),Ee(st,{dense:"",clickable:"",onClick:q[0]||(q[0]=()=>{ye(a).backend.close()})},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"close"})]),_:1}),ce(Ke,null,{default:me(()=>[Re("Close")]),_:1})]),_:1})),[[vt]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),de("div",Fo,[ce(ye(mi),{dense:"",showManagementUI:ye(a).preferences.showManagementUI,"no-transition":"",ref_key:"treeRef",ref:i,filter:ye(a).search,"filter-method":g,nodes:ye(a).tree,"label-key":"name","node-key":"id","no-selection-unset":"","no-nodes-label":r(),selected:f.value,"onUpdate:selected":q[2]||(q[2]=A=>f.value=A),expanded:t.value,"onUpdate:expanded":[q[3]||(q[3]=A=>t.value=A),l],"onAction:import":b,"onAction:open":d,"onAction:reload":h,"onAction:edit":x,"onAction:upload":c,"onAction:folderDownload":w,style:{flex:"1"},"font-size":ye(a).preferences.fontSize,"show-thumbnails":ye(a).preferences.showThumbnails,"is-fusion-backend":ye(a).backend.isFusion360},{"default-header":me(A=>[de("div",Do,[A.node.img&&ye(a).preferences.showThumbnails?(pe(),we("img",{key:0,class:"q-tree__img q-mr-sm",style:{"border-style":"solid","border-radius":"4px","border-width":"1px","z-index":"1","background-color":"white"},src:A.node.img},null,8,No)):(pe(),Ee(Be,{key:1,class:"q-tree__icon q-mr-sm",name:A.node.icon,style:ut(A.node.type==="blob"?"border-style: solid; border-radius: 4px; border-width: 1px; z-index: 1; background-color: white":""),size:A.node.type==="blob"?ye(a).preferences.showThumbnails?"48px":`${ye(a).preferences.fontSize}px`:`${ye(a).preferences.fontSize+8}px`},null,8,["name","style","size"])),de("div",Mo,[de("div",{style:ut({fontWeight:A.node.type==="blob"?"bold":"inherit"})},Fe(A.node.name),5),Uo])])]),_:1},8,["showManagementUI","filter","nodes","no-nodes-label","selected","expanded","font-size","show-thumbnails","is-fusion-backend"])]),v.value?(pe(),Ee(na,{key:0,showManagementUI:ye(a).preferences.showManagementUI,node:v.value,"onAction:import":b,"onAction:open":d,"onAction:edit":x},null,8,["showManagementUI","node"])):Te("",!0)]),_:1},8,["style"]))}});export{Wo as default};
