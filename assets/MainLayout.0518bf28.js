import{c as R,i as K,e as S,l as q,p as P,a,h as s,d as M,g as H,f as O,r as d,j as I,k as w,m,w as Q,o as N,n as U,q as V,s as A,t as D,u as G,v as $,x as L}from"./index.f422ab36.js";import{Q as J,a as _,u as X}from"./core.cf389855.js";import"./axios.7331a07d.js";var Y=R({name:"QPageContainer",setup(t,{slots:c}){const{proxy:{$q:i}}=H(),o=K(q,S);if(o===S)return console.error("QPageContainer needs to be child of QLayout"),S;P(O,!0);const f=a(()=>{const l={};return o.header.space===!0&&(l.paddingTop=`${o.header.size}px`),o.right.space===!0&&(l[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(l.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(l[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),l});return()=>s("div",{class:"q-page-container",style:f.value},M(c.default))}}),Z=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:c,emit:i}){const{proxy:{$q:o}}=H(),f=d(null),l=d(o.screen.height),p=d(t.container===!0?0:o.screen.width),z=d({position:0,direction:"down",inflectionPoint:0}),h=d(0),r=d(I.value===!0?0:w()),T=a(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),F=a(()=>t.container===!1?{minHeight:o.screen.height+"px"}:null),W=a(()=>r.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),B=a(()=>r.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function k(e){if(t.container===!0||document.qScrollPrevented!==!0){const n={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};z.value=n,t.onScroll!==void 0&&i("scroll",n)}}function j(e){const{height:n,width:u}=e;let v=!1;l.value!==n&&(v=!0,l.value=n,t.onScrollHeight!==void 0&&i("scrollHeight",n),b()),p.value!==u&&(v=!0,p.value=u),v===!0&&t.onResize!==void 0&&i("resize",e)}function E({height:e}){h.value!==e&&(h.value=e,b())}function b(){if(t.container===!0){const e=l.value>h.value?w():0;r.value!==e&&(r.value=e)}}let g=null;const x={instances:{},view:a(()=>t.view),isContainer:a(()=>t.container),rootRef:f,height:l,containerHeight:h,scrollbarWidth:r,totalWidth:a(()=>p.value+r.value),rows:a(()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:m({size:0,offset:0,space:!1}),right:m({size:300,offset:0,space:!1}),footer:m({size:0,offset:0,space:!1}),left:m({size:300,offset:0,space:!1}),scroll:z,animate(){g!==null?clearTimeout(g):document.body.classList.add("q-body--layout-animate"),g=setTimeout(()=>{g=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,n,u){x[e][n]=u}};if(P(q,x),w()>0){let u=function(){e=null,n.classList.remove("hide-scrollbar")},v=function(){if(e===null){if(n.scrollHeight>o.screen.height)return;n.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(u,300)},y=function(C){e!==null&&C==="remove"&&(clearTimeout(e),u()),window[`${C}EventListener`]("resize",v)},e=null;const n=document.body;Q(()=>t.container!==!0?"add":"remove",y),t.container!==!0&&y("add"),N(()=>{y("remove")})}return()=>{const e=U(c.default,[s(J,{onScroll:k}),s(_,{onResize:j})]),n=s("div",{class:T.value,style:F.value,ref:t.container===!0?void 0:f,tabindex:-1},e);return t.container===!0?s("div",{class:"q-layout-container overflow-hidden",ref:f},[s(_,{onResize:E}),s("div",{class:"absolute-full",style:W.value},[s("div",{class:"scroll",style:B.value},[n])])]):n}}});const ne=V({__name:"MainLayout",setup(t){const c=d(document.querySelector("body")),i=X();return c.value.style.fontSize=`${i.preferences.fontSize}px`,Q(()=>i.preferences.fontSize,()=>{c.value.style.fontSize=`${i.preferences.fontSize}px`}),console.log("body",c.value),(o,f)=>{const l=A("router-view");return D(),G(Z,{view:"lHh Lpr lFf"},{default:$(()=>[L(Y,null,{default:$(()=>[L(l)]),_:1})]),_:1})}}});export{ne as default};
