import{c as qe,a as N,h as J,n as Lt,d as Ue,I as Xe,J as pr,K as Je,L as gr,r as ie,g as Pe,M as Ft,N as $e,O as br,P as yr,Q as zt,F as _t,R as Ne,w as Se,y as tt,z as Ve,S as Ge,C as Vt,T as un,U as He,k as _r,V as An,W as qn,X as Bn,Y as gt,Z as Tt,_ as Pn,$ as In,a0 as On,a1 as kr,a2 as ot,a3 as wr,a4 as cn,B as Rn,a5 as xr,a6 as Dt,a7 as Sr,a8 as Cr,a9 as zr,i as Et,e as Qe,l as Tr,f as Er,aa as en,ab as Ar,ac as qr,ad as Br,q as nt,ae as $n,af as tn,ag as Ln,ah as Be,ai as Ce,aj as Fn,ak as Te,al as Pr,am as Dn,an as Ir,ao as Or,H as nn,p as Rr,ap as Nn,aq as Mn,A as Un,ar as jn,as as lt,at as $r,au as Lr,av as Kn,aw as Fr,ax as Dr,ay as ye,az as Nr,aA as Mr,aB as Ur,aC as jr,t as pe,aD as we,x as ce,v as me,aE as Oe,aF as Fe,aG as de,aH as ut,aI as Ae,u as ze,aJ as Ye,aK as rt,aL as Mt,aM as Kr,aN as Ut,aO as Hr,aP as Wr,aQ as Vr,aR as ct,aS as dt,aT as bt,aU as kt,aV as ft,aW as it,aX as Zr,m as rn,aY as Hn,aZ as At,a_ as Qr,a$ as Yr,b0 as Gr,b1 as dn,b2 as Xr,b3 as jt,b4 as fn,b5 as Wn,b6 as Vn,b7 as Zn,b8 as Jr,b9 as ei}from"./index.5adf44f1.js";import{a as Zt,u as et,g as ti,d as Qt,v as ni,b as ri,c as ii,e as Qn,Q as ai,f as St,h as Ct,i as oi,s as si}from"./core.34216251.js";import"./axios.7331a07d.js";const li=["top","middle","bottom"];var Yt=qe({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>li.includes(e)}},setup(e,{slots:m}){const a=N(()=>e.align!==void 0?{verticalAlign:e.align}:null),f=N(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>J("div",{class:f.value,style:a.value,role:"status","aria-label":e.label},Lt(m.default,e.label!==void 0?[e.label]:[]))}}),Ke=qe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:m}){const a=N(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>J("div",{class:a.value},Ue(m.default))}}),st=qe({name:"QItem",props:{...Xe,...pr,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:m,emit:a}){const{proxy:{$q:f}}=Pe(),t=Je(e,f),{hasLink:i,linkAttrs:n,linkClass:r,linkTag:l,navigateOnClick:v}=gr(),h=ie(null),y=ie(null),p=N(()=>e.clickable===!0||i.value===!0||e.tag==="label"),s=N(()=>e.disable!==!0&&p.value===!0),g=N(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(t.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(s.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),c=N(()=>{if(e.insetLevel===void 0)return null;const w=f.lang.rtl===!0?"Right":"Left";return{["padding"+w]:16+e.insetLevel*56+"px"}});function b(w){s.value===!0&&(y.value!==null&&(w.qKeyEvent!==!0&&document.activeElement===h.value?y.value.focus():document.activeElement===y.value&&h.value.focus()),v(w))}function d(w){if(s.value===!0&&Ft(w,13)===!0){$e(w),w.qKeyEvent=!0;const z=new MouseEvent("click",w);z.qKeyEvent=!0,h.value.dispatchEvent(z)}a("keyup",w)}function S(){const w=br(m.default,[]);return s.value===!0&&w.unshift(J("div",{class:"q-focus-helper",tabindex:-1,ref:y})),w}return()=>{const w={ref:h,class:g.value,style:c.value,role:"listitem",onClick:b,onKeyup:d};return s.value===!0?(w.tabindex=e.tabindex||"0",Object.assign(w,n.value)):p.value===!0&&(w["aria-disabled"]="true"),J(l.value,w,S())}}}),ui=qe({name:"QList",props:{...Xe,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:m}){const a=Pe(),f=Je(e,a.proxy.$q),t=N(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(f.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>J(e.tag,{class:t.value},Ue(m.default))}});function yt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),yr.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Yn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Gn({showing:e,avoidEmit:m,configureAnchorEl:a}){const{props:f,proxy:t,emit:i}=Pe(),n=ie(null);let r=null;function l(s){return n.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const v={};a===void 0&&(Object.assign(v,{hide(s){t.hide(s)},toggle(s){t.toggle(s),s.qAnchorHandled=!0},toggleKey(s){Ft(s,13)===!0&&v.toggle(s)},contextClick(s){t.hide(s),zt(s),_t(()=>{t.show(s),s.qAnchorHandled=!0})},prevent:zt,mobileTouch(s){if(v.mobileCleanup(s),l(s)!==!0)return;t.hide(s),n.value.classList.add("non-selectable");const g=s.target;Ne(v,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,t.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){n.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&s!==void 0&&yt()}}),a=function(s=f.contextMenu){if(f.noParentEvent===!0||n.value===null)return;let g;s===!0?t.$q.platform.is.mobile===!0?g=[[n.value,"touchstart","mobileTouch","passive"]]:g=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:g=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],Ne(v,"anchor",g)});function h(){Ge(v,"anchor")}function y(s){for(n.value=s;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;a()}function p(){if(f.target===!1||f.target===""||t.$el.parentNode===null)n.value=null;else if(f.target===!0)y(t.$el.parentNode);else{let s=f.target;if(typeof f.target=="string")try{s=document.querySelector(f.target)}catch{s=void 0}s!=null?(n.value=s.$el||s,a()):(n.value=null,console.error(`Anchor: target "${f.target}" not found`))}}return Se(()=>f.contextMenu,s=>{n.value!==null&&(h(),a(s))}),Se(()=>f.target,()=>{n.value!==null&&h(),p()}),Se(()=>f.noParentEvent,s=>{n.value!==null&&(s===!0?h():a())}),tt(()=>{p(),m!==!0&&f.modelValue===!0&&n.value===null&&i("update:modelValue",!1)}),Ve(()=>{r!==null&&clearTimeout(r),h()}),{anchorEl:n,canShow:l,anchorEvents:v}}function Xn(e,m){const a=ie(null);let f;function t(r,l){const v=`${l!==void 0?"add":"remove"}EventListener`,h=l!==void 0?l:f;r!==window&&r[v]("scroll",h,Vt.passive),window[v]("scroll",h,Vt.passive),f=l}function i(){a.value!==null&&(t(a.value),a.value=null)}const n=Se(()=>e.noParentEvent,()=>{a.value!==null&&(i(),m())});return Ve(n),{localScrollTarget:a,unconfigureScrollTarget:i,changeScrollEvent:t}}const{notPassiveCapture:qt}=Vt,at=[];function Bt(e){const m=e.target;if(m===void 0||m.nodeType===8||m.classList.contains("no-pointer-events")===!0)return;let a=un.length-1;for(;a>=0;){const f=un[a].$;if(f.type.name==="QTooltip"){a--;continue}if(f.type.name!=="QDialog")break;if(f.props.seamless!==!0)return;a--}for(let f=at.length-1;f>=0;f--){const t=at[f];if((t.anchorEl.value===null||t.anchorEl.value.contains(m)===!1)&&(m===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(m)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function Jn(e){at.push(e),at.length===1&&(document.addEventListener("mousedown",Bt,qt),document.addEventListener("touchstart",Bt,qt))}function Pt(e){const m=at.findIndex(a=>a===e);m>-1&&(at.splice(m,1),at.length===0&&(document.removeEventListener("mousedown",Bt,qt),document.removeEventListener("touchstart",Bt,qt)))}let hn,vn;function It(e){const m=e.split(" ");return m.length!==2?!1:["top","center","bottom"].includes(m[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(m[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function er(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Gt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Gt[`${e}#ltr`]=e,Gt[`${e}#rtl`]=e});function Ot(e,m){const a=e.split(" ");return{vertical:a[0],horizontal:Gt[`${a[1]}#${m===!0?"rtl":"ltr"}`]}}function ci(e,m){let{top:a,left:f,right:t,bottom:i,width:n,height:r}=e.getBoundingClientRect();return m!==void 0&&(a-=m[1],f-=m[0],i+=m[1],t+=m[0],n+=m[0],r+=m[1]),{top:a,bottom:i,height:r,left:f,right:t,width:n,middle:f+(t-f)/2,center:a+(i-a)/2}}function di(e,m,a){let{top:f,left:t}=e.getBoundingClientRect();return f+=m.top,t+=m.left,a!==void 0&&(f+=a[1],t+=a[0]),{top:f,bottom:f+1,height:1,left:t,right:t+1,width:1,middle:t,center:f}}function fi(e,m){return{top:0,center:m/2,bottom:m,left:0,middle:e/2,right:e}}function mn(e,m,a,f){return{top:e[a.vertical]-m[f.vertical],left:e[a.horizontal]-m[f.horizontal]}}function an(e,m=0){if(e.targetEl===null||e.anchorEl===null||m>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{an(e,m+1)},10);return}const{targetEl:a,offset:f,anchorEl:t,anchorOrigin:i,selfOrigin:n,absoluteOffset:r,fit:l,cover:v,maxHeight:h,maxWidth:y}=e;if(He.is.ios===!0&&window.visualViewport!==void 0){const A=document.body.style,{offsetLeft:P,offsetTop:D}=window.visualViewport;P!==hn&&(A.setProperty("--q-pe-left",P+"px"),hn=P),D!==vn&&(A.setProperty("--q-pe-top",D+"px"),vn=D)}const{scrollLeft:p,scrollTop:s}=a,g=r===void 0?ci(t,v===!0?[0,0]:f):di(t,r,f);Object.assign(a.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:c,offsetHeight:b}=a,{elWidth:d,elHeight:S}=l===!0||v===!0?{elWidth:Math.max(g.width,c),elHeight:v===!0?Math.max(g.height,b):b}:{elWidth:c,elHeight:b};let w={maxWidth:y,maxHeight:h};(l===!0||v===!0)&&(w.minWidth=g.width+"px",v===!0&&(w.minHeight=g.height+"px")),Object.assign(a.style,w);const z=fi(d,S);let _=mn(g,z,i,n);if(r===void 0||f===void 0)Kt(_,g,z,i,n);else{const{top:A,left:P}=_;Kt(_,g,z,i,n);let D=!1;if(_.top!==A){D=!0;const $=2*f[1];g.center=g.top-=$,g.bottom-=$+2}if(_.left!==P){D=!0;const $=2*f[0];g.middle=g.left-=$,g.right-=$+2}D===!0&&(_=mn(g,z,i,n),Kt(_,g,z,i,n))}w={top:_.top+"px",left:_.left+"px"},_.maxHeight!==void 0&&(w.maxHeight=_.maxHeight+"px",g.height>_.maxHeight&&(w.minHeight=w.maxHeight)),_.maxWidth!==void 0&&(w.maxWidth=_.maxWidth+"px",g.width>_.maxWidth&&(w.minWidth=w.maxWidth)),Object.assign(a.style,w),a.scrollTop!==s&&(a.scrollTop=s),a.scrollLeft!==p&&(a.scrollLeft=p)}function Kt(e,m,a,f,t){const i=a.bottom,n=a.right,r=_r(),l=window.innerHeight-r,v=document.body.clientWidth;if(e.top<0||e.top+i>l)if(t.vertical==="center")e.top=m[f.vertical]>l/2?Math.max(0,l-i):0,e.maxHeight=Math.min(i,l);else if(m[f.vertical]>l/2){const h=Math.min(l,f.vertical==="center"?m.center:f.vertical===t.vertical?m.bottom:m.top);e.maxHeight=Math.min(i,h),e.top=Math.max(0,h-i)}else e.top=Math.max(0,f.vertical==="center"?m.center:f.vertical===t.vertical?m.top:m.bottom),e.maxHeight=Math.min(i,l-e.top);if(e.left<0||e.left+n>v)if(e.maxWidth=Math.min(n,v),t.horizontal==="middle")e.left=m[f.horizontal]>v/2?Math.max(0,v-n):0;else if(m[f.horizontal]>v/2){const h=Math.min(v,f.horizontal==="middle"?m.middle:f.horizontal===t.horizontal?m.right:m.left);e.maxWidth=Math.min(n,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,f.horizontal==="middle"?m.middle:f.horizontal===t.horizontal?m.left:m.right),e.maxWidth=Math.min(n,v-e.left)}var hi=qe({name:"QMenu",inheritAttrs:!1,props:{...Yn,...An,...Xe,...qn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:It},self:{type:String,validator:It},offset:{type:Array,validator:er},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Bn,"click","escapeKey"],setup(e,{slots:m,emit:a,attrs:f}){let t=null,i,n,r;const l=Pe(),{proxy:v}=l,{$q:h}=v,y=ie(null),p=ie(!1),s=N(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=Je(e,h),{registerTick:c,removeTick:b}=gt(),{registerTimeout:d}=Tt(),{transitionProps:S,transitionStyle:w}=Pn(e),{localScrollTarget:z,changeScrollEvent:_,unconfigureScrollTarget:A}=Xn(e,Z),{anchorEl:P,canShow:D}=Gn({showing:p}),{hide:$}=In({showing:p,canShow:D,handleShow:fe,handleHide:M,hideOnRouteChange:s,processOnMount:!0}),{showPortal:W,hidePortal:te,renderPortal:E}=On(l,y,R,"menu"),L={anchorEl:P,innerRef:y,onClickOutside(U){if(e.persistent!==!0&&p.value===!0)return $(U),(U.type==="touchstart"||U.target.classList.contains("q-dialog__backdrop"))&&$e(U),!0}},u=N(()=>Ot(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),K=N(()=>e.cover===!0?u.value:Ot(e.self||"top start",h.lang.rtl)),G=N(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),H=N(()=>e.autoClose===!0?{onClick:x}:{}),le=N(()=>p.value===!0&&e.persistent!==!0);Se(le,U=>{U===!0?(Sr(O),Jn(L)):(cn(O),Pt(L))});function ne(){Cr(()=>{let U=y.value;U&&U.contains(document.activeElement)!==!0&&(U=U.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||U.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||U.querySelector("[autofocus], [data-autofocus]")||U,U.focus({preventScroll:!0}))})}function fe(U){if(t=e.noRefocus===!1?document.activeElement:null,kr(I),W(),Z(),i=void 0,U!==void 0&&(e.touchPosition||e.contextMenu)){const oe=ot(U);if(oe.left!==void 0){const{top:he,left:se}=P.value.getBoundingClientRect();i={left:oe.left-se,top:oe.top-he}}}n===void 0&&(n=Se(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,V)),e.noFocus!==!0&&document.activeElement.blur(),c(()=>{V(),e.noFocus!==!0&&ne()}),d(()=>{h.platform.is.ios===!0&&(r=e.autoClose,y.value.click()),V(),W(!0),a("show",U)},e.transitionDuration)}function M(U){b(),te(),T(!0),t!==null&&(U===void 0||U.qClickOutside!==!0)&&(((U&&U.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),d(()=>{te(!0),a("hide",U)},e.transitionDuration)}function T(U){i=void 0,n!==void 0&&(n(),n=void 0),(U===!0||p.value===!0)&&(wr(I),A(),Pt(L),cn(O)),U!==!0&&(t=null)}function Z(){(P.value!==null||e.scrollTarget!==void 0)&&(z.value=Rn(P.value,e.scrollTarget),_(z.value,V))}function x(U){r!==!0?(xr(v,U),a("click",U)):r=!1}function I(U){le.value===!0&&e.noFocus!==!0&&zr(y.value,U.target)!==!0&&ne()}function O(U){a("escapeKey"),$(U)}function V(){an({targetEl:y.value,offset:e.offset,anchorEl:P.value,anchorOrigin:u.value,selfOrigin:K.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(){return J(Dt,S.value,()=>p.value===!0?J("div",{role:"menu",...f,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+G.value,f.class],style:[f.style,w.value],...H.value},Ue(m.default)):null)}return Ve(T),Object.assign(v,{focus:ne,updatePosition:V}),E}}),vi=qe({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:m}){const a=N(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>J("div",{class:a.value,role:"toolbar"},Ue(m.default))}}),mi=qe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:m}){const{proxy:{$q:a}}=Pe(),f=Et(Tr,Qe);if(f===Qe)return console.error("QPage needs to be a deep child of QLayout"),Qe;if(Et(Er,Qe)===Qe)return console.error("QPage needs to be child of QPageContainer"),Qe;const i=N(()=>{const r=(f.header.space===!0?f.header.size:0)+(f.footer.space===!0?f.footer.size:0);if(typeof e.styleFn=="function"){const l=f.isContainer.value===!0?f.containerHeight.value:a.screen.height;return e.styleFn(r,l)}return{minHeight:f.isContainer.value===!0?f.containerHeight.value-r+"px":a.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":a.screen.height-r+"px"}}),n=N(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>J("main",{class:n.value,style:i.value},Ue(m.default))}});function pn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const m=parseInt(e,10);return isNaN(m)?0:m}var pt=en({name:"close-popup",beforeMount(e,{value:m}){const a={depth:pn(m),handler(f){a.depth!==0&&setTimeout(()=>{const t=Ar(e);t!==void 0&&qr(t,f,a.depth)})},handlerKey(f){Ft(f,13)===!0&&a.handler(f)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:m,oldValue:a}){m!==a&&(e.__qclosepopup.depth=pn(m))},beforeUnmount(e){const m=e.__qclosepopup;e.removeEventListener("click",m.handler),e.removeEventListener("keyup",m.handlerKey),delete e.__qclosepopup}}),tr=qe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:m,emit:a}){let f=!1,t,i,n=null,r=null,l,v;function h(){t&&t(),t=null,f=!1,n!==null&&(clearTimeout(n),n=null),r!==null&&(clearTimeout(r),r=null),i!==void 0&&i.removeEventListener("transitionend",l),l=null}function y(c,b,d){b!==void 0&&(c.style.height=`${b}px`),c.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,t=d}function p(c,b){c.style.overflowY=null,c.style.height=null,c.style.transition=null,h(),b!==v&&a(b)}function s(c,b){let d=0;i=c,f===!0?(h(),d=c.offsetHeight===c.scrollHeight?0:void 0):(v="hide",c.style.overflowY="hidden"),y(c,d,b),n=setTimeout(()=>{n=null,c.style.height=`${c.scrollHeight}px`,l=S=>{r=null,(Object(S)!==S||S.target===c)&&p(c,"show")},c.addEventListener("transitionend",l),r=setTimeout(l,e.duration*1.1)},100)}function g(c,b){let d;i=c,f===!0?h():(v="show",c.style.overflowY="hidden",d=c.scrollHeight),y(c,d,b),n=setTimeout(()=>{n=null,c.style.height=0,l=S=>{r=null,(Object(S)!==S||S.target===c)&&p(c,"hide")},c.addEventListener("transitionend",l),r=setTimeout(l,e.duration*1.1)},100)}return Ve(()=>{f===!0&&h()}),()=>J(Dt,{css:!1,appear:e.appear,onEnter:s,onLeave:g},m.default)}}),pi=qe({name:"QTooltip",inheritAttrs:!1,props:{...Yn,...An,...qn,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:It},self:{type:String,default:"top middle",validator:It},offset:{type:Array,default:()=>[14,14],validator:er},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Bn],setup(e,{slots:m,emit:a,attrs:f}){let t,i;const n=Pe(),{proxy:{$q:r}}=n,l=ie(null),v=ie(!1),h=N(()=>Ot(e.anchor,r.lang.rtl)),y=N(()=>Ot(e.self,r.lang.rtl)),p=N(()=>e.persistent!==!0),{registerTick:s,removeTick:g}=gt(),{registerTimeout:c}=Tt(),{transitionProps:b,transitionStyle:d}=Pn(e),{localScrollTarget:S,changeScrollEvent:w,unconfigureScrollTarget:z}=Xn(e,fe),{anchorEl:_,canShow:A,anchorEvents:P}=Gn({showing:v,configureAnchorEl:ne}),{show:D,hide:$}=In({showing:v,canShow:A,handleShow:L,handleHide:u,hideOnRouteChange:p,processOnMount:!0});Object.assign(P,{delayShow:H,delayHide:le});const{showPortal:W,hidePortal:te,renderPortal:E}=On(n,l,T,"tooltip");if(r.platform.is.mobile===!0){const Z={anchorEl:_,innerRef:l,onClickOutside(I){return $(I),I.target.classList.contains("q-dialog__backdrop")&&$e(I),!0}},x=N(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);Se(x,I=>{(I===!0?Jn:Pt)(Z)}),Ve(()=>{Pt(Z)})}function L(Z){W(),s(()=>{i=new MutationObserver(()=>G()),i.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),G(),fe()}),t===void 0&&(t=Se(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,G)),c(()=>{W(!0),a("show",Z)},e.transitionDuration)}function u(Z){g(),te(),K(),c(()=>{te(!0),a("hide",Z)},e.transitionDuration)}function K(){i!==void 0&&(i.disconnect(),i=void 0),t!==void 0&&(t(),t=void 0),z(),Ge(P,"tooltipTemp")}function G(){an({targetEl:l.value,offset:e.offset,anchorEl:_.value,anchorOrigin:h.value,selfOrigin:y.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function H(Z){if(r.platform.is.mobile===!0){yt(),document.body.classList.add("non-selectable");const x=_.value,I=["touchmove","touchcancel","touchend","click"].map(O=>[x,O,"delayHide","passiveCapture"]);Ne(P,"tooltipTemp",I)}c(()=>{D(Z)},e.delay)}function le(Z){r.platform.is.mobile===!0&&(Ge(P,"tooltipTemp"),yt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),c(()=>{$(Z)},e.hideDelay)}function ne(){if(e.noParentEvent===!0||_.value===null)return;const Z=r.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];Ne(P,"anchor",Z)}function fe(){if(_.value!==null||e.scrollTarget!==void 0){S.value=Rn(_.value,e.scrollTarget);const Z=e.noParentEvent===!0?G:$;w(S.value,Z)}}function M(){return v.value===!0?J("div",{...f,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",f.class],style:[f.style,d.value],role:"tooltip"},Ue(m.default)):null}function T(){return J(Dt,b.value,M)}return Ve(K),Object.assign(n.proxy,{updatePosition:G}),E}});const gi=["none","strict","leaf","leaf-filtered"];function gn(e,m,a,f){return Object.defineProperty(e,m,{get:a,set:f,enumerable:!0}),e}var bi=Br(nt({name:"RepoTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>gi.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String,showThumbnails:Boolean,showManagementUI:Boolean,isFusionBackend:Boolean,fontSize:Number},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide","action:import","action:reload","action:open","action:upload","action:folder-download"],setup(e,{slots:m,emit:a}){const{proxy:f}=Pe(),{$q:t}=f,i=Je(e,t),n=ie({}),r=ie(e.ticked||[]),l=ie(e.expanded||[]);let v={};$n(()=>{v={}});const h=N(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),y=N(()=>e.selected!==void 0),p=N(()=>e.icon||t.iconSet.tree.icon),s=N(()=>e.controlColor||e.color),g=N(()=>e.textColor!==void 0?` text-${e.textColor}`:""),c=N(()=>{const x=e.selectedColor||e.color;return x?` text-${x}`:""}),b=N(()=>e.filterMethod!==void 0?e.filterMethod:(x,I)=>{const O=I.toLowerCase();return x[e.labelKey]&&x[e.labelKey].toLowerCase().indexOf(O)>-1}),d=N(()=>{const x={},I=(O,V)=>{const R=O.tickStrategy||(V?V.tickStrategy:e.tickStrategy),U=O[e.nodeKey],oe=O[e.childrenKey]&&Array.isArray(O[e.childrenKey])&&O[e.childrenKey].length!==0,he=O.disabled!==!0&&y.value===!0&&O.selectable!==!1,se=O.disabled!==!0&&O.expandable!==!1,_e=R!=="none",o=R==="strict",Q=R==="leaf-filtered",j=R==="leaf"||R==="leaf-filtered";let C=O.disabled!==!0&&O.tickable!==!1;j===!0&&C===!0&&V&&V.tickable!==!0&&(C=!1);let k=O.lazy;k===!0&&n.value[U]!==void 0&&Array.isArray(O[e.childrenKey])===!0&&(k=n.value[U]);const q={key:U,parent:V,isParent:oe,lazy:k,disabled:O.disabled,link:O.disabled!==!0&&(he===!0||se===!0&&(oe===!0||k===!0)),children:[],matchesFilter:e.filter?b.value(O,e.filter):!0,selected:U===e.selected&&he===!0,selectable:he,expanded:oe===!0?l.value.includes(U):!1,expandable:se,noTick:O.noTick===!0||o!==!0&&k&&k!=="loaded",tickable:C,tickStrategy:R,hasTicking:_e,strictTicking:o,leafFilteredTicking:Q,leafTicking:j,ticked:o===!0?r.value.includes(U):oe===!0?!1:r.value.includes(U)};if(x[U]=q,oe===!0&&(q.children=O[e.childrenKey].map(Y=>I(Y,q)),e.filter&&(q.matchesFilter!==!0?q.matchesFilter=q.children.some(Y=>Y.matchesFilter):q.noTick!==!0&&q.disabled!==!0&&q.tickable===!0&&Q===!0&&q.children.every(Y=>Y.matchesFilter!==!0||Y.noTick===!0||Y.tickable!==!0)===!0&&(q.tickable=!1)),q.matchesFilter===!0&&(q.noTick!==!0&&o!==!0&&q.children.every(Y=>Y.noTick)===!0&&(q.noTick=!0),j))){if(q.ticked=!1,q.indeterminate=q.children.some(Y=>Y.indeterminate===!0),q.tickable=q.tickable===!0&&q.children.some(Y=>Y.tickable),q.indeterminate!==!0){const Y=q.children.reduce((F,B)=>B.ticked===!0?F+1:F,0);Y===q.children.length?q.ticked=!0:Y>0&&(q.indeterminate=!0)}q.indeterminate===!0&&(q.indeterminateNextState=q.children.every(Y=>Y.tickable!==!0||Y.ticked!==!0))}return q};return e.nodes.forEach(O=>I(O,null)),x});Se(()=>e.ticked,x=>{r.value=x}),Se(()=>e.expanded,x=>{l.value=x});function S(x){const I=[].reduce,O=(V,R)=>{if(V||!R)return V;if(Array.isArray(R)===!0)return I.call(Object(R),O,V);if(R[e.nodeKey]===x)return R;if(R[e.childrenKey])return O(null,R[e.childrenKey])};return O(null,e.nodes)}function w(){return r.value.map(x=>S(x))}function z(){return l.value.map(x=>S(x))}function _(x){return x&&d.value[x]?d.value[x].expanded:!1}function A(){e.expanded!==void 0?a("update:expanded",[]):l.value=[]}function P(){const x=[],I=O=>{O[e.childrenKey]&&O[e.childrenKey].length!==0&&O.expandable!==!1&&O.disabled!==!0&&(x.push(O[e.nodeKey]),O[e.childrenKey].forEach(I))};e.nodes.forEach(I),e.expanded!==void 0?a("update:expanded",x):l.value=x}function D(x,I,O=S(x),V=d.value[x]){if(V.lazy&&V.lazy!=="loaded"){if(V.lazy==="loading")return;n.value[x]="loading",Array.isArray(O[e.childrenKey])!==!0&&(O[e.childrenKey]=[]),a("lazyLoad",{node:O,key:x,done:R=>{n.value[x]="loaded",O[e.childrenKey]=Array.isArray(R)===!0?R:[],_t(()=>{const U=d.value[x];U&&U.isParent===!0&&$(x,!0)})},fail:()=>{delete n.value[x],O[e.childrenKey].length===0&&delete O[e.childrenKey]}})}else V.isParent===!0&&V.expandable===!0&&$(x,I)}function $(x,I){let O=l.value;const V=e.expanded!==void 0;if(V===!0&&(O=O.slice()),I){if(e.accordion&&d.value[x]){const R=[];d.value[x].parent?d.value[x].parent.children.forEach(U=>{U.key!==x&&U.expandable===!0&&R.push(U.key)}):e.nodes.forEach(U=>{const oe=U[e.nodeKey];oe!==x&&R.push(oe)}),R.length!==0&&(O=O.filter(U=>R.includes(U)===!1))}O=O.concat([x]).filter((R,U,oe)=>oe.indexOf(R)===U)}else O=O.filter(R=>R!==x);V===!0?a("update:expanded",O):l.value=O}function W(x){return x&&d.value[x]?d.value[x].ticked:!1}function te(x,I){let O=r.value;const V=e.ticked!==void 0;V===!0&&(O=O.slice()),I?O=O.concat(x).filter((R,U,oe)=>oe.indexOf(R)===U):O=O.filter(R=>x.includes(R)===!1),V===!0&&a("update:ticked",O)}function E(x,I,O){const V={tree:f,node:x,key:O,color:e.color,dark:i.value};return gn(V,"expanded",()=>I.expanded,R=>{R!==I.expanded&&D(O,R)}),gn(V,"ticked",()=>I.ticked,R=>{R!==I.ticked&&te([O],R)}),V}function L(x){return(e.filter?x.filter(I=>d.value[I[e.nodeKey]].matchesFilter):x).map(I=>ne(I))}function u(x,I,O,V){return J(Te,{onClick:R=>{$e(R),a(x,{nodeId:I})},tabindex:-1,size:e.fontSize-2+"px",padding:"none",style:{margin:0},flat:!0,stretch:!0},()=>[J(Be,{size:e.fontSize+4+"px",name:V}),J(pi,{anchor:"center left",self:"center right",transitionShow:"jump-left",transitionHide:"jump-right"},()=>O)])}function K(x){const I=[];return x.type==="blob"?e.isFusionBackend?(I.push(u("action:import",x.id,"Import","mdi-import")),I.push(u("action:open",x.id,"Open","mdi-open-in-new"))):I.push(u("action:open",x.id,"Download","mdi-download")):x.type==="repo"||x.type=="org"?(I.push(u("action:edit",x.id,"Edit","mdi-pencil")),I.push(u("action:reload",x.id,"Reload","mdi-reload"))):x.type=="tree"&&!e.isFusionBackend&&I.push(u("action:folder-download",x.id,"Download","mdi-folder-download")),(x.type==="repo"||x.type==="tree")&&e.showManagementUI&&I.push(u("action:upload",x.id,"Upload","mdi-upload")),I}function G(x){const I=x.img||x.avatar;if(I&&e.showThumbnails)return J("img",{class:`q-tree__${x.img?"img":"avatar"} q-mr-sm`,src:I});if(x.icon!==void 0)return J(Be,{class:"q-tree__icon q-mr-sm",name:x.icon,color:x.iconColor,size:x.type==="blob"?e.showThumbnails?"42px":"24px":void 0})}function H(){a("afterShow")}function le(){a("afterHide")}function ne(x){const I=x[e.nodeKey],O=d.value[I],V=x.header&&m[`header-${x.header}`]||m["default-header"],R=O.isParent===!0?L(x[e.childrenKey]):[],U=R.length!==0||O.lazy&&O.lazy!=="loaded";let oe=x.body&&m[`body-${x.body}`]||m["default-body"];const he=V!==void 0||oe!==void 0?E(x,O,I):null;return oe!==void 0&&(oe=J("div",{class:"q-tree__node-body relative-position"},[J("div",{class:g.value},[oe(he)])])),J("div",{key:I,class:`q-tree__node relative-position q-tree__node--${U===!0?"parent":"child"}`},[J("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(O.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(O.selected===!0?" q-tree__node--selected":"")+(O.disabled===!0?" q-tree__node--disabled":""),tabindex:O.link===!0?0:-1,onClick:se=>{M(x,O,se)},onKeypress(se){tn(se)!==!0&&(se.keyCode===13?M(x,O,se,!0):se.keyCode===32&&T(x,O,se,!0))}},[J("div",{class:"q-focus-helper",tabindex:-1,ref:se=>{v[O.key]=se}}),O.lazy==="loading"?J(Ln,{class:"q-tree__spinner",color:s.value}):U===!0?J(Be,{class:"q-tree__arrow"+(O.expanded===!0?" q-tree__arrow--rotate":""),name:p.value,onClick(se){T(x,O,se)}}):null,O.hasTicking===!0&&O.noTick!==!0?J(QCheckbox,{class:"q-tree__tickbox",modelValue:O.indeterminate===!0?null:O.ticked,color:s.value,dark:i.value,dense:!0,keepColor:!0,disable:O.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":se=>{Z(O,se)}}):null,J("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(O.selected===!0?c.value:g.value)},[V?V(he):[G(x),J("div",x[e.labelKey])],J("div",{style:{flex:1}}),J("div",{class:"q-tree__hovercontrol"},K(x))])]),U===!0?e.noTransition===!0?J("div",{class:"q-tree__node-collapsible"+g.value,key:`${I}__q`},[oe,J("div",{class:"q-tree__children"+(O.disabled===!0?" q-tree__node--disabled":"")},O.expanded?R:null)]):J(tr,{duration:e.duration,onShow:H,onHide:le},()=>Ce(J("div",{class:"q-tree__node-collapsible"+g.value,key:`${I}__q`},[oe,J("div",{class:"q-tree__children"+(O.disabled===!0?" q-tree__node--disabled":"")},R)]),[[Fn,O.expanded]])):oe])}function fe(x){const I=v[x];I&&I.focus()}function M(x,I,O,V){V!==!0&&I.selectable!==!1&&fe(I.key),y.value&&I.selectable?e.noSelectionUnset===!1?a("update:selected",I.key!==e.selected?I.key:null):I.key!==e.selected&&a("update:selected",I.key===void 0?null:I.key):T(x,I,O,V),typeof x.handler=="function"&&x.handler(x)}function T(x,I,O,V){O!==void 0&&$e(O),V!==!0&&I.selectable!==!1&&fe(I.key),D(I.key,!I.expanded,x,I)}function Z(x,I){if(x.indeterminate===!0&&(I=x.indeterminateNextState),x.strictTicking)te([x.key],I);else if(x.leafTicking){const O=[],V=R=>{R.isParent?(I!==!0&&R.noTick!==!0&&R.tickable===!0&&O.push(R.key),R.leafTicking===!0&&R.children.forEach(V)):R.noTick!==!0&&R.tickable===!0&&(R.leafFilteredTicking!==!0||R.matchesFilter===!0)&&O.push(R.key)};V(x),te(O,I)}}return e.defaultExpandAll===!0&&P(),Object.assign(f,{getNodeByKey:S,getTickedNodes:w,getExpandedNodes:z,isExpanded:_,collapseAll:A,expandAll:P,setExpanded:D,isTicked:W,setTicked:te}),()=>{const x=L(e.nodes);return J("div",{class:h.value},x.length===0?e.filter?e.noResultsLabel||t.lang.tree.noResults:m["no-nodes"]({tree:f})||e.noNodesLabel||t.lang.tree.noNodesLabel:x)}}}));function nr(){return Et(Pr)}let yi=0;const _i=["click","keydown"],ki={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${yi++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function wi(e,m,a,f){const t=Et(Dn,Qe);if(t===Qe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Qe;const{proxy:i}=Pe(),n=ie(null),r=ie(null),l=ie(null),v=N(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=N(()=>t.currentModel.value===e.name),y=N(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(t.tabProps.value.activeClass?" "+t.tabProps.value.activeClass:"")+(t.tabProps.value.activeColor?` text-${t.tabProps.value.activeColor}`:"")+(t.tabProps.value.activeBgColor?` bg-${t.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&t.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||t.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(f!==void 0?f.linkClass.value:"")),p=N(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(t.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),s=N(()=>e.disable===!0||t.hasFocus.value===!0||h.value===!1&&t.hasActiveTab.value===!0?-1:e.tabindex||0);function g(w,z){if(z!==!0&&n.value!==null&&n.value.focus(),e.disable===!0){f!==void 0&&f.hasRouterLink.value===!0&&$e(w);return}if(f===void 0){t.updateModel({name:e.name}),a("click",w);return}if(f.hasRouterLink.value===!0){const _=(A={})=>{let P;const D=A.to===void 0||Or(A.to,e.to)===!0?t.avoidRouteWatcher=nn():null;return f.navigateToRouterLink(w,{...A,returnRouterError:!0}).catch($=>{P=$}).then($=>{if(D===t.avoidRouteWatcher&&(t.avoidRouteWatcher=!1,P===void 0&&($===void 0||$.message.startsWith("Avoided redundant navigation")===!0)&&t.updateModel({name:e.name})),A.returnRouterError===!0)return P!==void 0?Promise.reject(P):$})};a("click",w,_),w.defaultPrevented!==!0&&_();return}a("click",w)}function c(w){Ft(w,[13,32])?g(w,!0):tn(w)!==!0&&w.keyCode>=35&&w.keyCode<=40&&w.altKey!==!0&&w.metaKey!==!0&&t.onKbdNavigate(w.keyCode,i.$el)===!0&&$e(w),a("keydown",w)}function b(){const w=t.tabProps.value.narrowIndicator,z=[],_=J("div",{ref:l,class:["q-tab__indicator",t.tabProps.value.indicatorClass]});e.icon!==void 0&&z.push(J(Be,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&z.push(J("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&z.push(e.alertIcon!==void 0?J(Be,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):J("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),w===!0&&z.push(_);const A=[J("div",{class:"q-focus-helper",tabindex:-1,ref:n}),J("div",{class:p.value},Lt(m.default,z))];return w===!1&&A.push(_),A}const d={name:N(()=>e.name),rootRef:r,tabIndicatorRef:l,routeData:f};Ve(()=>{t.unregisterTab(d)}),tt(()=>{t.registerTab(d)});function S(w,z){const _={ref:r,class:y.value,tabindex:s.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:g,onKeydown:c,...z};return Ce(J(w,_,b()),[[Ir,v.value]])}return{renderTab:S,$tabs:t}}var xi=qe({name:"QTab",props:ki,emits:_i,setup(e,{slots:m,emit:a}){const{renderTab:f}=wi(e,m,a);return()=>f("div")}});const Si=J("div",{class:"q-space"});var on=qe({name:"QSpace",setup(){return()=>Si}});let rr=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const m=document.createElement("div");Object.assign(m.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(m),e.scrollLeft=-1e3,rr=e.scrollLeft>=0,e.remove()}function Ci(e,m,a){const f=a===!0?["left","right"]:["top","bottom"];return`absolute-${m===!0?f[0]:f[1]}${e?` text-${e}`:""}`}const zi=["left","center","right","justify"];var Ti=qe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>zi.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:m,emit:a}){const{proxy:f}=Pe(),{$q:t}=f,{registerTick:i}=gt(),{registerTick:n}=gt(),{registerTick:r}=gt(),{registerTimeout:l,removeTimeout:v}=Tt(),{registerTimeout:h,removeTimeout:y}=Tt(),p=ie(null),s=ie(null),g=ie(e.modelValue),c=ie(!1),b=ie(!0),d=ie(!1),S=ie(!1),w=[],z=ie(0),_=ie(!1);let A=null,P=null,D;const $=N(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ci(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),W=N(()=>{const F=z.value,B=g.value;for(let X=0;X<F;X++)if(w[X].name.value===B)return!0;return!1}),te=N(()=>`q-tabs__content--align-${c.value===!0?"left":S.value===!0?"justify":e.align}`),E=N(()=>`q-tabs row no-wrap items-center q-tabs--${c.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),L=N(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+te.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),u=N(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),K=N(()=>e.vertical!==!0&&t.lang.rtl===!0),G=N(()=>rr===!1&&K.value===!0);Se(K,T),Se(()=>e.modelValue,F=>{H({name:F,setCurrent:!0,skipEmit:!0})}),Se(()=>e.outsideArrows,le);function H({name:F,setCurrent:B,skipEmit:X}){g.value!==F&&(X!==!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",F),(B===!0||e["onUpdate:modelValue"]===void 0)&&(fe(g.value,F),g.value=F))}function le(){i(()=>{ne({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function ne(F){if(u.value===void 0||s.value===null)return;const B=F[u.value.container],X=Math.min(s.value[u.value.scroll],Array.prototype.reduce.call(s.value.children,(re,ue)=>re+(ue[u.value.content]||0),0)),ae=B>0&&X>B;c.value=ae,ae===!0&&n(T),S.value=B<parseInt(e.breakpoint,10)}function fe(F,B){const X=F!=null&&F!==""?w.find(re=>re.name.value===F):null,ae=B!=null&&B!==""?w.find(re=>re.name.value===B):null;if(X&&ae){const re=X.tabIndicatorRef.value,ue=ae.tabIndicatorRef.value;A!==null&&(clearTimeout(A),A=null),re.style.transition="none",re.style.transform="none",ue.style.transition="none",ue.style.transform="none";const ve=re.getBoundingClientRect(),ge=ue.getBoundingClientRect();ue.style.transform=e.vertical===!0?`translate3d(0,${ve.top-ge.top}px,0) scale3d(1,${ge.height?ve.height/ge.height:1},1)`:`translate3d(${ve.left-ge.left}px,0,0) scale3d(${ge.width?ve.width/ge.width:1},1,1)`,r(()=>{A=setTimeout(()=>{A=null,ue.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ue.style.transform="none"},70)})}ae&&c.value===!0&&M(ae.rootRef.value)}function M(F){const{left:B,width:X,top:ae,height:re}=s.value.getBoundingClientRect(),ue=F.getBoundingClientRect();let ve=e.vertical===!0?ue.top-ae:ue.left-B;if(ve<0){s.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ve),T();return}ve+=e.vertical===!0?ue.height-re:ue.width-X,ve>0&&(s.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ve),T())}function T(){const F=s.value;if(F===null)return;const B=F.getBoundingClientRect(),X=e.vertical===!0?F.scrollTop:Math.abs(F.scrollLeft);K.value===!0?(b.value=Math.ceil(X+B.width)<F.scrollWidth-1,d.value=X>0):(b.value=X>0,d.value=e.vertical===!0?Math.ceil(X+B.height)<F.scrollHeight:Math.ceil(X+B.width)<F.scrollWidth)}function Z(F){P!==null&&clearInterval(P),P=setInterval(()=>{U(F)===!0&&O()},5)}function x(){Z(G.value===!0?Number.MAX_SAFE_INTEGER:0)}function I(){Z(G.value===!0?0:Number.MAX_SAFE_INTEGER)}function O(){P!==null&&(clearInterval(P),P=null)}function V(F,B){const X=Array.prototype.filter.call(s.value.children,ge=>ge===B||ge.matches&&ge.matches(".q-tab.q-focusable")===!0),ae=X.length;if(ae===0)return;if(F===36)return M(X[0]),X[0].focus(),!0;if(F===35)return M(X[ae-1]),X[ae-1].focus(),!0;const re=F===(e.vertical===!0?38:37),ue=F===(e.vertical===!0?40:39),ve=re===!0?-1:ue===!0?1:void 0;if(ve!==void 0){const ge=K.value===!0?-1:1,Ee=X.indexOf(B)+ve*ge;return Ee>=0&&Ee<ae&&(M(X[Ee]),X[Ee].focus({preventScroll:!0})),!0}}const R=N(()=>G.value===!0?{get:F=>Math.abs(F.scrollLeft),set:(F,B)=>{F.scrollLeft=-B}}:e.vertical===!0?{get:F=>F.scrollTop,set:(F,B)=>{F.scrollTop=B}}:{get:F=>F.scrollLeft,set:(F,B)=>{F.scrollLeft=B}});function U(F){const B=s.value,{get:X,set:ae}=R.value;let re=!1,ue=X(B);const ve=F<ue?-1:1;return ue+=ve*5,ue<0?(re=!0,ue=0):(ve===-1&&ue<=F||ve===1&&ue>=F)&&(re=!0,ue=F),ae(B,ue),T(),re}function oe(F,B){for(const X in F)if(F[X]!==B[X])return!1;return!0}function he(){let F=null,B={matchedLen:0,queryDiff:9999,hrefLen:0};const X=w.filter(ve=>ve.routeData!==void 0&&ve.routeData.hasRouterLink.value===!0),{hash:ae,query:re}=f.$route,ue=Object.keys(re).length;for(const ve of X){const ge=ve.routeData.exact.value===!0;if(ve.routeData[ge===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ee,query:je,matched:Le,href:Ze}=ve.routeData.resolvedLink.value,ee=Object.keys(je).length;if(ge===!0){if(Ee!==ae||ee!==ue||oe(re,je)===!1)continue;F=ve.name.value;break}if(Ee!==""&&Ee!==ae||ee!==0&&oe(je,re)===!1)continue;const be={matchedLen:Le.length,queryDiff:ue-ee,hrefLen:Ze.length-Ee.length};if(be.matchedLen>B.matchedLen){F=ve.name.value,B=be;continue}else if(be.matchedLen!==B.matchedLen)continue;if(be.queryDiff<B.queryDiff)F=ve.name.value,B=be;else if(be.queryDiff!==B.queryDiff)continue;be.hrefLen>B.hrefLen&&(F=ve.name.value,B=be)}F===null&&w.some(ve=>ve.routeData===void 0&&ve.name.value===g.value)===!0||H({name:F,setCurrent:!0})}function se(F){if(v(),_.value!==!0&&p.value!==null&&F.target&&typeof F.target.closest=="function"){const B=F.target.closest(".q-tab");B&&p.value.contains(B)===!0&&(_.value=!0,c.value===!0&&M(B))}}function _e(){l(()=>{_.value=!1},30)}function o(){k.avoidRouteWatcher===!1?h(he):y()}function Q(){if(D===void 0){const F=Se(()=>f.$route.fullPath,o);D=()=>{F(),D=void 0}}}function j(F){w.push(F),z.value++,le(),F.routeData===void 0||f.$route===void 0?h(()=>{if(c.value===!0){const B=g.value,X=B!=null&&B!==""?w.find(ae=>ae.name.value===B):null;X&&M(X.rootRef.value)}}):(Q(),F.routeData.hasRouterLink.value===!0&&o())}function C(F){w.splice(w.indexOf(F),1),z.value--,le(),D!==void 0&&F.routeData!==void 0&&(w.every(B=>B.routeData===void 0)===!0&&D(),o())}const k={currentModel:g,tabProps:$,hasFocus:_,hasActiveTab:W,registerTab:j,unregisterTab:C,verifyRouteModel:o,updateModel:H,onKbdNavigate:V,avoidRouteWatcher:!1};Rr(Dn,k);function q(){A!==null&&clearTimeout(A),O(),D!==void 0&&D()}let Y;return Ve(q),Nn(()=>{Y=D!==void 0,q()}),Mn(()=>{Y===!0&&Q(),le()}),()=>J("div",{ref:p,class:E.value,role:"tablist",onFocusin:se,onFocusout:_e},[J(Zt,{onResize:ne}),J("div",{ref:s,class:L.value,onScroll:T},Ue(m.default)),J(Be,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(b.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||t.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:x,onTouchstartPassive:x,onMouseupPassive:O,onMouseleavePassive:O,onTouchendPassive:O}),J(Be,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(d.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||t.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:I,onTouchstartPassive:I,onMouseupPassive:O,onMouseleavePassive:O,onTouchendPassive:O})])}});const sn={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ei=Object.keys(sn);sn.all=!0;function Rt(e){const m={};for(const a of Ei)e[a]===!0&&(m[a]=!0);return Object.keys(m).length===0?sn:(m.horizontal===!0?m.left=m.right=!0:m.left===!0&&m.right===!0&&(m.horizontal=!0),m.vertical===!0?m.up=m.down=!0:m.up===!0&&m.down===!0&&(m.vertical=!0),m.horizontal===!0&&m.vertical===!0&&(m.all=!0),m)}const Ai=["INPUT","TEXTAREA"];function $t(e,m){return m.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof m.handler=="function"&&Ai.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(m.uid)===-1)}function qi(e){const m=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,f)=>{const t=parseFloat(a);t&&(m[f]=t)}),m}var Bi=en({name:"touch-swipe",beforeMount(e,{value:m,arg:a,modifiers:f}){if(f.mouse!==!0&&He.has.touch!==!0)return;const t=f.mouseCapture===!0?"Capture":"",i={handler:m,sensitivity:qi(a),direction:Rt(f),noop:Un,mouseStart(n){$t(n,i)&&jn(n)&&(Ne(i,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(n,!0))},touchStart(n){if($t(n,i)){const r=n.target;Ne(i,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),i.start(n)}},start(n,r){He.is.firefox===!0&&lt(e,!0);const l=ot(n);i.event={x:l.left,y:l.top,time:Date.now(),mouse:r===!0,dir:!1}},move(n){if(i.event===void 0)return;if(i.event.dir!==!1){$e(n);return}const r=Date.now()-i.event.time;if(r===0)return;const l=ot(n),v=l.left-i.event.x,h=Math.abs(v),y=l.top-i.event.y,p=Math.abs(y);if(i.event.mouse!==!0){if(h<i.sensitivity[1]&&p<i.sensitivity[1]){i.end(n);return}}else if(window.getSelection().toString()!==""){i.end(n);return}else if(h<i.sensitivity[2]&&p<i.sensitivity[2])return;const s=h/r,g=p/r;i.direction.vertical===!0&&h<p&&h<100&&g>i.sensitivity[0]&&(i.event.dir=y<0?"up":"down"),i.direction.horizontal===!0&&h>p&&p<100&&s>i.sensitivity[0]&&(i.event.dir=v<0?"left":"right"),i.direction.up===!0&&h<p&&y<0&&h<100&&g>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&h<p&&y>0&&h<100&&g>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&h>p&&v<0&&p<100&&s>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&h>p&&v>0&&p<100&&s>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?($e(n),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),yt(),i.styleCleanup=c=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};c===!0?setTimeout(b,50):b()}),i.handler({evt:n,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:r,distance:{x:h,y:p}})):i.end(n)},end(n){i.event!==void 0&&(Ge(i,"temp"),He.is.firefox===!0&&lt(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),n!==void 0&&i.event.dir!==!1&&$e(n),i.event=void 0)}};if(e.__qtouchswipe=i,f.mouse===!0){const n=f.mouseCapture===!0||f.mousecapture===!0?"Capture":"";Ne(i,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}He.has.touch===!0&&Ne(i,"main",[[e,"touchstart","touchStart",`passive${f.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,m){const a=e.__qtouchswipe;a!==void 0&&(m.oldValue!==m.value&&(typeof m.value!="function"&&a.end(),a.handler=m.value),a.direction=Rt(m.modifiers))},beforeUnmount(e){const m=e.__qtouchswipe;m!==void 0&&(Ge(m,"main"),Ge(m,"temp"),He.is.firefox===!0&&lt(e,!1),m.styleCleanup!==void 0&&m.styleCleanup(),delete e.__qtouchswipe)}});function Pi(){const e=new Map;return{getCache:function(m,a){return e[m]===void 0?e[m]=a:e[m]},getCacheWithFn:function(m,a){return e[m]===void 0?e[m]=a():e[m]}}}const Ii={name:{required:!0},disable:Boolean},bn={setup(e,{slots:m}){return()=>J("div",{class:"q-panel scroll",role:"tabpanel"},Ue(m.default))}},Oi={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ri=["update:modelValue","beforeTransition","transition"];function $i(){const{props:e,emit:m,proxy:a}=Pe(),{getCacheWithFn:f}=Pi();let t,i;const n=ie(null),r=ie(null);function l(L){const u=e.vertical===!0?"up":"left";P((a.$q.lang.rtl===!0?-1:1)*(L.direction===u?1:-1))}const v=N(()=>[[Bi,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=N(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=N(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=N(()=>`--q-transition-duration: ${e.transitionDuration}ms`),s=N(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),g=N(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),c=N(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Se(()=>e.modelValue,(L,u)=>{const K=w(L)===!0?z(L):-1;i!==!0&&A(K===-1?0:K<z(u)?-1:1),n.value!==K&&(n.value=K,m("beforeTransition",L,u),_t(()=>{m("transition",L,u)}))});function b(){P(1)}function d(){P(-1)}function S(L){m("update:modelValue",L)}function w(L){return L!=null&&L!==""}function z(L){return t.findIndex(u=>u.props.name===L&&u.props.disable!==""&&u.props.disable!==!0)}function _(){return t.filter(L=>L.props.disable!==""&&L.props.disable!==!0)}function A(L){const u=L!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(L===-1?h.value:y.value):null;r.value!==u&&(r.value=u)}function P(L,u=n.value){let K=u+L;for(;K>-1&&K<t.length;){const G=t[K];if(G!==void 0&&G.props.disable!==""&&G.props.disable!==!0){A(L),i=!0,m("update:modelValue",G.props.name),setTimeout(()=>{i=!1});return}K+=L}e.infinite===!0&&t.length!==0&&u!==-1&&u!==t.length&&P(L,L===-1?t.length:-1)}function D(){const L=z(e.modelValue);return n.value!==L&&(n.value=L),!0}function $(){const L=w(e.modelValue)===!0&&D()&&t[n.value];return e.keepAlive===!0?[J(Lr,g.value,[J(c.value===!0?f(s.value,()=>({...bn,name:s.value})):bn,{key:s.value,style:p.value},()=>L)])]:[J("div",{class:"q-panel scroll",style:p.value,key:s.value,role:"tabpanel"},[L])]}function W(){if(t.length!==0)return e.animated===!0?[J(Dt,{name:r.value},$)]:$()}function te(L){return t=$r(Ue(L.default,[])).filter(u=>u.props!==null&&u.props.slot===void 0&&w(u.props.name)===!0),t.length}function E(){return t}return Object.assign(a,{next:b,previous:d,goTo:S}),{panelIndex:n,panelDirectives:v,updatePanelsList:te,updatePanelIndex:D,getPanelContent:W,getEnabledPanels:_,getPanels:E,isValidPanelName:w,keepAliveProps:g,needsUniqueKeepAliveWrapper:c,goToPanelByOffset:P,goToPanel:S,nextPanel:b,previousPanel:d}}var Li=qe({name:"QTabPanel",props:Ii,setup(e,{slots:m}){return()=>J("div",{class:"q-tab-panel",role:"tabpanel"},Ue(m.default))}}),Fi=qe({name:"QTabPanels",props:{...Oi,...Xe},emits:Ri,setup(e,{slots:m}){const a=Pe(),f=Je(e,a.proxy.$q),{updatePanelsList:t,getPanelContent:i,panelDirectives:n}=$i(),r=N(()=>"q-tab-panels q-panel-parent"+(f.value===!0?" q-tab-panels--dark q-dark":""));return()=>(t(m),Kn("div",{class:r.value},i(),"pan",e.swipeable,()=>n.value))}});function ir(e){return Fr()?(Dr(e),!0):!1}function ar(e){return typeof e=="function"?e():ye(e)}const Nt=typeof window!="undefined",or=()=>{};function Di(...e){if(e.length!==1)return Nr(...e);const m=e[0];return typeof m=="function"?Mr(Ur(()=>({get:m,set:or}))):ie(m)}function Ni(e,m=!0){Pe()?tt(e):m?e():_t(e)}function sr(e){var m;const a=ar(e);return(m=a==null?void 0:a.$el)!=null?m:a}const wt=Nt?window:void 0;Nt&&window.document;Nt&&window.navigator;Nt&&window.location;function Re(...e){let m,a,f,t;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,f,t]=e,m=wt):[m,a,f,t]=e,!m)return or;Array.isArray(a)||(a=[a]),Array.isArray(f)||(f=[f]);const i=[],n=()=>{i.forEach(h=>h()),i.length=0},r=(h,y,p,s)=>(h.addEventListener(y,p,s),()=>h.removeEventListener(y,p,s)),l=Se(()=>[sr(m),ar(t)],([h,y])=>{n(),h&&i.push(...a.flatMap(p=>f.map(s=>r(h,p,s,y))))},{immediate:!0,flush:"post"}),v=()=>{l(),n()};return ir(v),v}function Mi(){const e=ie(!1);return Pe()&&tt(()=>{e.value=!0}),e}function Ui(e){const m=Mi();return N(()=>(m.value,Boolean(e())))}function ji(e,m={}){const{window:a=wt}=m,f=Ui(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let t;const i=ie(!1),n=()=>{!t||("removeEventListener"in t?t.removeEventListener("change",r):t.removeListener(r))},r=()=>{!f.value||(n(),t=a.matchMedia(Di(e).value),i.value=!!(t!=null&&t.matches),t&&("addEventListener"in t?t.addEventListener("change",r):t.addListener(r)))};return jr(r),ir(()=>n()),i}const Ki={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function Hi(e={}){const{type:m="page",touch:a=!0,resetOnTouchEnds:f=!1,initialValue:t={x:0,y:0},window:i=wt,target:n=i,eventFilter:r}=e,l=ie(t.x),v=ie(t.y),h=ie(null),y=typeof m=="function"?m:Ki[m],p=d=>{const S=y(d);S&&([l.value,v.value]=S,h.value="mouse")},s=d=>{if(d.touches.length>0){const S=y(d.touches[0]);S&&([l.value,v.value]=S,h.value="touch")}},g=()=>{l.value=t.x,v.value=t.y},c=r?d=>r(()=>p(d),{}):d=>p(d),b=r?d=>r(()=>s(d),{}):d=>s(d);return n&&(Re(n,"mousemove",c,{passive:!0}),Re(n,"dragover",c,{passive:!0}),a&&m!=="movement"&&(Re(n,"touchstart",b,{passive:!0}),Re(n,"touchmove",b,{passive:!0}),f&&Re(n,"touchend",g,{passive:!0}))),{x:l,y:v,sourceType:h}}function Wi(e={}){const{touch:m=!0,drag:a=!0,initialValue:f=!1,window:t=wt}=e,i=ie(f),n=ie(null);if(!t)return{pressed:i,sourceType:n};const r=h=>()=>{i.value=!0,n.value=h},l=()=>{i.value=!1,n.value=null},v=N(()=>sr(e.target)||t);return Re(v,"mousedown",r("mouse"),{passive:!0}),Re(t,"mouseleave",l,{passive:!0}),Re(t,"mouseup",l,{passive:!0}),a&&(Re(v,"dragstart",r("mouse"),{passive:!0}),Re(t,"drop",l,{passive:!0}),Re(t,"dragend",l,{passive:!0})),m&&(Re(v,"touchstart",r("touch"),{passive:!0}),Re(t,"touchend",l,{passive:!0}),Re(t,"touchcancel",l,{passive:!0})),{pressed:i,sourceType:n}}function Vi(e={}){const{window:m=wt,initialWidth:a=1/0,initialHeight:f=1/0,listenOrientation:t=!0,includeScrollbar:i=!0}=e,n=ie(a),r=ie(f),l=()=>{m&&(i?(n.value=m.innerWidth,r.value=m.innerHeight):(n.value=m.document.documentElement.clientWidth,r.value=m.document.documentElement.clientHeight))};if(l(),Ni(l),Re("resize",l,{passive:!0}),t){const v=ji("(orientation: portrait)");Se(v,()=>l())}return{width:n,height:r}}const Zi=nt({__name:"PanelResizer",props:{maxSize:{},minSize:{},setSize:{type:Function}},setup(e){const m=e,a=et(),f=ie(),{pressed:t}=Wi({target:f}),{y:i}=Hi(),{height:n}=Vi();return Se(()=>t,r=>{a.globalCursor=r?"ns-resize":""}),Se(i,r=>{if(t.value){let l=n.value-r-3;l>m.maxSize&&(l=m.maxSize),l<m.minSize&&(l=m.minSize),m.setSize(l)}}),(r,l)=>(pe(),we("div",{ref_key:"el",ref:f,style:{height:"3px",cursor:"ns-resize",marginTop:"-3px"}}," \xA0 ",512))}});var yn=qe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:m}){const a=N(()=>parseInt(e.lines,10)),f=N(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),t=N(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>J("div",{style:t.value,class:f.value},Ue(m.default))}});const _n=["B","KB","MB","GB","TB","PB"];function Qi(e){let m=0;for(;parseInt(e,10)>=1024&&m<_n.length-1;)e/=1024,++m;return`${e.toFixed(1)}${_n[m]}`}function Yi(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Me(e,m,a){return a<=m?m:Math.min(a,Math.max(m,e))}function Gi(e,m,a){if(a<=m)return m;const f=a-m+1;let t=m+(e-m)%f;return t<m&&(t=f+t),t===0?0:t}function Xi(e,m=2,a="0"){if(e==null)return e;const f=""+e;return f.length>=m?f:new Array(m-f.length+1).join(a)+f}var lr={humanStorageSize:Qi,capitalize:Yi,between:Me,normalizeToInterval:Gi,pad:Xi};const Ji={class:"row"},ea=["href"],ta=nt({__name:"NodePreviewTab",props:{label:{},info:{}},setup(e){const m=e,{humanStorageSize:a}=lr,f=et(),t=ie(null),i=async n=>{t.value=(await ti({...n,token:f.token})).commit};return Se(()=>m.info,i),tt(()=>{i(m.info)}),(n,r)=>(pe(),we("div",Ji,[ce(st,{dense:"",class:"col-xs-12"},{default:me(()=>[ce(Ke,null,{default:me(()=>[ce(yn,null,{default:me(()=>[Oe(Fe(n.info.path)+" ["+Fe(ye(a)(n.info.size))+"]",1)]),_:1}),ce(yn,null,{default:me(()=>[de("a",{href:`https://github.com/${n.info.repo}/tree/${n.info.branch}/${n.info.path}`},[ce(Be,{name:"mdi-github",size:"15px",style:{"vertical-align":"baseline"}}),Oe(Fe(n.info.repo),1)],8,ea)]),_:1})]),_:1})]),_:1})]))}}),na={class:"thumbnail"},ra=["src"],ia={style:{display:"flex","flex-direction":"column",flex:"1"}},aa=nt({__name:"NodePreview",props:{node:{},showManagementUI:{type:Boolean}},emits:["action:import","action:open","action:edit"],setup(e,{emit:m}){const a=e,f=et(),t=ie(""),i=ie("step"),n=async l=>{var v,h,y,p,s,g,c;(v=l.meta)!=null&&v.thumb?t.value=(h=l==null?void 0:l.meta)==null?void 0:h.thumb:(y=l.content_types)!=null&&y.thumb?Qt({url:(p=l==null?void 0:l.content_types)==null?void 0:p.thumb.url,token:f.token,content_type:"image/png"}).then(b=>t.value=b):(g=(s=l==null?void 0:l.content_types)==null?void 0:s.svg)!=null&&g.url?Qt({url:(c=l==null?void 0:l.content_types)==null?void 0:c.svg.url,token:f.token,content_type:"image/svg+xml"}).then(b=>t.value=b):t.value=""},r=l=>{var v;if(((v=l.content_types)==null?void 0:v[i.value])===void 0){const h=l.content_types;i.value=h!=null&&h.step?"step":h!=null&&h.f3d?"f3d":h!=null&&h.dxf?"dxf":h!=null&&h.svg?"svg":i.value}};return tt(()=>{n(a.node),r(a.node)}),Se(()=>a.node,n),Se(()=>a.node,r),(l,v)=>(pe(),we("div",{class:"previewPane shadow-up-2",style:ut([{"z-index":"2"},{maxHeight:`${ye(f).preferences.previewSize}px`}])},[ce(Zi,{setSize:h=>ye(f).preferences.previewSize=h,minSize:64,maxSize:256},null,8,["setSize"]),de("div",{class:"row",style:ut({display:"flex",flexDirection:"row",flexWrap:"nowrap",height:`${ye(f).preferences.previewSize}px`})},[de("div",na,[t.value?(pe(),we("img",{key:0,src:t.value,style:ut({width:`${ye(f).preferences.previewSize}px`,height:`${ye(f).preferences.previewSize}px`,objectFit:"contain"})},null,12,ra)):Ae("",!0),t.value?Ae("",!0):(pe(),ze(Be,{key:1,name:l.node.icon,size:`${ye(f).preferences.previewSize}px`},null,8,["name","size"]))]),de("div",ia,[ce(Ti,{breakpoint:50,modelValue:i.value,"onUpdate:modelValue":v[4]||(v[4]=h=>i.value=h),dense:"","narrow-indicator":"",align:"left",class:"shadow-2"},{default:me(()=>{var h,y,p,s,g,c,b;return[(pe(!0),we(Ye,null,rt(Object.keys(((h=l.node)==null?void 0:h.content_types)||{}).filter(d=>d!=="meta"&&d!=="thumb"),d=>(pe(),ze(xi,{name:d,key:d,dense:"",label:`.${d.toUpperCase()}`},null,8,["name","label"]))),128)),ce(on),ye(f).backend.isFusion360?(pe(),we(Ye,{key:0},[ce(Te,{icon:"mdi-import",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"Import",class:"q-pr-sm q-mr-sm",onClick:v[0]||(v[0]=d=>{d.stopPropagation(),d.preventDefault(),m("action:import",{nodeId:l.node.id,contentType:i.value})})},null,8,["size"]),((y=l.node.content_types)==null?void 0:y.step)||((p=l.node.content_types)==null?void 0:p.f3d)?(pe(),ze(Te,{key:0,icon:"mdi-open-in-new",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"Open",class:"q-pr-sm q-mr-sm",onClick:v[1]||(v[1]=d=>{d.stopPropagation(),d.preventDefault(),m("action:open",{nodeId:l.node.id,contentType:i.value})})},null,8,["size"])):Ae("",!0)],64)):(pe(),we(Ye,{key:1},[((s=l.node.content_types)==null?void 0:s.step)||((g=l.node.content_types)==null?void 0:g.f3d)?(pe(),ze(Te,{key:0,icon:"mdi-download",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"Download",class:"q-pr-sm q-mr-sm",onClick:v[2]||(v[2]=d=>{d.stopPropagation(),d.preventDefault(),m("action:open",{nodeId:l.node.id,contentType:i.value})})},null,8,["size"])):Ae("",!0)],64)),a.showManagementUI&&(((c=l.node.content_types)==null?void 0:c.step)||((b=l.node.content_types)==null?void 0:b.f3d))?(pe(),ze(Te,{key:2,icon:"mdi-pencil",size:`${ye(f).preferences.fontSize}px`,dense:"",rounded:"",unelevated:"",label:"edit",class:"q-mr-sm",onClick:v[3]||(v[3]=d=>{d.stopPropagation(),d.preventDefault(),m("action:edit",{nodeId:l.node.id})})},null,8,["size"])):Ae("",!0)]}),_:1},8,["modelValue"]),ce(Fi,{animated:"",modelValue:i.value,"onUpdate:modelValue":v[5]||(v[5]=h=>i.value=h),style:{flex:"1","overflow-y":"auto",height:"1px"}},{default:me(()=>{var h;return[(pe(!0),we(Ye,null,rt(Object.keys(((h=l.node)==null?void 0:h.content_types)||{}).filter(y=>y!=="meta"&&y!=="thumb"),y=>(pe(),ze(Li,{class:"q-pa-xs",key:y,name:y},{default:me(()=>{var p,s;return[ce(ta,{label:y.toUpperCase(),info:(s=(p=l.node)==null?void 0:p.content_types)==null?void 0:s[y]},null,8,["label","info"])]}),_:2},1032,["name"]))),128))]}),_:1},8,["modelValue"])])],4)],4))}});function Ht(e,m,a){const f=ot(e);let t,i=f.left-m.event.x,n=f.top-m.event.y,r=Math.abs(i),l=Math.abs(n);const v=m.direction;v.horizontal===!0&&v.vertical!==!0?t=i<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=n<0?"up":"down":v.up===!0&&n<0?(t="up",r>l&&(v.left===!0&&i<0?t="left":v.right===!0&&i>0&&(t="right"))):v.down===!0&&n>0?(t="down",r>l&&(v.left===!0&&i<0?t="left":v.right===!0&&i>0&&(t="right"))):v.left===!0&&i<0?(t="left",r<l&&(v.up===!0&&n<0?t="up":v.down===!0&&n>0&&(t="down"))):v.right===!0&&i>0&&(t="right",r<l&&(v.up===!0&&n<0?t="up":v.down===!0&&n>0&&(t="down")));let h=!1;if(t===void 0&&a===!1){if(m.event.isFirst===!0||m.event.lastDir===void 0)return{};t=m.event.lastDir,h=!0,t==="left"||t==="right"?(f.left-=i,r=0,i=0):(f.top-=n,l=0,n=0)}return{synthetic:h,payload:{evt:e,touch:m.event.mouse!==!0,mouse:m.event.mouse===!0,position:f,direction:t,isFirst:m.event.isFirst,isFinal:a===!0,duration:Date.now()-m.event.time,distance:{x:r,y:l},offset:{x:i,y:n},delta:{x:f.left-m.event.lastX,y:f.top-m.event.lastY}}}}let oa=0;var Xt=en({name:"touch-pan",beforeMount(e,{value:m,modifiers:a}){if(a.mouse!==!0&&He.has.touch!==!0)return;function f(i,n){a.mouse===!0&&n===!0?$e(i):(a.stop===!0&&Mt(i),a.prevent===!0&&zt(i))}const t={uid:"qvtp_"+oa++,handler:m,modifiers:a,direction:Rt(a),noop:Un,mouseStart(i){$t(i,t)&&jn(i)&&(Ne(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(i,!0))},touchStart(i){if($t(i,t)){const n=i.target;Ne(t,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","passiveCapture"],[n,"touchend","end","passiveCapture"]]),t.start(i)}},start(i,n){if(He.is.firefox===!0&&lt(e,!0),t.lastEvt=i,n===!0||a.stop===!0){if(t.direction.all!==!0&&(n!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=i.type.indexOf("mouse")>-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&zt(v),i.cancelBubble===!0&&Mt(v),Object.assign(v,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[t.uid]:i.qClonedBy.concat(t.uid)}),t.initialEvent={target:i.target,event:v}}Mt(i)}const{left:r,top:l}=ot(i);t.event={x:r,y:l,time:Date.now(),mouse:n===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:l}},move(i){if(t.event===void 0)return;const n=ot(i),r=n.left-t.event.x,l=n.top-t.event.y;if(r===0&&l===0)return;t.lastEvt=i;const v=t.event.mouse===!0,h=()=>{f(i,v);let s;a.preserveCursor!==!0&&a.preservecursor!==!0&&(s=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),yt(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,s!==void 0&&(document.documentElement.style.cursor=s),document.body.classList.remove("non-selectable"),v===!0){const c=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{c(),g()},50):c()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&f(i,t.event.mouse);const{payload:s,synthetic:g}=Ht(i,t,!1);s!==void 0&&(t.handler(s)===!1?t.end(i):(t.styleCleanup===void 0&&t.event.isFirst===!0&&h(),t.event.lastX=s.position.left,t.event.lastY=s.position.top,t.event.lastDir=g===!0?void 0:s.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){h(),t.event.detected=!0,t.move(i);return}const y=Math.abs(r),p=Math.abs(l);y!==p&&(t.direction.horizontal===!0&&y>p||t.direction.vertical===!0&&y<p||t.direction.up===!0&&y<p&&l<0||t.direction.down===!0&&y<p&&l>0||t.direction.left===!0&&y>p&&r<0||t.direction.right===!0&&y>p&&r>0?(t.event.detected=!0,t.move(i)):t.end(i,!0))},end(i,n){if(t.event!==void 0){if(Ge(t,"temp"),He.is.firefox===!0&&lt(e,!1),n===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Ht(i===void 0?t.lastEvt:i,t).payload);const{payload:r}=Ht(i===void 0?t.lastEvt:i,t,!0),l=()=>{t.handler(r)};t.styleCleanup!==void 0?t.styleCleanup(l):l()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,a.mouse===!0){const i=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";Ne(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}He.has.touch===!0&&Ne(t,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,m){const a=e.__qtouchpan;a!==void 0&&(m.oldValue!==m.value&&(typeof value!="function"&&a.end(),a.handler=m.value),a.direction=Rt(m.modifiers))},beforeUnmount(e){const m=e.__qtouchpan;m!==void 0&&(m.event!==void 0&&m.end(),Ge(m,"main"),Ge(m,"temp"),He.is.firefox===!0&&lt(e,!1),m.styleCleanup!==void 0&&m.styleCleanup(),delete e.__qtouchpan)}});const kn="q-slider__marker-labels",sa=e=>({value:e}),la=({marker:e})=>J("div",{key:e.value,style:e.style,class:e.classes},e.label),ur=[34,37,40,33,39,38],ua={...Xe,...Hr,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ca=["pan","update:modelValue","change"];function da({updateValue:e,updatePosition:m,getDragging:a,formAttrs:f}){const{props:t,emit:i,slots:n,proxy:{$q:r}}=Pe(),l=Je(t,r),v=Wr(f),h=ie(!1),y=ie(!1),p=ie(!1),s=ie(!1),g=N(()=>t.vertical===!0?"--v":"--h"),c=N(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),b=N(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(r.lang.rtl===!0)),d=N(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),S=N(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),w=N(()=>t.disable!==!0&&t.readonly!==!0&&d.value<S.value),z=N(()=>(String(t.step).trim().split(".")[1]||"").length),_=N(()=>t.step===0?1:t.step),A=N(()=>w.value===!0?t.tabindex||0:-1),P=N(()=>t.max-t.min),D=N(()=>S.value-d.value),$=N(()=>he(d.value)),W=N(()=>he(S.value)),te=N(()=>t.vertical===!0?b.value===!0?"bottom":"top":b.value===!0?"right":"left"),E=N(()=>t.vertical===!0?"height":"width"),L=N(()=>t.vertical===!0?"width":"height"),u=N(()=>t.vertical===!0?"vertical":"horizontal"),K=N(()=>{const ee={role:"slider","aria-valuemin":d.value,"aria-valuemax":S.value,"aria-orientation":u.value,"data-step":t.step};return t.disable===!0?ee["aria-disabled"]="true":t.readonly===!0&&(ee["aria-readonly"]="true"),ee}),G=N(()=>`q-slider q-slider${g.value} q-slider--${h.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(w.value===!0?" q-slider--editable":""))+(p.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+g.value:""));function H(ee){const be="q-slider__"+ee;return`${be} ${be}${g.value} ${be}${g.value}${c.value}`}function le(ee){const be="q-slider__"+ee;return`${be} ${be}${g.value}`}const ne=N(()=>{const ee=t.selectionColor||t.color;return"q-slider__selection absolute"+(ee!==void 0?` text-${ee}`:"")}),fe=N(()=>le("markers")+" absolute overflow-hidden"),M=N(()=>le("track-container")),T=N(()=>H("pin")),Z=N(()=>H("label")),x=N(()=>H("text-container")),I=N(()=>H("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),O=N(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),V=N(()=>{const ee={[L.value]:t.trackSize};return t.trackImg!==void 0&&(ee.backgroundImage=`url(${t.trackImg}) !important`),ee}),R=N(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),U=N(()=>{const ee={[te.value]:`${100*$.value}%`,[E.value]:`${100*(W.value-$.value)}%`};return t.innerTrackImg!==void 0&&(ee.backgroundImage=`url(${t.innerTrackImg}) !important`),ee});function oe(ee){const{min:be,max:xe,step:ke}=t;let Ie=be+ee*(xe-be);if(ke>0){const We=(Ie-be)%ke;Ie+=(Math.abs(We)>=ke/2?(We<0?-1:1)*ke:0)-We}return z.value>0&&(Ie=parseFloat(Ie.toFixed(z.value))),Me(Ie,d.value,S.value)}function he(ee){return P.value===0?0:(ee-t.min)/P.value}function se(ee,be){const xe=ot(ee),ke=t.vertical===!0?Me((xe.top-be.top)/be.height,0,1):Me((xe.left-be.left)/be.width,0,1);return Me(b.value===!0?1-ke:ke,$.value,W.value)}const _e=N(()=>Kr(t.markers)===!0?t.markers:_.value),o=N(()=>{const ee=[],be=_e.value,xe=t.max;let ke=t.min;do ee.push(ke),ke+=be;while(ke<xe);return ee.push(xe),ee}),Q=N(()=>{const ee=` ${kn}${g.value}-`;return kn+`${ee}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${ee}${b.value===!0?"rtl":"ltr"}`}),j=N(()=>t.markerLabels===!1?null:q(t.markerLabels).map((ee,be)=>({index:be,value:ee.value,label:ee.label||ee.value,classes:Q.value+(ee.classes!==void 0?" "+ee.classes:""),style:{...Y(ee.value),...ee.style||{}}}))),C=N(()=>({markerList:j.value,markerMap:F.value,classes:Q.value,getStyle:Y})),k=N(()=>{if(D.value!==0){const ee=100*_e.value/D.value;return{...U.value,backgroundSize:t.vertical===!0?`2px ${ee}%`:`${ee}% 2px`}}return null});function q(ee){if(ee===!1)return null;if(ee===!0)return o.value.map(sa);if(typeof ee=="function")return o.value.map(xe=>{const ke=ee(xe);return Ut(ke)===!0?{...ke,value:xe}:{value:xe,label:ke}});const be=({value:xe})=>xe>=t.min&&xe<=t.max;return Array.isArray(ee)===!0?ee.map(xe=>Ut(xe)===!0?xe:{value:xe}).filter(be):Object.keys(ee).map(xe=>{const ke=ee[xe],Ie=Number(xe);return Ut(ke)===!0?{...ke,value:Ie}:{value:Ie,label:ke}}).filter(be)}function Y(ee){return{[te.value]:`${100*(ee-t.min)/P.value}%`}}const F=N(()=>{if(t.markerLabels===!1)return null;const ee={};return j.value.forEach(be=>{ee[be.value]=be}),ee});function B(){if(n["marker-label-group"]!==void 0)return n["marker-label-group"](C.value);const ee=n["marker-label"]||la;return j.value.map(be=>ee({marker:be,...C.value}))}const X=N(()=>[[Xt,ae,void 0,{[u.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ae(ee){ee.isFinal===!0?(s.value!==void 0&&(m(ee.evt),ee.touch===!0&&e(!0),s.value=void 0,i("pan","end")),h.value=!1,p.value=!1):ee.isFirst===!0?(s.value=a(ee.evt),m(ee.evt),e(),h.value=!0,i("pan","start")):(m(ee.evt),e())}function re(){p.value=!1}function ue(ee){m(ee,a(ee)),e(),y.value=!0,h.value=!0,document.addEventListener("mouseup",ve,!0)}function ve(){y.value=!1,h.value=!1,e(!0),re(),document.removeEventListener("mouseup",ve,!0)}function ge(ee){m(ee,a(ee)),e(!0)}function Ee(ee){ur.includes(ee.keyCode)&&e(!0)}function je(ee){if(t.vertical===!0)return null;const be=r.lang.rtl!==t.reverse?1-ee:ee;return{transform:`translateX(calc(${2*be-1} * ${t.thumbSize} / 2 + ${50-100*be}%))`}}function Le(ee){const be=N(()=>y.value===!1&&(p.value===ee.focusValue||p.value==="both")?" q-slider--focus":""),xe=N(()=>`q-slider__thumb q-slider__thumb${g.value} q-slider__thumb${g.value}-${b.value===!0?"rtl":"ltr"} absolute non-selectable`+be.value+(ee.thumbColor.value!==void 0?` text-${ee.thumbColor.value}`:"")),ke=N(()=>({width:t.thumbSize,height:t.thumbSize,[te.value]:`${100*ee.ratio.value}%`,zIndex:p.value===ee.focusValue?2:void 0})),Ie=N(()=>ee.labelColor.value!==void 0?` text-${ee.labelColor.value}`:""),We=N(()=>je(ee.ratio.value)),ht=N(()=>"q-slider__text"+(ee.labelTextColor.value!==void 0?` text-${ee.labelTextColor.value}`:""));return()=>{const vt=[J("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[J("path",{d:t.thumbPath})]),J("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(vt.push(J("div",{class:T.value+" absolute fit no-pointer-events"+Ie.value},[J("div",{class:Z.value,style:{minWidth:t.thumbSize}},[J("div",{class:x.value,style:We.value},[J("span",{class:ht.value},ee.label.value)])])])),t.name!==void 0&&t.disable!==!0&&v(vt,"push")),J("div",{class:xe.value,style:ke.value,...ee.getNodeData()},vt)}}function Ze(ee,be,xe,ke){const Ie=[];t.innerTrackColor!=="transparent"&&Ie.push(J("div",{key:"inner",class:R.value,style:U.value})),t.selectionColor!=="transparent"&&Ie.push(J("div",{key:"selection",class:ne.value,style:ee.value})),t.markers!==!1&&Ie.push(J("div",{key:"marker",class:fe.value,style:k.value})),ke(Ie);const We=[Kn("div",{key:"trackC",class:M.value,tabindex:be.value,...xe.value},[J("div",{class:O.value,style:V.value},Ie)],"slide",w.value,()=>X.value)];if(t.markerLabels!==!1){const ht=t.switchMarkerLabelsSide===!0?"unshift":"push";We[ht](J("div",{key:"markerL",class:I.value},B()))}return We}return Ve(()=>{document.removeEventListener("mouseup",ve,!0)}),{state:{active:h,focus:p,preventFocus:y,dragging:s,editable:w,classes:G,tabindex:A,attributes:K,step:_,decimals:z,trackLen:P,innerMin:d,innerMinRatio:$,innerMax:S,innerMaxRatio:W,positionProp:te,sizeProp:E,isReversed:b},methods:{onActivate:ue,onMobileClick:ge,onBlur:re,onKeyup:Ee,getContent:Ze,getThumbRenderFn:Le,convertRatioToModel:oe,convertModelToRatio:he,getDraggingRatio:se}}}const fa=()=>({});var ha=qe({name:"QSlider",props:{...ua,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:ca,setup(e,{emit:m}){const{proxy:{$q:a}}=Pe(),{state:f,methods:t}=da({updateValue:g,updatePosition:b,getDragging:c,formAttrs:Vr(e)}),i=ie(null),n=ie(0),r=ie(0);function l(){r.value=e.modelValue===null?f.innerMin.value:Me(e.modelValue,f.innerMin.value,f.innerMax.value)}Se(()=>`${e.modelValue}|${f.innerMin.value}|${f.innerMax.value}`,l),l();const v=N(()=>t.convertModelToRatio(r.value)),h=N(()=>f.active.value===!0?n.value:v.value),y=N(()=>{const w={[f.positionProp.value]:`${100*f.innerMinRatio.value}%`,[f.sizeProp.value]:`${100*(h.value-f.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(w.backgroundImage=`url(${e.selectionImg}) !important`),w}),p=t.getThumbRenderFn({focusValue:!0,getNodeData:fa,ratio:h,label:N(()=>e.labelValue!==void 0?e.labelValue:r.value),thumbColor:N(()=>e.thumbColor||e.color),labelColor:N(()=>e.labelColor),labelTextColor:N(()=>e.labelTextColor)}),s=N(()=>f.editable.value!==!0?{}:a.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:d,onBlur:t.onBlur,onKeydown:S,onKeyup:t.onKeyup});function g(w){r.value!==e.modelValue&&m("update:modelValue",r.value),w===!0&&m("change",r.value)}function c(){return i.value.getBoundingClientRect()}function b(w,z=f.dragging.value){const _=t.getDraggingRatio(w,z);r.value=t.convertRatioToModel(_),n.value=e.snap!==!0||e.step===0?_:t.convertModelToRatio(r.value)}function d(){f.focus.value=!0}function S(w){if(!ur.includes(w.keyCode))return;$e(w);const z=([34,33].includes(w.keyCode)?10:1)*f.step.value,_=([34,37,40].includes(w.keyCode)?-1:1)*(f.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*z;r.value=Me(parseFloat((r.value+_).toFixed(f.decimals.value)),f.innerMin.value,f.innerMax.value),g()}return()=>{const w=t.getContent(y,f.tabindex,s,z=>{z.push(p())});return J("div",{ref:i,class:f.classes.value+(e.modelValue===null?" q-slider--no-value":""),...f.attributes.value,"aria-valuenow":e.modelValue},w)}}});const va=()=>!0;function ma(e){const m={};return e.forEach(a=>{m[a]=va}),m}function De(){const{emit:e,proxy:m}=Pe(),a=ie(null);function f(){a.value.show()}function t(){a.value.hide()}function i(r){e("ok",r),t()}function n(){e("hide")}return Object.assign(m,{show:f,hide:t}),{dialogRef:a,onDialogHide:n,onDialogOK:i,onDialogCancel:t}}const cr=["ok","hide"];De.emits=cr;De.emitsObject=ma(cr);const pa={class:"row q-mb-sm"},ga=de("label",{for:"token"},"Github Access Token: ",-1),ba={style:{"flex-direction":"column",display:"flex"}},ya=de("span",{class:"help-text"},[Oe("Generate a new access token "),de("a",{target:"_blank",href:"https://github.com/settings/tokens/new"},"here")],-1),_a={class:"row q-mb-sm"},ka=de("label",{for:"fontSize"},"Font Size: ",-1),wa={class:"row q-mb-sm"},xa={style:{"margin-left":"17px"}},Sa={class:"row q-mb-sm"},Ca={style:{"margin-left":"17px"}},za={class:"row q-mb-sm"},Ta={style:{"margin-left":"17px"}},Ea={__name:"SettingsDialog",emits:[...De.emits],setup(e){const m=ie(null),a=et(),f=ie(a.token),t={...a.preferences},i=y=>{document.querySelector("body").style.fontSize=`${y}px`},{dialogRef:n,onDialogHide:r,onDialogOK:l,onDialogCancel:v}=De();function h(){ni({token:f.value}).then(y=>{y?(a.token=f,a.saveToken(),Object.assign(a.preferences,t),a.savePreferences(),l()):showAlert({message:"The provided access token is invalid."})})}return(y,p)=>(pe(),ze(ct,{ref_key:"dialogRef",ref:n,onHide:ye(r),square:""},{default:me(()=>[ce(ft,{class:"q-dialog-plugin"},{default:me(()=>[ce(dt,null,{default:me(()=>[de("div",pa,[ga,de("div",ba,[Ce(de("input",{autofocus:"",ref_key:"tokenInput",ref:m,id:"token",type:"password","bg-color":"white",style:{flex:1},"onUpdate:modelValue":p[0]||(p[0]=s=>f.value=s)},null,512),[[bt,f.value]]),ya])]),de("div",_a,[ka,ce(ha,{color:"blue-8",id:"fontSize",style:{flex:1},modelValue:t.fontSize,"onUpdate:modelValue":[p[1]||(p[1]=s=>t.fontSize=s),i],min:10,max:20,step:1,snap:"",label:""},null,8,["modelValue"])]),de("div",wa,[de("label",xa,[Oe(" Show Thumbnails: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":p[2]||(p[2]=s=>t.showThumbnails=s)},null,512),[[it,t.showThumbnails]])])]),de("div",Sa,[de("label",Ca,[Oe(" Search Folder Names: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":p[3]||(p[3]=s=>t.searchFolderNames=s)},null,512),[[it,t.searchFolderNames]])])]),de("div",za,[de("label",Ta,[Oe(" Mgmt. Controls: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":p[4]||(p[4]=s=>t.showManagementUI=s)},null,512),[[it,t.showManagementUI]])])])]),_:1}),ce(kt,{align:"right"},{default:me(()=>[ce(Te,{size:"sm",square:"",color:"negative","text-color":"white",label:"Cancel",onClick:ye(v)},null,8,["onClick"]),ce(Te,{color:"positive","text-color":"white",label:"OK",size:"sm",square:"",onClick:h})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Aa=qe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:m}){const a=N(()=>{const f=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${f.length!==0?" "+f:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>J("div",{class:a.value},Ue(m.default))}});const qa={__name:"ErrorDialog",props:{message:String},emits:[...De.emits],setup(e){const m=e,{dialogRef:a,onDialogHide:f,onDialogOK:t}=De();return(i,n)=>(pe(),ze(ct,{ref_key:"dialogRef",ref:a,onHide:ye(f),square:""},{default:me(()=>[ce(ft,{class:"q-dialog-plugin"},{default:me(()=>[ce(dt,null,{default:me(()=>[Oe(Fe(m.message),1)]),_:1}),ce(kt,null,{default:me(()=>[ce(on),ce(Te,{square:"",size:"sm",class:"bordered",label:"OK",color:"positive",onClick:ye(t)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};async function dr({message:e}){return Zr.create({component:qa,componentProps:{message:e}})}const Ba={class:"row q-mb-sm"},Pa=de("label",null,"Display Name: ",-1),Ia={class:"row q-mb-sm"},Oa=de("label",null,"Repositories: ",-1),Ra={style:{display:"flex","flex-direction":"column",flex:"1"}},$a={class:"row q-mb-xs"},La=["disabled","onKeypress"],Fa=["disabled"],Da={class:"row"},wn={__name:"CollectionEditor",props:{initialValue:{type:Object,required:!1,default:null}},emits:[...De.emits],setup(e){const m=e,a=nr(),f=et(),t=ie(null),i=ie(""),n=rn(JSON.parse(JSON.stringify(m.initialValue||{})));n.type||(n.type="repo");const r=async()=>{const z=h.value-1,_=h.value;[n.repositories[z],n.repositories[_]]=[n.repositories[_],n.repositories[z]]},l=async()=>{const z=h.value+1,_=h.value;[n.repositories[z],n.repositories[_]]=[n.repositories[_],n.repositories[z]]},v=async()=>{let z;if(i.value.match(/[\w-]+\/\*/)){const _=(await ri({org:i.value.split("/")[0],token:f.token})).map(A=>A.repositories[0]);n.repositories=[..._],n.org=i.value.split("/")[0],n.type="org",i.value=""}else{try{z=await ii({input:i.value,token:f.token})}catch(_){let A=`${_}`;_!=null&&_.response&&(_.response.status===401?A="You don't have permission to access this repository using the provided access token.":_.response.status===404&&(A="Repository not found")),dr({message:A});return}n.repositories=[...n.repositories||[],z],i.value=""}},h=N(()=>((n==null?void 0:n.repositories)||[]).findIndex(z=>z.repr===t.value)),y=N(()=>h.value!==null&&h.value!==void 0&&h.value>0),p=N(()=>h.value>-1&&h.value<((n==null?void 0:n.repositories)||[]).length-1),s=()=>{const z=n.repositories.findIndex(_=>_.repr===t.value);n.repositories.splice(z,1)},g=()=>{a.dialog({title:"Are you sure?",message:"Are you sure you want to permanently delete this collection?",cancel:!0,persistent:!1,ok:{class:"bordered",square:!0,size:"sm",color:"positive",nocaps:!0},cancel:{class:"bordered",square:!0,size:"sm",push:!0,color:"negative",nocaps:!0}}).onOk(()=>{const z=f.tree.findIndex(_=>_.id==n.id);z!==-1?(f.tree.splice(z,1),f.saveCollections(),S()):console.log("No match found for",n.id)})},{dialogRef:c,onDialogHide:b,onDialogOK:d,onDialogCancel:S}=De();function w(){d(n)}return(z,_)=>(pe(),ze(ct,{ref_key:"dialogRef",ref:c,onHide:ye(b),square:""},{default:me(()=>[ce(ft,{class:"q-dialog-plugin"},{default:me(()=>[ce(dt,null,{default:me(()=>[de("div",Ba,[Pa,Ce(de("input",{"bg-color":"white",style:{flex:1},"onUpdate:modelValue":_[0]||(_[0]=A=>n.name=A)},null,512),[[bt,n.name]])]),de("div",Ia,[Oa,de("div",Ra,[de("div",$a,[Ce(de("input",{disabled:n.type==="org","onUpdate:modelValue":_[1]||(_[1]=A=>i.value=A),"bg-color":"white",style:{flex:1},onKeypress:Hn(v,["enter"])},null,40,La),[[bt,i.value]]),ce(Te,{disable:n.type==="org",class:"bordered",style:{"border-left":"none"},unelevated:"",size:"sm",icon:"add",onClick:v},null,8,["disable"])]),Ce(de("select",{disabled:n.type==="org","onUpdate:modelValue":_[2]||(_[2]=A=>t.value=A),size:"4",style:{flex:1,overflowY:"auto"},class:"q-mb-xs"},[(pe(!0),we(Ye,null,rt(n.repositories||[],A=>(pe(),we("option",{key:A.repr},Fe(A.repr),1))),128))],8,Fa),[[At,t.value]]),de("div",Da,[ce(Aa,{square:"",unelevated:""},{default:me(()=>[ce(Te,{size:"sm",class:"bordered",style:{"border-right":"none"},unelevated:"",square:"",disable:!y.value,onClick:r,icon:"mdi-arrow-up"},null,8,["disable"]),ce(Te,{size:"sm",class:"bordered",unelevated:"",square:"",disable:!p.value,onClick:l,icon:"mdi-arrow-down"},null,8,["disable"])]),_:1}),ce(Te,{size:"sm",class:"bordered q-ml-md",square:"",unelevated:"",disable:!t.value,onClick:s,icon:"mdi-delete"},null,8,["disable"])])])])]),_:1}),ce(kt,null,{default:me(()=>{var A;return[ce(Te,{square:"",size:"sm",class:"bordered",label:"DELETE",color:"negative","text-color":"yellow",style:{"font-weight":"bold"},onClick:g}),ce(on),ce(Te,{square:"",size:"sm",class:"bordered",color:"negative",label:"Cancel",onClick:ye(S)},null,8,["onClick"]),ce(Te,{square:"",size:"sm",class:"bordered",label:"OK",color:"positive",disable:!(n.name&&((A=n==null?void 0:n.repositories)==null?void 0:A.length)>0),onClick:w},null,8,["disable"])]}),_:1})]),_:1})]),_:1},8,["onHide"]))}},Na=[J("g",[J("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),J("clipPath",{id:"uil-hourglass-clip1"},[J("rect",{x:"15",y:"20",width:" 70",height:"25"},[J("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),J("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),J("clipPath",{id:"uil-hourglass-clip2"},[J("rect",{x:"15",y:"55",width:" 70",height:"25"},[J("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),J("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),J("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),J("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),J("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])];var Ma=qe({name:"QSpinnerHourglass",props:Qr,setup(e){const{cSize:m,classes:a}=Yr(e);return()=>J("svg",{class:a.value,width:m.value,height:m.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Na)}});const Ua=["none","strict","leaf","leaf-filtered"];var fr=qe({name:"QTree",props:{...Xe,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Ua.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:m,emit:a}){const{proxy:f}=Pe(),{$q:t}=f,i=Je(e,t),n=ie({}),r=ie(e.ticked||[]),l=ie(e.expanded||[]);let v={};$n(()=>{v={}});const h=N(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),y=N(()=>e.selected!==void 0),p=N(()=>e.icon||t.iconSet.tree.icon),s=N(()=>e.controlColor||e.color),g=N(()=>e.textColor!==void 0?` text-${e.textColor}`:""),c=N(()=>{const T=e.selectedColor||e.color;return T?` text-${T}`:""}),b=N(()=>e.filterMethod!==void 0?e.filterMethod:(T,Z)=>{const x=Z.toLowerCase();return T[e.labelKey]&&T[e.labelKey].toLowerCase().indexOf(x)>-1}),d=N(()=>{const T={},Z=(x,I)=>{const O=x.tickStrategy||(I?I.tickStrategy:e.tickStrategy),V=x[e.nodeKey],R=x[e.childrenKey]&&Array.isArray(x[e.childrenKey])&&x[e.childrenKey].length!==0,U=x.disabled!==!0&&y.value===!0&&x.selectable!==!1,oe=x.disabled!==!0&&x.expandable!==!1,he=O!=="none",se=O==="strict",_e=O==="leaf-filtered",o=O==="leaf"||O==="leaf-filtered";let Q=x.disabled!==!0&&x.tickable!==!1;o===!0&&Q===!0&&I&&I.tickable!==!0&&(Q=!1);let j=x.lazy;j===!0&&n.value[V]!==void 0&&Array.isArray(x[e.childrenKey])===!0&&(j=n.value[V]);const C={key:V,parent:I,isParent:R,lazy:j,disabled:x.disabled,link:x.disabled!==!0&&(U===!0||oe===!0&&(R===!0||j===!0)),children:[],matchesFilter:e.filter?b.value(x,e.filter):!0,selected:V===e.selected&&U===!0,selectable:U,expanded:R===!0?l.value.includes(V):!1,expandable:oe,noTick:x.noTick===!0||se!==!0&&j&&j!=="loaded",tickable:Q,tickStrategy:O,hasTicking:he,strictTicking:se,leafFilteredTicking:_e,leafTicking:o,ticked:se===!0?r.value.includes(V):R===!0?!1:r.value.includes(V)};if(T[V]=C,R===!0&&(C.children=x[e.childrenKey].map(k=>Z(k,C)),e.filter&&(C.matchesFilter!==!0?C.matchesFilter=C.children.some(k=>k.matchesFilter):C.noTick!==!0&&C.disabled!==!0&&C.tickable===!0&&_e===!0&&C.children.every(k=>k.matchesFilter!==!0||k.noTick===!0||k.tickable!==!0)===!0&&(C.tickable=!1)),C.matchesFilter===!0&&(C.noTick!==!0&&se!==!0&&C.children.every(k=>k.noTick)===!0&&(C.noTick=!0),o))){if(C.ticked=!1,C.indeterminate=C.children.some(k=>k.indeterminate===!0),C.tickable=C.tickable===!0&&C.children.some(k=>k.tickable),C.indeterminate!==!0){const k=C.children.reduce((q,Y)=>Y.ticked===!0?q+1:q,0);k===C.children.length?C.ticked=!0:k>0&&(C.indeterminate=!0)}C.indeterminate===!0&&(C.indeterminateNextState=C.children.every(k=>k.tickable!==!0||k.ticked!==!0))}return C};return e.nodes.forEach(x=>Z(x,null)),T});Se(()=>e.ticked,T=>{r.value=T}),Se(()=>e.expanded,T=>{l.value=T});function S(T){const Z=[].reduce,x=(I,O)=>{if(I||!O)return I;if(Array.isArray(O)===!0)return Z.call(Object(O),x,I);if(O[e.nodeKey]===T)return O;if(O[e.childrenKey])return x(null,O[e.childrenKey])};return x(null,e.nodes)}function w(){return r.value.map(T=>S(T))}function z(){return l.value.map(T=>S(T))}function _(T){return T&&d.value[T]?d.value[T].expanded:!1}function A(){e.expanded!==void 0?a("update:expanded",[]):l.value=[]}function P(){const T=[],Z=x=>{x[e.childrenKey]&&x[e.childrenKey].length!==0&&x.expandable!==!1&&x.disabled!==!0&&(T.push(x[e.nodeKey]),x[e.childrenKey].forEach(Z))};e.nodes.forEach(Z),e.expanded!==void 0?a("update:expanded",T):l.value=T}function D(T,Z,x=S(T),I=d.value[T]){if(I.lazy&&I.lazy!=="loaded"){if(I.lazy==="loading")return;n.value[T]="loading",Array.isArray(x[e.childrenKey])!==!0&&(x[e.childrenKey]=[]),a("lazyLoad",{node:x,key:T,done:O=>{n.value[T]="loaded",x[e.childrenKey]=Array.isArray(O)===!0?O:[],_t(()=>{const V=d.value[T];V&&V.isParent===!0&&$(T,!0)})},fail:()=>{delete n.value[T],x[e.childrenKey].length===0&&delete x[e.childrenKey]}})}else I.isParent===!0&&I.expandable===!0&&$(T,Z)}function $(T,Z){let x=l.value;const I=e.expanded!==void 0;if(I===!0&&(x=x.slice()),Z){if(e.accordion&&d.value[T]){const O=[];d.value[T].parent?d.value[T].parent.children.forEach(V=>{V.key!==T&&V.expandable===!0&&O.push(V.key)}):e.nodes.forEach(V=>{const R=V[e.nodeKey];R!==T&&O.push(R)}),O.length!==0&&(x=x.filter(V=>O.includes(V)===!1))}x=x.concat([T]).filter((O,V,R)=>R.indexOf(O)===V)}else x=x.filter(O=>O!==T);I===!0?a("update:expanded",x):l.value=x}function W(T){return T&&d.value[T]?d.value[T].ticked:!1}function te(T,Z){let x=r.value;const I=e.ticked!==void 0;I===!0&&(x=x.slice()),Z?x=x.concat(T).filter((O,V,R)=>R.indexOf(O)===V):x=x.filter(O=>T.includes(O)===!1),I===!0&&a("update:ticked",x)}function E(T,Z,x){const I={tree:f,node:T,key:x,color:e.color,dark:i.value};return dn(I,"expanded",()=>Z.expanded,O=>{O!==Z.expanded&&D(x,O)}),dn(I,"ticked",()=>Z.ticked,O=>{O!==Z.ticked&&te([x],O)}),I}function L(T){return(e.filter?T.filter(Z=>d.value[Z[e.nodeKey]].matchesFilter):T).map(Z=>H(Z))}function u(T){if(T.icon!==void 0)return J(Be,{class:"q-tree__icon q-mr-sm",name:T.icon,color:T.iconColor});const Z=T.img||T.avatar;if(Z)return J("img",{class:`q-tree__${T.img?"img":"avatar"} q-mr-sm`,src:Z})}function K(){a("afterShow")}function G(){a("afterHide")}function H(T){const Z=T[e.nodeKey],x=d.value[Z],I=T.header&&m[`header-${T.header}`]||m["default-header"],O=x.isParent===!0?L(T[e.childrenKey]):[],V=O.length!==0||x.lazy&&x.lazy!=="loaded";let R=T.body&&m[`body-${T.body}`]||m["default-body"];const U=I!==void 0||R!==void 0?E(T,x,Z):null;return R!==void 0&&(R=J("div",{class:"q-tree__node-body relative-position"},[J("div",{class:g.value},[R(U)])])),J("div",{key:Z,class:`q-tree__node relative-position q-tree__node--${V===!0?"parent":"child"}`},[J("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(x.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(x.selected===!0?" q-tree__node--selected":"")+(x.disabled===!0?" q-tree__node--disabled":""),tabindex:x.link===!0?0:-1,onClick:oe=>{ne(T,x,oe)},onKeypress(oe){tn(oe)!==!0&&(oe.keyCode===13?ne(T,x,oe,!0):oe.keyCode===32&&fe(T,x,oe,!0))}},[J("div",{class:"q-focus-helper",tabindex:-1,ref:oe=>{v[x.key]=oe}}),x.lazy==="loading"?J(Ln,{class:"q-tree__spinner",color:s.value}):V===!0?J(Be,{class:"q-tree__arrow"+(x.expanded===!0?" q-tree__arrow--rotate":""),name:p.value,onClick(oe){fe(T,x,oe)}}):null,x.hasTicking===!0&&x.noTick!==!0?J(Gr,{class:"q-tree__tickbox",modelValue:x.indeterminate===!0?null:x.ticked,color:s.value,dark:i.value,dense:!0,keepColor:!0,disable:x.tickable!==!0,onKeydown:$e,"onUpdate:modelValue":oe=>{M(x,oe)}}):null,J("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(x.selected===!0?c.value:g.value)},[I?I(U):[u(T),J("div",T[e.labelKey])]])]),V===!0?e.noTransition===!0?J("div",{class:"q-tree__node-collapsible"+g.value,key:`${Z}__q`},[R,J("div",{class:"q-tree__children"+(x.disabled===!0?" q-tree__node--disabled":"")},x.expanded?O:null)]):J(tr,{duration:e.duration,onShow:K,onHide:G},()=>Ce(J("div",{class:"q-tree__node-collapsible"+g.value,key:`${Z}__q`},[R,J("div",{class:"q-tree__children"+(x.disabled===!0?" q-tree__node--disabled":"")},O)]),[[Fn,x.expanded]])):R])}function le(T){const Z=v[T];Z&&Z.focus()}function ne(T,Z,x,I){I!==!0&&Z.selectable!==!1&&le(Z.key),y.value&&Z.selectable?e.noSelectionUnset===!1?a("update:selected",Z.key!==e.selected?Z.key:null):Z.key!==e.selected&&a("update:selected",Z.key===void 0?null:Z.key):fe(T,Z,x,I),typeof T.handler=="function"&&T.handler(T)}function fe(T,Z,x,I){x!==void 0&&$e(x),I!==!0&&Z.selectable!==!1&&le(Z.key),D(Z.key,!Z.expanded,T,Z)}function M(T,Z){if(T.indeterminate===!0&&(Z=T.indeterminateNextState),T.strictTicking)te([T.key],Z);else if(T.leafTicking){const x=[],I=O=>{O.isParent?(Z!==!0&&O.noTick!==!0&&O.tickable===!0&&x.push(O.key),O.leafTicking===!0&&O.children.forEach(I)):O.noTick!==!0&&O.tickable===!0&&(O.leafFilteredTicking!==!0||O.matchesFilter===!0)&&x.push(O.key)};I(T),te(x,Z)}}return e.defaultExpandAll===!0&&P(),Object.assign(f,{getNodeByKey:S,getTickedNodes:w,getExpandedNodes:z,isExpanded:_,collapseAll:A,expandAll:P,setExpanded:D,isTicked:W,setTicked:te}),()=>{const T=L(e.nodes);return J("div",{class:h.value},T.length===0?e.filter?e.noResultsLabel||t.lang.tree.noResults:e.noNodesLabel||t.lang.tree.noNodes:T)}}});const ja={class:"row q-mb-sm"},Ka=de("label",null,"Name: ",-1),Ha=["disabled"],Wa={class:"row q-mb-sm"},Va=de("label",null,"Path: ",-1),Za={style:{flex:"1",position:"relative"}},Qa=["id"],Ya={key:0},Ga=["onBlur","onKeypress"],Xa={key:1},Ja={class:"row q-mb-sm no-wrap"},eo={style:{"margin-left":"17px","white-space":"nowrap"}},to={key:0,class:"text-negative"},no={class:"row q-mb-sm no-wrap"},ro={style:{"margin-left":"17px","white-space":"nowrap"}},io={key:0,class:"text-negative"},ao={class:"row q-mb-sm"},oo=de("label",null,"Thumbnail: ",-1),so={class:"thumbnail-edit-wrapper"},lo={class:"row q-col-gutter-xs"},uo=["src"],co={class:"col-6 q-pt-none"},fo={class:"row"},ho=de("label",null,"Upload To: ",-1),vo=["value"],mo={key:0,style:{display:"flex","flex-direction":"row",position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px","text-align":"center","align-items":"center","justify-content":"center","background-color":"rgba(128, 128, 128, 0.5)"}},xn=nt({__name:"ContentEditor",props:{initialValue:{},collection:{}},emits:[...De.emits],setup(e){var Z,x,I,O;const m=e,a=ie(!1),f=ie(null),t=ie(!1),i=ie(!1),n=et(),r=ie(!1),l=ie(),v=ie("New Folder"),h=ie((Z=m==null?void 0:m.initialValue)==null?void 0:Z.name),y=ie(""),p=m.collection||n.getTopLevelNode((I=(x=m.initialValue)==null?void 0:x.id)==null?void 0:I.split("|")[0]);let s="";(O=m==null?void 0:m.initialValue)!=null&&O.path&&(s=m==null?void 0:m.initialValue.path.split("/").slice(0,-1).join("/"));const g=ie(s),c=ie(["/"]),b=ie(g.value),d=ie(!1),S=(V,R,U)=>{var _e,o;const oe=((_e=l.value)==null?void 0:_e.getNodeByKey(R.id.split("/").slice(0,-1).join("/")))||_[0];let he=!0;U||(he=!1),oe.children.filter(Q=>Q.name===U).length>1&&(he=!1),R.name=U,R.path=`${oe.path}/${R.name}`,b.value=R.path,he?R.editing=!1:(V.preventDefault(),V.stopImmediatePropagation(),(o=V.target)==null||o.focus())},w=V=>btoa(V).replaceAll("=",""),z=V=>V.filter(U=>U.type==="tree").map(U=>({id:U.path,path:U.path,icon:"mdi-folder",selectable:!0,name:U.name,editing:!1,children:U.children?z(U.children):[]})),_=rn([{name:"/",icon:"mdi-folder",selectable:!0,id:"/",path:"",children:z((p==null?void 0:p.children)||[])}]),A=ie((p==null?void 0:p.uploadTo)||(p==null?void 0:p.repositories[0].repr)),P=V=>{var oe,he;v.value="New Folder",V.preventDefault(),V.stopPropagation();const R=(oe=l.value)==null?void 0:oe.getNodeByKey(b.value),U={id:R.path+"/"+nn(),name:"New Folder",path:R.path+"/New Folder",selectable:!0,icon:"mdi-folder-star",editing:!0,children:[]};R.children.push(U),b.value=U.id,(he=l.value)==null||he.setExpanded(R.id,!0),setTimeout(()=>{var _e;const se=document.querySelector(`#pathTree--${w(U.id)}`);se==null||se.scrollIntoView({block:"center"}),(_e=se==null?void 0:se.querySelector("input"))==null||_e.focus()},500)},D=N(()=>{var V,R;if(i.value){const U=(R=(V=m.initialValue)==null?void 0:V.content_types)==null?void 0:R.f3d,oe=p.repositories.filter(he=>he.repr===A.value)[0];if(U&&U.repo!==oe.repo)return"cannot replace the f3d file, it exists in another repository."}return""}),$=N(()=>{var V,R;if(t.value){const U=(R=(V=m.initialValue)==null?void 0:V.content_types)==null?void 0:R.step,oe=p.repositories.filter(he=>he.repr===A.value)[0];if(U&&U.repo!==oe.repo)return"cannot replace the step file, it exists in another repository."}return""}),W=V=>{var oe;let R=[...(oe=V.clipboardData)==null?void 0:oe.items];if(R=R.filter(he=>/image/.test(he.type)),!R.length||R.length===0)return!1;let U=new FileReader;U.onload=()=>{const he=U.result;y.value=he},U.readAsDataURL(R[0].getAsFile())},te=V=>new Promise(R=>{const U=new window.FileReader;U.onload=()=>{y.value=U.result,r.value=!0,R(y.value)},U.readAsDataURL(V)}),E=V=>{var R;V.stopPropagation(),V.preventDefault(),te((R=V.dataTransfer)==null?void 0:R.files[0])},L=V=>{var U;V.stopPropagation(),V.preventDefault();const R=V.target;te((U=R.files)==null?void 0:U[0]).then(()=>{f.value!==null&&(f.value.value="")})},u=V=>{var R;V.preventDefault(),V.stopPropagation(),(R=f.value)==null||R.click()},K=async()=>{const V=await n.backend.get_screenshot({width:256,height:256,transparent:a.value});V?(y.value=V,r.value=!0):showAlert({message:"Workspace image capture failed."})},G=async()=>{var U,oe,he,se,_e,o;const V=(he=(oe=(U=m==null?void 0:m.initialValue)==null?void 0:U.content_types)==null?void 0:oe.thumb)==null?void 0:he.url,R=(_e=(se=m==null?void 0:m.initialValue)==null?void 0:se.meta)==null?void 0:_e.thumb;R?y.value=R:V?y.value=await Qt({url:V,token:n.token,content_type:"image/png"}):y.value="",(o=m==null?void 0:m.initialValue)!=null&&o.name||await n.backend.export_model({f3d:!1,step:!1}).then(Q=>{h.value=Q==null?void 0:Q.name})},H=()=>{var V;if(h.value!==((V=m.initialValue)==null?void 0:V.name)||r.value||i.value||t.value)return!0};tt(()=>{G()});const{dialogRef:le,onDialogHide:ne,onDialogOK:fe,onDialogCancel:M}=De();function T(){d.value=!0,setTimeout(()=>{const V=p.repositories.filter(U=>U.repr===A.value)[0];let R=V.path||"";R&&b.value?R=`${R}/${b.value}`:b.value&&(R=`${b.value}`),R=R===""?`${h.value}`:`${R}/${h.value}`,n.backend.export_model({f3d:i.value,step:t.value}).then(U=>{var he,se;const oe=[];d.value=!1,i.value&&oe.push({path:`${R}.f3d`,content:(he=U.f3d)==null?void 0:he.split(",")[1],encoding:"base64"}),t.value&&oe.push({path:`${R}.step`,content:(se=U.step)==null?void 0:se.split(",")[1],encoding:"base64"}),r.value&&oe.push({path:`${R}.png`,content:y.value.split(",")[1],encoding:"base64"}),Qn({repo:V.repo,branch:V.branch,files:oe,message:`Add ${R}`,token:n.token}).then(()=>{d.value=!1,fe(p)})})},500)}return(V,R)=>(pe(),ze(ct,{ref_key:"dialogRef",ref:le,onHide:ye(ne),square:""},{default:me(()=>[ce(ft,{class:"q-dialog-plugin"},{default:me(()=>[ce(dt,{style:{position:"relative"}},{default:me(()=>{var U,oe,he;return[de("div",ja,[Ka,Ce(de("input",{disabled:!!((U=m.initialValue)!=null&&U.name),"bg-color":"white",style:{flex:1},"onUpdate:modelValue":R[0]||(R[0]=se=>h.value=se)},null,8,Ha),[[bt,h.value]])]),de("div",Wa,[Va,de("div",Za,[ce(ye(fr),{ref_key:"treeRef",ref:l,dense:"","default-expand-all":!!g.value,selected:b.value,"onUpdate:selected":R[3]||(R[3]=se=>b.value=se),expanded:c.value,"onUpdate:expanded":R[4]||(R[4]=se=>c.value=se),"no-selection-unset":"",nodes:_,filter:g.value,"filter-method":(se,_e)=>se.path===_e,"node-key":"id","label-key":"name",class:"pathTree"},{"default-header":me(({node:se})=>[ce(Be,{name:se.icon,class:"q-tree__icon q-mr-sm"},null,8,["name"]),de("div",{id:`pathTree--${w(se.id)}`,onKeypress:R[2]||(R[2]=_e=>_e.stopImmediatePropagation())},[se.editing?Ce((pe(),we("input",{key:1,"onUpdate:modelValue":R[1]||(R[1]=_e=>v.value=_e),onBlur:_e=>S(_e,se,v.value),onKeypress:Hn(_e=>S(_e,se,v.value),["enter"])},null,40,Ga)),[[bt,v.value]]):(pe(),we("span",Ya,Fe(se.name),1))],40,Qa)]),_:1},8,["default-expand-all","selected","expanded","nodes","filter","filter-method"]),(oe=m.initialValue)!=null&&oe.path?(pe(),we("div",{key:0,class:"pathTree--disabler",onClick:R[5]||(R[5]=se=>{se.preventDefault(),se.stopPropagation()})})):Ae("",!0),(he=m.initialValue)!=null&&he.path?Ae("",!0):(pe(),we("div",Xa,[ce(Te,{size:"sm",icon:"mdi-folder-plus-outline",label:"New Folder",flat:"",square:"","no-caps":"",disable:!b.value,class:"bordered q-mt-xs",onClick:P},null,8,["disable"])]))])]),de("div",Ja,[de("label",eo,[Oe("Upload .STEP: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":R[6]||(R[6]=se=>t.value=se)},null,512),[[it,t.value]])]),$.value?(pe(),we("div",to,Fe($.value),1)):Ae("",!0)]),de("div",no,[de("label",ro,[Oe("Upload .F3D: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":R[7]||(R[7]=se=>i.value=se)},null,512),[[it,i.value]])]),D.value?(pe(),we("div",io,Fe(D.value),1)):Ae("",!0)]),de("div",ao,[oo,de("div",so,[de("div",lo,[de("div",{contenteditable:"true",class:"col-6 q-pa-none editor-thumb",onDragover:R[8]||(R[8]=se=>{se.dataTransfer&&(se.dataTransfer.effectAllowed="all")}),onDrop:E,onPaste:W,onBeforeinput:R[9]||(R[9]=se=>{se.inputType!=="insertFromPaste"&&(se.preventDefault(),se.stopPropagation())})},[de("img",{src:y.value||"img/cube-outline.svg"},null,8,uo)],32),de("div",co,[ce(Te,{dense:"",label:"Choose",size:"sm",flat:"",icon:"upload",class:"full-width bordered q-mb-xs","no-caps":"",onClick:u}),ce(Te,{dense:"",onClick:K,label:"Capture",icon:"mdi-monitor-screenshot",size:"sm",flat:"",class:"full-width bordered","no-caps":""}),de("label",null,[Ce(de("input",{type:"checkbox","onUpdate:modelValue":R[10]||(R[10]=se=>a.value=se)},null,512),[[it,a.value]]),Oe(" BG Transparency")])])]),de("input",{ref_key:"filePicker",ref:f,onChange:L,id:"thumbnail",type:"file",style:{display:"none"}},null,544)])]),de("div",fo,[ho,Ce(de("select",{"onUpdate:modelValue":R[11]||(R[11]=se=>A.value=se),style:{flex:"1"}},[(pe(!0),we(Ye,null,rt(ye(p).repositories,se=>(pe(),we("option",{value:se.repr,key:se.repr},Fe(se.repr),9,vo))),128))],512),[[At,A.value]])]),d.value?(pe(),we("div",mo,[ce(Ma,{color:"purple",size:"10em"})])):Ae("",!0)]}),_:1}),ce(kt,{align:"right"},{default:me(()=>[ce(Te,{square:"",size:"sm",class:"bordered",color:"negative",label:"Cancel",onClick:ye(M)},null,8,["onClick"]),ce(Te,{square:"",size:"sm",class:"bordered",label:"OK",color:"positive",disable:!H(),onClick:T},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),Sn=["vertical","horizontal"],Wt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Cn={prevent:!0,mouse:!0,mouseAllDir:!0},zn=e=>e>=250?50:Math.ceil(e/5);var po=qe({name:"QScrollArea",props:{...Xe,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:m,emit:a}){const f=ie(!1),t=ie(!1),i=ie(!1),n={vertical:ie(0),horizontal:ie(0)},r={vertical:{ref:ie(null),position:ie(0),size:ie(0)},horizontal:{ref:ie(null),position:ie(0),size:ie(0)}},{proxy:l}=Pe(),v=Je(e,l.$q);let h=null,y;const p=ie(null),s=N(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));r.vertical.percentage=N(()=>{const G=r.vertical.size.value-n.vertical.value;if(G<=0)return 0;const H=Me(r.vertical.position.value/G,0,1);return Math.round(H*1e4)/1e4}),r.vertical.thumbHidden=N(()=>(e.visible===null?i.value:e.visible)!==!0&&f.value===!1&&t.value===!1||r.vertical.size.value<=n.vertical.value+1),r.vertical.thumbStart=N(()=>r.vertical.percentage.value*(n.vertical.value-r.vertical.thumbSize.value)),r.vertical.thumbSize=N(()=>Math.round(Me(n.vertical.value*n.vertical.value/r.vertical.size.value,zn(n.vertical.value),n.vertical.value))),r.vertical.style=N(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${r.vertical.thumbStart.value}px`,height:`${r.vertical.thumbSize.value}px`})),r.vertical.thumbClass=N(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.vertical.barClass=N(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),r.horizontal.percentage=N(()=>{const G=r.horizontal.size.value-n.horizontal.value;if(G<=0)return 0;const H=Me(Math.abs(r.horizontal.position.value)/G,0,1);return Math.round(H*1e4)/1e4}),r.horizontal.thumbHidden=N(()=>(e.visible===null?i.value:e.visible)!==!0&&f.value===!1&&t.value===!1||r.horizontal.size.value<=n.horizontal.value+1),r.horizontal.thumbStart=N(()=>r.horizontal.percentage.value*(n.horizontal.value-r.horizontal.thumbSize.value)),r.horizontal.thumbSize=N(()=>Math.round(Me(n.horizontal.value*n.horizontal.value/r.horizontal.size.value,zn(n.horizontal.value),n.horizontal.value))),r.horizontal.style=N(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[l.$q.lang.rtl===!0?"right":"left"]:`${r.horizontal.thumbStart.value}px`,width:`${r.horizontal.thumbSize.value}px`})),r.horizontal.thumbClass=N(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.horizontal.barClass=N(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=N(()=>r.vertical.thumbHidden.value===!0&&r.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),c=[[Xt,G=>{P(G,"vertical")},void 0,{vertical:!0,...Cn}]],b=[[Xt,G=>{P(G,"horizontal")},void 0,{horizontal:!0,...Cn}]];function d(){const G={};return Sn.forEach(H=>{const le=r[H];G[H+"Position"]=le.position.value,G[H+"Percentage"]=le.percentage.value,G[H+"Size"]=le.size.value,G[H+"ContainerSize"]=n[H].value}),G}const S=Xr(()=>{const G=d();G.ref=l,a("scroll",G)},0);function w(G,H,le){if(Sn.includes(G)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(G==="vertical"?fn:jt)(p.value,H,le)}function z({height:G,width:H}){let le=!1;n.vertical.value!==G&&(n.vertical.value=G,le=!0),n.horizontal.value!==H&&(n.horizontal.value=H,le=!0),le===!0&&te()}function _({position:G}){let H=!1;r.vertical.position.value!==G.top&&(r.vertical.position.value=G.top,H=!0),r.horizontal.position.value!==G.left&&(r.horizontal.position.value=G.left,H=!0),H===!0&&te()}function A({height:G,width:H}){r.horizontal.size.value!==H&&(r.horizontal.size.value=H,te()),r.vertical.size.value!==G&&(r.vertical.size.value=G,te())}function P(G,H){const le=r[H];if(G.isFirst===!0){if(le.thumbHidden.value===!0)return;y=le.position.value,t.value=!0}else if(t.value!==!0)return;G.isFinal===!0&&(t.value=!1);const ne=Wt[H],fe=n[H].value,M=(le.size.value-fe)/(fe-le.thumbSize.value),T=G.distance[ne.dist],Z=y+(G.direction===ne.dir?1:-1)*T*M;E(Z,H)}function D(G,H){const le=r[H];if(le.thumbHidden.value!==!0){const ne=G[Wt[H].offset];if(ne<le.thumbStart.value||ne>le.thumbStart.value+le.thumbSize.value){const fe=ne-le.thumbSize.value/2;E(fe/n[H].value*le.size.value,H)}le.ref.value!==null&&le.ref.value.dispatchEvent(new MouseEvent(G.type,G))}}function $(G){D(G,"vertical")}function W(G){D(G,"horizontal")}function te(){f.value=!0,h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,f.value=!1},e.delay),e.onScroll!==void 0&&S()}function E(G,H){p.value[Wt[H].scroll]=G}function L(){i.value=!0}function u(){i.value=!1}let K=null;return Se(()=>l.$q.lang.rtl,G=>{p.value!==null&&jt(p.value,Math.abs(r.horizontal.position.value)*(G===!0?-1:1))}),Nn(()=>{K={top:r.vertical.position.value,left:r.horizontal.position.value}}),Mn(()=>{if(K===null)return;const G=p.value;G!==null&&(jt(G,K.left),fn(G,K.top))}),Ve(S.cancel),Object.assign(l,{getScrollTarget:()=>p.value,getScroll:d,getScrollPosition:()=>({top:r.vertical.position.value,left:r.horizontal.position.value}),getScrollPercentage:()=>({top:r.vertical.percentage.value,left:r.horizontal.percentage.value}),setScrollPosition:w,setScrollPercentage(G,H,le){w(G,H*(r[G].size.value-n[G].value)*(G==="horizontal"&&l.$q.lang.rtl===!0?-1:1),le)}}),()=>J("div",{class:s.value,onMouseenter:L,onMouseleave:u},[J("div",{ref:p,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[J("div",{class:"q-scrollarea__content absolute",style:g.value},Lt(m.default,[J(Zt,{debounce:0,onResize:A})])),J(ai,{axis:"both",onScroll:_})]),J(Zt,{debounce:0,onResize:z}),J("div",{class:r.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:$}),J("div",{class:r.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:W}),Ce(J("div",{ref:r.vertical.ref,class:r.vertical.thumbClass.value,style:r.vertical.style.value,"aria-hidden":"true"}),c),Ce(J("div",{ref:r.horizontal.ref,class:r.horizontal.thumbClass.value,style:r.horizontal.style.value,"aria-hidden":"true"}),b)])}});const go={xs:2,sm:4,md:6,lg:10,xl:14};function Tn(e,m,a){return{transform:m===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var En=qe({name:"QLinearProgress",props:{...Xe,...Wn,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:m}){const{proxy:a}=Pe(),f=Je(e,a.$q),t=Vn(e,go),i=N(()=>e.indeterminate===!0||e.query===!0),n=N(()=>e.reverse!==e.query),r=N(()=>({...t.value!==null?t.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),l=N(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),v=N(()=>Tn(e.buffer!==void 0?e.buffer:1,n.value,a.$q)),h=N(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=N(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${h.value} q-linear-progress__track--${f.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),p=N(()=>Tn(i.value===!0?1:e.value,n.value,a.$q)),s=N(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${h.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),g=N(()=>({width:`${e.value*100}%`})),c=N(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${h.value}`);return()=>{const b=[J("div",{class:y.value,style:v.value}),J("div",{class:s.value,style:p.value})];return e.stripe===!0&&i.value===!1&&b.push(J("div",{class:c.value,style:g.value})),J("div",{class:l.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Lt(m.default,b))}}});const bo=de("div",{class:"row"},[de("div",{class:"col-12"}," AutoThumb will automatically generate any missing thumbnail images in the selected path. Existing thumbnails will not be replaced. ")],-1),yo={key:0,class:"row q-mb-sm"},_o=de("label",null,"Collection: ",-1),ko=["value"],wo={key:1,class:"row q-mb-sm"},xo=de("label",null,"Path: ",-1),So={style:{flex:"1",position:"relative"}},Co={key:2,class:"row q-mb-sm"},zo={style:{"margin-left":"17px"}},To={key:3,class:"row q-py-sm"},Eo={class:"col-12"},Ao={key:4,class:"row q-py-sm"},qo=de("label",null,"Upload To: ",-1),Bo=["value"],Po={key:5,class:"row justify-center q-py-sm"},Io=["src"],Oo={class:"absolute-full flex flex-center"},Ro={class:"absolute-full flex flex-center"},$o=nt({__name:"AutoThumb",emits:[...De.emits],setup(e){const{humanStorageSize:m}=lr,a=ie(null),f=ie([]),t=et(),i=ie(null),n=ie([]),r=ie(0),l=ie(""),v=ie(null),h=ie([]),y=ie(!1),p=N(()=>i.value?t.tree.filter($=>$.id===i.value)[0]:null),s=ie([]),g=$=>$.filter(te=>te.type==="tree").map(te=>({id:te.path,path:te.path,icon:"mdi-folder",selectable:!0,name:te.name,children:te.children?g(te.children):void 0})),c=N(()=>{var $;return p.value?rn([{name:"/",icon:"mdi-folder",selectable:!0,id:"/",path:"",children:g((($=p.value)==null?void 0:$.children)||[])}]):[]}),b=$=>{const W=[];for(let te of $)te.type==="tree"&&te.children&&te.children.length>0?W.push(...b(te.children)):W.push(te);return W.filter(te=>{var L,u,K;let E=te;!((L=E==null?void 0:E.content_types)!=null&&L.thumb)&&((u=E==null?void 0:E.content_types)!=null&&u.step||((K=E==null?void 0:E.content_types)==null||K.f3d))})},d=async()=>{var $,W,te,E,L;for(;n.value.length>0;){await new Promise(G=>setTimeout(G,100));const u=n.value.shift(),K=await t.backend.autothumb({url:((W=($=u==null?void 0:u.content_types)==null?void 0:$.f3d)==null?void 0:W.url)||((E=(te=u==null?void 0:u.content_types)==null?void 0:te.step)==null?void 0:E.url),content_type:(L=u==null?void 0:u.content_types)!=null&&L.f3d?"f3d":"step",transparent:y.value,token:t.token});K&&(s.value.push({path:`${u.path}.png`,content:K.split(",")[1],encoding:"base64"}),l.value=K)}},S=async()=>{var W;const $=(W=p.value)==null?void 0:W.repositories.filter(te=>te.repr===v.value)[0];await Qn({repo:$.repo,branch:$.branch,files:[...s.value],token:t.token,message:"Add auto-generated thumbnails.",progressCallback:(te,E)=>{h.value=[te,E]}})},{dialogRef:w,onDialogHide:z,onDialogOK:_,onDialogCancel:A}=De();function P(){n.value.length?(n.value=[],r.value=0,l.value="",s.value=[]):s.value.length?s.value=[]:A()}function D(){var $;if(s.value.length)S().then(()=>{var W;_((W=p==null?void 0:p.value)==null?void 0:W.id)}).catch(W=>{dr({message:`${W}`})});else{let W=a.value||"";W==="/"&&(W=""),n.value=b((($=p.value)==null?void 0:$.children)||[]).filter(te=>te.path.startsWith(W)),r.value=n.value.length,d().then(()=>{r.value=0}).catch(te=>{console.error("Processing Error",te),r.value=0,n.value=[],l.value="",s.value=[]})}}return($,W)=>(pe(),ze(ct,{ref_key:"dialogRef",ref:w,onHide:ye(z),square:""},{default:me(()=>[ce(ft,{class:"q-dialog-plugin"},{default:me(()=>[ce(dt,null,{default:me(()=>{var te;return[bo,ce(Zn,{class:"q-mb-sm"}),!n.value.length&&!s.value.length?(pe(),we("div",yo,[_o,Ce(de("select",{"onUpdate:modelValue":W[0]||(W[0]=E=>i.value=E),style:{flex:"1"}},[(pe(!0),we(Ye,null,rt(ye(t).tree,E=>(pe(),we("option",{key:E.id,value:E.id},Fe(E.name),9,ko))),128))],512),[[At,i.value]])])):Ae("",!0),!n.value.length&&!s.value.length?(pe(),we("div",wo,[xo,de("div",So,[ce(fr,{ref:"treeRef",dense:"",selected:a.value,"onUpdate:selected":W[1]||(W[1]=E=>a.value=E),expanded:f.value,"onUpdate:expanded":W[2]||(W[2]=E=>f.value=E),"no-selection-unset":"",nodes:c.value,"node-key":"id","label-key":"name",class:"pathTree"},null,8,["selected","expanded","nodes"])])])):Ae("",!0),!n.value.length&&!s.value.length?(pe(),we("div",Co,[de("label",zo,[Oe(" BG Transparency: "),Ce(de("input",{type:"checkbox","onUpdate:modelValue":W[3]||(W[3]=E=>y.value=E)},null,512),[[it,y.value]])])])):Ae("",!0),s.value.length&&!n.value.length?(pe(),we("div",To,[de("div",Eo,[de("div",null,"Generated "+Fe(s.value.length)+" thumbnails.",1),ce(po,{class:"thumb-list"},{default:me(()=>[(pe(!0),we(Ye,null,rt(s.value,E=>(pe(),we("div",{key:E.path,style:{"white-space":"nowrap"}},Fe(E.path),1))),128))]),_:1})])])):Ae("",!0),s.value.length&&!n.value.length?(pe(),we("div",Ao,[qo,Ce(de("select",{"onUpdate:modelValue":W[4]||(W[4]=E=>v.value=E),style:{flex:"1"}},[(pe(!0),we(Ye,null,rt((te=p.value)==null?void 0:te.repositories,E=>(pe(),we("option",{value:E.repr,key:E.repr},Fe(E.repr),9,Bo))),128))],512),[[At,v.value]])])):Ae("",!0),n.value.length?(pe(),we("div",Po,[l.value?(pe(),we("img",{key:0,src:l.value,class:"autothumb-preview"},null,8,Io)):Ae("",!0)])):Ae("",!0),r.value?(pe(),ze(En,{key:6,"animation-speed":100,size:"25px",value:(r.value-n.value.length)/r.value,color:"accent"},{default:me(()=>[de("div",Oo,[ce(Yt,{color:"white","text-color":"accent",label:`${r.value-n.value.length} / ${r.value}`},null,8,["label"])])]),_:1},8,["value"])):Ae("",!0),h.value?(pe(),ze(En,{key:7,size:"25px","animation-speed":100,value:h.value[0]/h.value[1],color:"accent"},{default:me(()=>[de("div",Ro,[ce(Yt,{color:"white","text-color":"accent",label:`${ye(m)(h.value[0])} / ${ye(m)(h.value[1])}`},null,8,["label"])])]),_:1},8,["value"])):Ae("",!0)]}),_:1}),ce(kt,{align:"right"},{default:me(()=>[ce(Te,{size:"sm",square:"",color:"negative","text-color":"white",label:"Cancel",onClick:P}),ce(Te,{color:"positive","text-color":"white",label:"OK",size:"sm",square:"",disable:!!(!p.value||!a.value||n.value.length||s.value.length&&!v.value),onClick:D},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),Lo={...Wn,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Jt=50,hr=2*Jt,vr=hr*Math.PI,Fo=Math.round(vr*1e3)/1e3;var Do=qe({name:"QCircularProgress",props:{...Lo,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:m}){const{proxy:{$q:a}}=Pe(),f=Vn(e),t=N(()=>{const p=(a.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(a.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-p}deg)`:`rotate3d(0, 0, 1, ${p-90}deg)`}}),i=N(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),n=N(()=>hr/(1-e.thickness/2)),r=N(()=>`${n.value/2} ${n.value/2} ${n.value} ${n.value}`),l=N(()=>Me(e.value,e.min,e.max)),v=N(()=>vr*(1-(l.value-e.min)/(e.max-e.min))),h=N(()=>e.thickness/2*n.value);function y({thickness:p,offset:s,color:g,cls:c,rounded:b}){return J("circle",{class:"q-circular-progress__"+c+(g!==void 0?` text-${g}`:""),style:i.value,fill:"transparent",stroke:"currentColor","stroke-width":p,"stroke-dasharray":Fo,"stroke-dashoffset":s,"stroke-linecap":b,cx:n.value,cy:n.value,r:Jt})}return()=>{const p=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&p.push(J("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Jt-h.value/2,cx:n.value,cy:n.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&p.push(y({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),p.push(y({cls:"circle",thickness:h.value,offset:v.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const s=[J("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:r.value,"aria-hidden":"true"},p)];return e.showValue===!0&&s.push(J("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},m.default!==void 0?m.default():[J("div",l.value)])),J("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:f.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},Jr(m.internal,s))}}}),mr={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,m){(function(a){e.exports=a()})(function(){return function a(f,t,i){function n(v,h){if(!t[v]){if(!f[v]){var y=typeof Ct=="function"&&Ct;if(!h&&y)return y(v,!0);if(r)return r(v,!0);var p=new Error("Cannot find module '"+v+"'");throw p.code="MODULE_NOT_FOUND",p}var s=t[v]={exports:{}};f[v][0].call(s.exports,function(g){var c=f[v][1][g];return n(c||g)},s,s.exports,a,f,t,i)}return t[v].exports}for(var r=typeof Ct=="function"&&Ct,l=0;l<i.length;l++)n(i[l]);return n}({1:[function(a,f,t){var i=a("./utils"),n=a("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(l){for(var v,h,y,p,s,g,c,b=[],d=0,S=l.length,w=S,z=i.getTypeOf(l)!=="string";d<l.length;)w=S-d,y=z?(v=l[d++],h=d<S?l[d++]:0,d<S?l[d++]:0):(v=l.charCodeAt(d++),h=d<S?l.charCodeAt(d++):0,d<S?l.charCodeAt(d++):0),p=v>>2,s=(3&v)<<4|h>>4,g=1<w?(15&h)<<2|y>>6:64,c=2<w?63&y:64,b.push(r.charAt(p)+r.charAt(s)+r.charAt(g)+r.charAt(c));return b.join("")},t.decode=function(l){var v,h,y,p,s,g,c=0,b=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var S,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===r.charAt(64)&&w--,l.charAt(l.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=n.uint8array?new Uint8Array(0|w):new Array(0|w);c<l.length;)v=r.indexOf(l.charAt(c++))<<2|(p=r.indexOf(l.charAt(c++)))>>4,h=(15&p)<<4|(s=r.indexOf(l.charAt(c++)))>>2,y=(3&s)<<6|(g=r.indexOf(l.charAt(c++))),S[b++]=v,s!==64&&(S[b++]=h),g!==64&&(S[b++]=y);return S}},{"./support":30,"./utils":32}],2:[function(a,f,t){var i=a("./external"),n=a("./stream/DataWorker"),r=a("./stream/Crc32Probe"),l=a("./stream/DataLengthProbe");function v(h,y,p,s,g){this.compressedSize=h,this.uncompressedSize=y,this.crc32=p,this.compression=s,this.compressedContent=g}v.prototype={getContentWorker:function(){var h=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),y=this;return h.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(h,y,p){return h.pipe(new r).pipe(new l("uncompressedSize")).pipe(y.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",y)},f.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,f,t){var i=a("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,f,t){var i=a("./utils"),n=function(){for(var r,l=[],v=0;v<256;v++){r=v;for(var h=0;h<8;h++)r=1&r?3988292384^r>>>1:r>>>1;l[v]=r}return l}();f.exports=function(r,l){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(v,h,y,p){var s=n,g=p+y;v^=-1;for(var c=p;c<g;c++)v=v>>>8^s[255&(v^h[c])];return-1^v}(0|l,r,r.length,0):function(v,h,y,p){var s=n,g=p+y;v^=-1;for(var c=p;c<g;c++)v=v>>>8^s[255&(v^h.charCodeAt(c))];return-1^v}(0|l,r,r.length,0):0}},{"./utils":32}],5:[function(a,f,t){t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(a,f,t){var i=null;i=typeof Promise!="undefined"?Promise:a("lie"),f.exports={Promise:i}},{lie:37}],7:[function(a,f,t){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",n=a("pako"),r=a("./utils"),l=a("./stream/GenericWorker"),v=i?"uint8array":"array";function h(y,p){l.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=p,this.meta={}}t.magic="\b\0",r.inherits(h,l),h.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(v,y.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(p){y.push({data:p,meta:y.meta})}},t.compressWorker=function(y){return new h("Deflate",y)},t.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,f,t){function i(s,g){var c,b="";for(c=0;c<g;c++)b+=String.fromCharCode(255&s),s>>>=8;return b}function n(s,g,c,b,d,S){var w,z,_=s.file,A=s.compression,P=S!==v.utf8encode,D=r.transformTo("string",S(_.name)),$=r.transformTo("string",v.utf8encode(_.name)),W=_.comment,te=r.transformTo("string",S(W)),E=r.transformTo("string",v.utf8encode(W)),L=$.length!==_.name.length,u=E.length!==W.length,K="",G="",H="",le=_.dir,ne=_.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!c||(fe.crc32=s.crc32,fe.compressedSize=s.compressedSize,fe.uncompressedSize=s.uncompressedSize);var M=0;g&&(M|=8),P||!L&&!u||(M|=2048);var T=0,Z=0;le&&(T|=16),d==="UNIX"?(Z=798,T|=function(I,O){var V=I;return I||(V=O?16893:33204),(65535&V)<<16}(_.unixPermissions,le)):(Z=20,T|=function(I){return 63&(I||0)}(_.dosPermissions)),w=ne.getUTCHours(),w<<=6,w|=ne.getUTCMinutes(),w<<=5,w|=ne.getUTCSeconds()/2,z=ne.getUTCFullYear()-1980,z<<=4,z|=ne.getUTCMonth()+1,z<<=5,z|=ne.getUTCDate(),L&&(G=i(1,1)+i(h(D),4)+$,K+="up"+i(G.length,2)+G),u&&(H=i(1,1)+i(h(te),4)+E,K+="uc"+i(H.length,2)+H);var x="";return x+=`
\0`,x+=i(M,2),x+=A.magic,x+=i(w,2),x+=i(z,2),x+=i(fe.crc32,4),x+=i(fe.compressedSize,4),x+=i(fe.uncompressedSize,4),x+=i(D.length,2),x+=i(K.length,2),{fileRecord:y.LOCAL_FILE_HEADER+x+D+K,dirRecord:y.CENTRAL_FILE_HEADER+i(Z,2)+x+i(te.length,2)+"\0\0\0\0"+i(T,4)+i(b,4)+D+K+te}}var r=a("../utils"),l=a("../stream/GenericWorker"),v=a("../utf8"),h=a("../crc32"),y=a("../signature");function p(s,g,c,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=c,this.encodeFileName=b,this.streamFiles=s,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(p,l),p.prototype.push=function(s){var g=s.meta.percent||0,c=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(s):(this.bytesWritten+=s.data.length,l.prototype.push.call(this,{data:s.data,meta:{currentFile:this.currentFile,percent:c?(g+100*(c-b-1))/c:100}}))},p.prototype.openedSource=function(s){this.currentSourceOffset=this.bytesWritten,this.currentFile=s.file.name;var g=this.streamFiles&&!s.file.dir;if(g){var c=n(s,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(s){this.accumulate=!1;var g=this.streamFiles&&!s.file.dir,c=n(s,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),g)this.push({data:function(b){return y.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(s),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var s=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var c=this.bytesWritten-s,b=function(d,S,w,z,_){var A=r.transformTo("string",_(z));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(S,4)+i(w,4)+i(A.length,2)+A}(this.dirRecords.length,c,s,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(s){this._sources.push(s);var g=this;return s.on("data",function(c){g.processChunk(c)}),s.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),s.on("error",function(c){g.error(c)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(s){var g=this._sources;if(!l.prototype.error.call(this,s))return!1;for(var c=0;c<g.length;c++)try{g[c].error(s)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var s=this._sources,g=0;g<s.length;g++)s[g].lock()},f.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,f,t){var i=a("../compressions"),n=a("./ZipFileWorker");t.generateWorker=function(r,l,v){var h=new n(l.streamFiles,v,l.platform,l.encodeFileName),y=0;try{r.forEach(function(p,s){y++;var g=function(S,w){var z=S||w,_=i[z];if(!_)throw new Error(z+" is not a valid compression method !");return _}(s.options.compression,l.compression),c=s.options.compressionOptions||l.compressionOptions||{},b=s.dir,d=s.date;s._compressWorker(g,c).withStreamInfo("file",{name:p,dir:b,date:d,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(h)}),h.entriesCount=y}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,f,t){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new i;for(var r in this)typeof this[r]!="function"&&(n[r]=this[r]);return n}}(i.prototype=a("./object")).loadAsync=a("./load"),i.support=a("./support"),i.defaults=a("./defaults"),i.version="3.10.1",i.loadAsync=function(n,r){return new i().loadAsync(n,r)},i.external=a("./external"),f.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,f,t){var i=a("./utils"),n=a("./external"),r=a("./utf8"),l=a("./zipEntries"),v=a("./stream/Crc32Probe"),h=a("./nodejsUtils");function y(p){return new n.Promise(function(s,g){var c=p.decompressed.getContentWorker().pipe(new v);c.on("error",function(b){g(b)}).on("end",function(){c.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):s()}).resume()})}f.exports=function(p,s){var g=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),h.isNode&&h.isStream(p)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,s.optimizedBinaryString,s.base64).then(function(c){var b=new l(s);return b.load(c),b}).then(function(c){var b=[n.Promise.resolve(c)],d=c.files;if(s.checkCRC32)for(var S=0;S<d.length;S++)b.push(y(d[S]));return n.Promise.all(b)}).then(function(c){for(var b=c.shift(),d=b.files,S=0;S<d.length;S++){var w=d[S],z=w.fileNameStr,_=i.resolve(w.fileNameStr);g.file(_,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:s.createFolders}),w.dir||(g.file(_).unsafeOriginalName=z)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,f,t){var i=a("../utils"),n=a("../stream/GenericWorker");function r(l,v){n.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(v)}i.inherits(r,n),r.prototype._bindStream=function(l){var v=this;(this._stream=l).pause(),l.on("data",function(h){v.push({data:h,meta:{percent:0}})}).on("error",function(h){v.isPaused?this.generatedError=h:v.error(h)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},r.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,f,t){var i=a("readable-stream").Readable;function n(r,l,v){i.call(this,l),this._helper=r;var h=this;r.on("data",function(y,p){h.push(y)||h._helper.pause(),v&&v(p)}).on("error",function(y){h.emit("error",y)}).on("end",function(){h.push(null)})}a("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},f.exports=n},{"../utils":32,"readable-stream":16}],14:[function(a,f,t){f.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,n);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,n)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var n=new Buffer(i);return n.fill(0),n},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(a,f,t){function i(_,A,P){var D,$=r.getTypeOf(A),W=r.extend(P||{},h);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(_=d(_)),W.createFolders&&(D=b(_))&&S.call(this,D,!0);var te=$==="string"&&W.binary===!1&&W.base64===!1;P&&P.binary!==void 0||(W.binary=!te),(A instanceof y&&A.uncompressedSize===0||W.dir||!A||A.length===0)&&(W.base64=!1,W.binary=!0,A="",W.compression="STORE",$="string");var E=null;E=A instanceof y||A instanceof l?A:g.isNode&&g.isStream(A)?new c(_,A):r.prepareContent(_,A,W.binary,W.optimizedBinaryString,W.base64);var L=new p(_,E,W);this.files[_]=L}var n=a("./utf8"),r=a("./utils"),l=a("./stream/GenericWorker"),v=a("./stream/StreamHelper"),h=a("./defaults"),y=a("./compressedObject"),p=a("./zipObject"),s=a("./generate"),g=a("./nodejsUtils"),c=a("./nodejs/NodejsStreamInputAdapter"),b=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var A=_.lastIndexOf("/");return 0<A?_.substring(0,A):""},d=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},S=function(_,A){return A=A!==void 0?A:h.createFolders,_=d(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:A}),this.files[_]};function w(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var A,P,D;for(A in this.files)D=this.files[A],(P=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&_(P,D)},filter:function(_){var A=[];return this.forEach(function(P,D){_(P,D)&&A.push(D)}),A},file:function(_,A,P){if(arguments.length!==1)return _=this.root+_,i.call(this,_,A,P),this;if(w(_)){var D=_;return this.filter(function(W,te){return!te.dir&&D.test(W)})}var $=this.files[this.root+_];return $&&!$.dir?$:null},folder:function(_){if(!_)return this;if(w(_))return this.filter(function($,W){return W.dir&&_.test($)});var A=this.root+_,P=S.call(this,A),D=this.clone();return D.root=P.name,D},remove:function(_){_=this.root+_;var A=this.files[_];if(A||(_.slice(-1)!=="/"&&(_+="/"),A=this.files[_]),A&&!A.dir)delete this.files[_];else for(var P=this.filter(function($,W){return W.name.slice(0,_.length)===_}),D=0;D<P.length;D++)delete this.files[P[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var A,P={};try{if((P=r.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");r.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var D=P.comment||this.comment||"";A=s.generateWorker(this,P,D)}catch($){(A=new l("error")).error($)}return new v(A,P.type||"string",P.mimeType)},generateAsync:function(_,A){return this.generateInternalStream(_).accumulate(A)},generateNodeStream:function(_,A){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(A)}};f.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,f,t){f.exports=a("stream")},{stream:void 0}],17:[function(a,f,t){var i=a("./DataReader");function n(r){i.call(this,r);for(var l=0;l<this.data.length;l++)r[l]=255&r[l]}a("../utils").inherits(n,i),n.prototype.byteAt=function(r){return this.data[this.zero+r]},n.prototype.lastIndexOfSignature=function(r){for(var l=r.charCodeAt(0),v=r.charCodeAt(1),h=r.charCodeAt(2),y=r.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===v&&this.data[p+2]===h&&this.data[p+3]===y)return p-this.zero;return-1},n.prototype.readAndCheckSignature=function(r){var l=r.charCodeAt(0),v=r.charCodeAt(1),h=r.charCodeAt(2),y=r.charCodeAt(3),p=this.readData(4);return l===p[0]&&v===p[1]&&h===p[2]&&y===p[3]},n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./DataReader":18}],18:[function(a,f,t){var i=a("../utils");function n(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var l,v=0;for(this.checkOffset(r),l=this.index+r-1;l>=this.index;l--)v=(v<<8)+this.byteAt(l);return this.index+=r,v},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},f.exports=n},{"../utils":32}],19:[function(a,f,t){var i=a("./Uint8ArrayReader");function n(r){i.call(this,r)}a("../utils").inherits(n,i),n.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,f,t){var i=a("./DataReader");function n(r){i.call(this,r)}a("../utils").inherits(n,i),n.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},n.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},n.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},n.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./DataReader":18}],21:[function(a,f,t){var i=a("./ArrayReader");function n(r){i.call(this,r)}a("../utils").inherits(n,i),n.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},f.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(a,f,t){var i=a("../utils"),n=a("../support"),r=a("./ArrayReader"),l=a("./StringReader"),v=a("./NodeBufferReader"),h=a("./Uint8ArrayReader");f.exports=function(y){var p=i.getTypeOf(y);return i.checkSupport(p),p!=="string"||n.uint8array?p==="nodebuffer"?new v(y):n.uint8array?new h(i.transformTo("uint8array",y)):new r(i.transformTo("array",y)):new l(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,f,t){t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,f,t){var i=a("./GenericWorker"),n=a("../utils");function r(l){i.call(this,"ConvertWorker to "+l),this.destType=l}n.inherits(r,i),r.prototype.processChunk=function(l){this.push({data:n.transformTo(this.destType,l.data),meta:l.meta})},f.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(a,f,t){var i=a("./GenericWorker"),n=a("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(r,i),r.prototype.processChunk=function(l){this.streamInfo.crc32=n(l.data,this.streamInfo.crc32||0),this.push(l)},f.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,f,t){var i=a("../utils"),n=a("./GenericWorker");function r(l){n.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(r,n),r.prototype.processChunk=function(l){if(l){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+l.data.length}n.prototype.processChunk.call(this,l)},f.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(a,f,t){var i=a("../utils"),n=a("./GenericWorker");function r(l){n.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){v.dataIsReady=!0,v.data=h,v.max=h&&h.length||0,v.type=i.getTypeOf(h),v.isPaused||v._tickAndRepeat()},function(h){v.error(h)})}i.inherits(r,n),r.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,v);break;case"uint8array":l=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":l=this.data.slice(this.index,v)}return this.index=v,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(a,f,t){function i(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,r){return this._listeners[n].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,r){if(this._listeners[n])for(var l=0;l<this._listeners[n].length;l++)this._listeners[n][l].call(this,r)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var r=this;return n.on("data",function(l){r.processChunk(l)}),n.on("end",function(){r.end()}),n.on("error",function(l){r.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,r){return this.extraStreamInfo[n]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},f.exports=i},{}],29:[function(a,f,t){var i=a("../utils"),n=a("./ConvertWorker"),r=a("./GenericWorker"),l=a("../base64"),v=a("../support"),h=a("../external"),y=null;if(v.nodestream)try{y=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,c){return new h.Promise(function(b,d){var S=[],w=g._internalType,z=g._outputType,_=g._mimeType;g.on("data",function(A,P){S.push(A),c&&c(P)}).on("error",function(A){S=[],d(A)}).on("end",function(){try{var A=function(P,D,$){switch(P){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),$);case"base64":return l.encode(D);default:return i.transformTo(P,D)}}(z,function(P,D){var $,W=0,te=null,E=0;for($=0;$<D.length;$++)E+=D[$].length;switch(P){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(te=new Uint8Array(E),$=0;$<D.length;$++)te.set(D[$],W),W+=D[$].length;return te;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+P+"'")}}(w,S),_);b(A)}catch(P){d(P)}S=[]}).resume()})}function s(g,c,b){var d=c;switch(c){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=c,this._mimeType=b,i.checkSupport(d),this._worker=g.pipe(new n(d)),g.lock()}catch(S){this._worker=new r("error"),this._worker.error(S)}}s.prototype={accumulate:function(g){return p(this,g)},on:function(g,c){var b=this;return g==="data"?this._worker.on(g,function(d){c.call(b,d.data,d.meta)}):this._worker.on(g,function(){i.delay(c,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},g)}},f.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,f,t){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",t.nodebuffer=typeof Buffer!="undefined",t.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),t.blob=n.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!a("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(a,f,t){for(var i=a("./utils"),n=a("./support"),r=a("./nodejsUtils"),l=a("./stream/GenericWorker"),v=new Array(256),h=0;h<256;h++)v[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;v[254]=v[254]=1;function y(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}t.utf8encode=function(s){return n.nodebuffer?r.newBufferFrom(s,"utf-8"):function(g){var c,b,d,S,w,z=g.length,_=0;for(S=0;S<z;S++)(64512&(b=g.charCodeAt(S)))==55296&&S+1<z&&(64512&(d=g.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(d-56320),S++),_+=b<128?1:b<2048?2:b<65536?3:4;for(c=n.uint8array?new Uint8Array(_):new Array(_),S=w=0;w<_;S++)(64512&(b=g.charCodeAt(S)))==55296&&S+1<z&&(64512&(d=g.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(d-56320),S++),b<128?c[w++]=b:(b<2048?c[w++]=192|b>>>6:(b<65536?c[w++]=224|b>>>12:(c[w++]=240|b>>>18,c[w++]=128|b>>>12&63),c[w++]=128|b>>>6&63),c[w++]=128|63&b);return c}(s)},t.utf8decode=function(s){return n.nodebuffer?i.transformTo("nodebuffer",s).toString("utf-8"):function(g){var c,b,d,S,w=g.length,z=new Array(2*w);for(c=b=0;c<w;)if((d=g[c++])<128)z[b++]=d;else if(4<(S=v[d]))z[b++]=65533,c+=S-1;else{for(d&=S===2?31:S===3?15:7;1<S&&c<w;)d=d<<6|63&g[c++],S--;1<S?z[b++]=65533:d<65536?z[b++]=d:(d-=65536,z[b++]=55296|d>>10&1023,z[b++]=56320|1023&d)}return z.length!==b&&(z.subarray?z=z.subarray(0,b):z.length=b),i.applyFromCharCode(z)}(s=i.transformTo(n.uint8array?"uint8array":"array",s))},i.inherits(y,l),y.prototype.processChunk=function(s){var g=i.transformTo(n.uint8array?"uint8array":"array",s.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var c=g;(g=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),g.set(c,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=function(S,w){var z;for((w=w||S.length)>S.length&&(w=S.length),z=w-1;0<=z&&(192&S[z])==128;)z--;return z<0||z===0?w:z+v[S[z]]>w?z:w}(g),d=g;b!==g.length&&(n.uint8array?(d=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(d=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:t.utf8decode(d),meta:s.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=y,i.inherits(p,l),p.prototype.processChunk=function(s){this.push({data:t.utf8encode(s.data),meta:s.meta})},t.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,f,t){var i=a("./support"),n=a("./base64"),r=a("./nodejsUtils"),l=a("./external");function v(c){return c}function h(c,b){for(var d=0;d<c.length;++d)b[d]=255&c.charCodeAt(d);return b}a("setimmediate"),t.newBlob=function(c,b){t.checkSupport("blob");try{return new Blob([c],{type:b})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(c),d.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(c,b,d){var S=[],w=0,z=c.length;if(z<=d)return String.fromCharCode.apply(null,c);for(;w<z;)b==="array"||b==="nodebuffer"?S.push(String.fromCharCode.apply(null,c.slice(w,Math.min(w+d,z)))):S.push(String.fromCharCode.apply(null,c.subarray(w,Math.min(w+d,z)))),w+=d;return S.join("")},stringifyByChar:function(c){for(var b="",d=0;d<c.length;d++)b+=String.fromCharCode(c[d]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function p(c){var b=65536,d=t.getTypeOf(c),S=!0;if(d==="uint8array"?S=y.applyCanBeUsed.uint8array:d==="nodebuffer"&&(S=y.applyCanBeUsed.nodebuffer),S)for(;1<b;)try{return y.stringifyByChunk(c,d,b)}catch{b=Math.floor(b/2)}return y.stringifyByChar(c)}function s(c,b){for(var d=0;d<c.length;d++)b[d]=c[d];return b}t.applyFromCharCode=p;var g={};g.string={string:v,array:function(c){return h(c,new Array(c.length))},arraybuffer:function(c){return g.string.uint8array(c).buffer},uint8array:function(c){return h(c,new Uint8Array(c.length))},nodebuffer:function(c){return h(c,r.allocBuffer(c.length))}},g.array={string:p,array:v,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return r.newBufferFrom(c)}},g.arraybuffer={string:function(c){return p(new Uint8Array(c))},array:function(c){return s(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:v,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return r.newBufferFrom(new Uint8Array(c))}},g.uint8array={string:p,array:function(c){return s(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:v,nodebuffer:function(c){return r.newBufferFrom(c)}},g.nodebuffer={string:p,array:function(c){return s(c,new Array(c.length))},arraybuffer:function(c){return g.nodebuffer.uint8array(c).buffer},uint8array:function(c){return s(c,new Uint8Array(c.length))},nodebuffer:v},t.transformTo=function(c,b){if(b=b||"",!c)return b;t.checkSupport(c);var d=t.getTypeOf(b);return g[d][c](b)},t.resolve=function(c){for(var b=c.split("/"),d=[],S=0;S<b.length;S++){var w=b[S];w==="."||w===""&&S!==0&&S!==b.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},t.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(c)?"nodebuffer":i.uint8array&&c instanceof Uint8Array?"uint8array":i.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(c){if(!i[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(c){var b,d,S="";for(d=0;d<(c||"").length;d++)S+="\\x"+((b=c.charCodeAt(d))<16?"0":"")+b.toString(16).toUpperCase();return S},t.delay=function(c,b,d){setImmediate(function(){c.apply(d||null,b||[])})},t.inherits=function(c,b){function d(){}d.prototype=b.prototype,c.prototype=new d},t.extend=function(){var c,b,d={};for(c=0;c<arguments.length;c++)for(b in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],b)&&d[b]===void 0&&(d[b]=arguments[c][b]);return d},t.prepareContent=function(c,b,d,S,w){return l.Promise.resolve(b).then(function(z){return i.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(_,A){var P=new FileReader;P.onload=function(D){_(D.target.result)},P.onerror=function(D){A(D.target.error)},P.readAsArrayBuffer(z)}):z}).then(function(z){var _=t.getTypeOf(z);return _?(_==="arraybuffer"?z=t.transformTo("uint8array",z):_==="string"&&(w?z=n.decode(z):d&&S!==!0&&(z=function(A){return h(A,i.uint8array?new Uint8Array(A.length):new Array(A.length))}(z))),z):l.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,f,t){var i=a("./reader/readerFor"),n=a("./utils"),r=a("./signature"),l=a("./zipEntry"),v=a("./support");function h(y){this.files=[],this.loadOptions=y}h.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(p)+", expected "+n.pretty(y)+")")}},isSignature:function(y,p){var s=this.reader.index;this.reader.setIndex(y);var g=this.reader.readString(4)===p;return this.reader.setIndex(s),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),p=v.uint8array?"uint8array":"array",s=n.transformTo(p,y);this.zipComment=this.loadOptions.decodeFileName(s)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,p,s,g=this.zip64EndOfCentralSize-44;0<g;)y=this.reader.readInt(2),p=this.reader.readInt(4),s=this.reader.readData(p),this.zip64ExtensibleData[y]={id:y,length:p,value:s}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,p;for(y=0;y<this.files.length;y++)p=this.files[y],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(y=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var p=y;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var s=this.centralDirOffset+this.centralDirSize;this.zip64&&(s+=20,s+=12+this.zip64EndOfCentralSize);var g=p-s;if(0<g)this.isSignature(p,r.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(y){this.reader=i(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,f,t){var i=a("./reader/readerFor"),n=a("./utils"),r=a("./compressedObject"),l=a("./crc32"),v=a("./utf8"),h=a("./compressions"),y=a("./support");function p(s,g){this.options=s,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(s){var g,c;if(s.skip(22),this.fileNameLength=s.readInt(2),c=s.readInt(2),this.fileName=s.readData(this.fileNameLength),s.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(b){for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&h[d].magic===b)return h[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,g,s.readData(this.compressedSize))},readCentralPart:function(s){this.versionMadeBy=s.readInt(2),s.skip(2),this.bitFlag=s.readInt(2),this.compressionMethod=s.readString(2),this.date=s.readDate(),this.crc32=s.readInt(4),this.compressedSize=s.readInt(4),this.uncompressedSize=s.readInt(4);var g=s.readInt(2);if(this.extraFieldsLength=s.readInt(2),this.fileCommentLength=s.readInt(2),this.diskNumberStart=s.readInt(2),this.internalFileAttributes=s.readInt(2),this.externalFileAttributes=s.readInt(4),this.localHeaderOffset=s.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");s.skip(g),this.readExtraFields(s),this.parseZIP64ExtraField(s),this.fileComment=s.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var s=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),s==0&&(this.dosPermissions=63&this.externalFileAttributes),s==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var s=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=s.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=s.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=s.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=s.readInt(4))}},readExtraFields:function(s){var g,c,b,d=s.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});s.index+4<d;)g=s.readInt(2),c=s.readInt(2),b=s.readData(c),this.extraFields[g]={id:g,length:c,value:b};s.setIndex(d)},handleUTF8:function(){var s=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var c=n.transformTo(s,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var d=n.transformTo(s,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var s=this.extraFields[28789];if(s){var g=i(s.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:v.utf8decode(g.readData(s.length-5))}return null},findExtraFieldUnicodeComment:function(){var s=this.extraFields[25461];if(s){var g=i(s.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:v.utf8decode(g.readData(s.length-5))}return null}},f.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,f,t){function i(g,c,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=c,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var n=a("./stream/StreamHelper"),r=a("./stream/DataWorker"),l=a("./utf8"),v=a("./compressedObject"),h=a("./stream/GenericWorker");i.prototype={internalStream:function(g){var c=null,b="string";try{if(!g)throw new Error("No output type specified.");var d=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),c=this._decompressWorker();var S=!this._dataBinary;S&&!d&&(c=c.pipe(new l.Utf8EncodeWorker)),!S&&d&&(c=c.pipe(new l.Utf8DecodeWorker))}catch(w){(c=new h("error")).error(w)}return new n(c,b,"")},async:function(g,c){return this.internalStream(g).accumulate(c)},nodeStream:function(g,c){return this.internalStream(g||"nodebuffer").toNodejsStream(c)},_compressWorker:function(g,c){if(this._data instanceof v&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),v.createWorkerFrom(b,g,c)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof h?this._data:new r(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},s=0;s<y.length;s++)i.prototype[y[s]]=p;f.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,f,t){(function(i){var n,r,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var v=0,h=new l(g),y=i.document.createTextNode("");h.observe(y,{characterData:!0}),n=function(){y.data=v=++v%2}}else if(i.setImmediate||i.MessageChannel===void 0)n="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var c=i.document.createElement("script");c.onreadystatechange=function(){g(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},i.document.documentElement.appendChild(c)}:function(){setTimeout(g,0)};else{var p=new i.MessageChannel;p.port1.onmessage=g,n=function(){p.port2.postMessage(0)}}var s=[];function g(){var c,b;r=!0;for(var d=s.length;d;){for(b=s,s=[],c=-1;++c<d;)b[c]();d=s.length}r=!1}f.exports=function(c){s.push(c)!==1||r||n()}}).call(this,typeof St!="undefined"?St:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(a,f,t){var i=a("immediate");function n(){}var r={},l=["REJECTED"],v=["FULFILLED"],h=["PENDING"];function y(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,d!==n&&c(this,d)}function p(d,S,w){this.promise=d,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function s(d,S,w){i(function(){var z;try{z=S(w)}catch(_){return r.reject(d,_)}z===d?r.reject(d,new TypeError("Cannot resolve promise with itself")):r.resolve(d,z)})}function g(d){var S=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof S=="function")return function(){S.apply(d,arguments)}}function c(d,S){var w=!1;function z(P){w||(w=!0,r.reject(d,P))}function _(P){w||(w=!0,r.resolve(d,P))}var A=b(function(){S(_,z)});A.status==="error"&&z(A.value)}function b(d,S){var w={};try{w.value=d(S),w.status="success"}catch(z){w.status="error",w.value=z}return w}(f.exports=y).prototype.finally=function(d){if(typeof d!="function")return this;var S=this.constructor;return this.then(function(w){return S.resolve(d()).then(function(){return w})},function(w){return S.resolve(d()).then(function(){throw w})})},y.prototype.catch=function(d){return this.then(null,d)},y.prototype.then=function(d,S){if(typeof d!="function"&&this.state===v||typeof S!="function"&&this.state===l)return this;var w=new this.constructor(n);return this.state!==h?s(w,this.state===v?d:S,this.outcome):this.queue.push(new p(w,d,S)),w},p.prototype.callFulfilled=function(d){r.resolve(this.promise,d)},p.prototype.otherCallFulfilled=function(d){s(this.promise,this.onFulfilled,d)},p.prototype.callRejected=function(d){r.reject(this.promise,d)},p.prototype.otherCallRejected=function(d){s(this.promise,this.onRejected,d)},r.resolve=function(d,S){var w=b(g,S);if(w.status==="error")return r.reject(d,w.value);var z=w.value;if(z)c(d,z);else{d.state=v,d.outcome=S;for(var _=-1,A=d.queue.length;++_<A;)d.queue[_].callFulfilled(S)}return d},r.reject=function(d,S){d.state=l,d.outcome=S;for(var w=-1,z=d.queue.length;++w<z;)d.queue[w].callRejected(S);return d},y.resolve=function(d){return d instanceof this?d:r.resolve(new this(n),d)},y.reject=function(d){var S=new this(n);return r.reject(S,d)},y.all=function(d){var S=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,z=!1;if(!w)return this.resolve([]);for(var _=new Array(w),A=0,P=-1,D=new this(n);++P<w;)$(d[P],P);return D;function $(W,te){S.resolve(W).then(function(E){_[te]=E,++A!==w||z||(z=!0,r.resolve(D,_))},function(E){z||(z=!0,r.reject(D,E))})}},y.race=function(d){var S=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,z=!1;if(!w)return this.resolve([]);for(var _=-1,A=new this(n);++_<w;)P=d[_],S.resolve(P).then(function(D){z||(z=!0,r.resolve(A,D))},function(D){z||(z=!0,r.reject(A,D))});var P;return A}},{immediate:36}],38:[function(a,f,t){var i={};(0,a("./lib/utils/common").assign)(i,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),f.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,f,t){var i=a("./zlib/deflate"),n=a("./utils/common"),r=a("./utils/strings"),l=a("./zlib/messages"),v=a("./zlib/zstream"),h=Object.prototype.toString,y=0,p=-1,s=0,g=8;function c(d){if(!(this instanceof c))return new c(d);this.options=n.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},d||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(w!==y)throw new Error(l[w]);if(S.header&&i.deflateSetHeader(this.strm,S.header),S.dictionary){var z;if(z=typeof S.dictionary=="string"?r.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(w=i.deflateSetDictionary(this.strm,z))!==y)throw new Error(l[w]);this._dict_set=!0}}function b(d,S){var w=new c(S);if(w.push(d,!0),w.err)throw w.msg||l[w.err];return w.result}c.prototype.push=function(d,S){var w,z,_=this.strm,A=this.options.chunkSize;if(this.ended)return!1;z=S===~~S?S:S===!0?4:0,typeof d=="string"?_.input=r.string2buf(d):h.call(d)==="[object ArrayBuffer]"?_.input=new Uint8Array(d):_.input=d,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new n.Buf8(A),_.next_out=0,_.avail_out=A),(w=i.deflate(_,z))!==1&&w!==y)return this.onEnd(w),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(n.shrinkBuf(_.output,_.next_out))):this.onData(n.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&w!==1);return z===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===y):z!==2||(this.onEnd(y),!(_.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},t.Deflate=c,t.deflate=b,t.deflateRaw=function(d,S){return(S=S||{}).raw=!0,b(d,S)},t.gzip=function(d,S){return(S=S||{}).gzip=!0,b(d,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,f,t){var i=a("./zlib/inflate"),n=a("./utils/common"),r=a("./utils/strings"),l=a("./zlib/constants"),v=a("./zlib/messages"),h=a("./zlib/zstream"),y=a("./zlib/gzheader"),p=Object.prototype.toString;function s(c){if(!(this instanceof s))return new s(c);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},c||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||c&&c.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,b.windowBits);if(d!==l.Z_OK)throw new Error(v[d]);this.header=new y,i.inflateGetHeader(this.strm,this.header)}function g(c,b){var d=new s(b);if(d.push(c,!0),d.err)throw d.msg||v[d.err];return d.result}s.prototype.push=function(c,b){var d,S,w,z,_,A,P=this.strm,D=this.options.chunkSize,$=this.options.dictionary,W=!1;if(this.ended)return!1;S=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof c=="string"?P.input=r.binstring2buf(c):p.call(c)==="[object ArrayBuffer]"?P.input=new Uint8Array(c):P.input=c,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new n.Buf8(D),P.next_out=0,P.avail_out=D),(d=i.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&$&&(A=typeof $=="string"?r.string2buf($):p.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,d=i.inflateSetDictionary(this.strm,A)),d===l.Z_BUF_ERROR&&W===!0&&(d=l.Z_OK,W=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&d!==l.Z_STREAM_END&&(P.avail_in!==0||S!==l.Z_FINISH&&S!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(P.output,P.next_out),z=P.next_out-w,_=r.buf2string(P.output,w),P.next_out=z,P.avail_out=D-z,z&&n.arraySet(P.output,P.output,w,z,0),this.onData(_)):this.onData(n.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(W=!0)}while((0<P.avail_in||P.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(S=l.Z_FINISH),S===l.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):S!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},s.prototype.onData=function(c){this.chunks.push(c)},s.prototype.onEnd=function(c){c===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},t.Inflate=s,t.inflate=g,t.inflateRaw=function(c,b){return(b=b||{}).raw=!0,g(c,b)},t.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,f,t){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";t.assign=function(l){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var h=v.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var y in h)h.hasOwnProperty(y)&&(l[y]=h[y])}}return l},t.shrinkBuf=function(l,v){return l.length===v?l:l.subarray?l.subarray(0,v):(l.length=v,l)};var n={arraySet:function(l,v,h,y,p){if(v.subarray&&l.subarray)l.set(v.subarray(h,h+y),p);else for(var s=0;s<y;s++)l[p+s]=v[h+s]},flattenChunks:function(l){var v,h,y,p,s,g;for(v=y=0,h=l.length;v<h;v++)y+=l[v].length;for(g=new Uint8Array(y),v=p=0,h=l.length;v<h;v++)s=l[v],g.set(s,p),p+=s.length;return g}},r={arraySet:function(l,v,h,y,p){for(var s=0;s<y;s++)l[p+s]=v[h+s]},flattenChunks:function(l){return[].concat.apply([],l)}};t.setTyped=function(l){l?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},{}],42:[function(a,f,t){var i=a("./common"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var l=new i.Buf8(256),v=0;v<256;v++)l[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function h(y,p){if(p<65537&&(y.subarray&&r||!y.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(y,p));for(var s="",g=0;g<p;g++)s+=String.fromCharCode(y[g]);return s}l[254]=l[254]=1,t.string2buf=function(y){var p,s,g,c,b,d=y.length,S=0;for(c=0;c<d;c++)(64512&(s=y.charCodeAt(c)))==55296&&c+1<d&&(64512&(g=y.charCodeAt(c+1)))==56320&&(s=65536+(s-55296<<10)+(g-56320),c++),S+=s<128?1:s<2048?2:s<65536?3:4;for(p=new i.Buf8(S),c=b=0;b<S;c++)(64512&(s=y.charCodeAt(c)))==55296&&c+1<d&&(64512&(g=y.charCodeAt(c+1)))==56320&&(s=65536+(s-55296<<10)+(g-56320),c++),s<128?p[b++]=s:(s<2048?p[b++]=192|s>>>6:(s<65536?p[b++]=224|s>>>12:(p[b++]=240|s>>>18,p[b++]=128|s>>>12&63),p[b++]=128|s>>>6&63),p[b++]=128|63&s);return p},t.buf2binstring=function(y){return h(y,y.length)},t.binstring2buf=function(y){for(var p=new i.Buf8(y.length),s=0,g=p.length;s<g;s++)p[s]=y.charCodeAt(s);return p},t.buf2string=function(y,p){var s,g,c,b,d=p||y.length,S=new Array(2*d);for(s=g=0;s<d;)if((c=y[s++])<128)S[g++]=c;else if(4<(b=l[c]))S[g++]=65533,s+=b-1;else{for(c&=b===2?31:b===3?15:7;1<b&&s<d;)c=c<<6|63&y[s++],b--;1<b?S[g++]=65533:c<65536?S[g++]=c:(c-=65536,S[g++]=55296|c>>10&1023,S[g++]=56320|1023&c)}return h(S,g)},t.utf8border=function(y,p){var s;for((p=p||y.length)>y.length&&(p=y.length),s=p-1;0<=s&&(192&y[s])==128;)s--;return s<0||s===0?p:s+l[y[s]]>p?s:p}},{"./common":41}],43:[function(a,f,t){f.exports=function(i,n,r,l){for(var v=65535&i|0,h=i>>>16&65535|0,y=0;r!==0;){for(r-=y=2e3<r?2e3:r;h=h+(v=v+n[l++]|0)|0,--y;);v%=65521,h%=65521}return v|h<<16|0}},{}],44:[function(a,f,t){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,f,t){var i=function(){for(var n,r=[],l=0;l<256;l++){n=l;for(var v=0;v<8;v++)n=1&n?3988292384^n>>>1:n>>>1;r[l]=n}return r}();f.exports=function(n,r,l,v){var h=i,y=v+l;n^=-1;for(var p=v;p<y;p++)n=n>>>8^h[255&(n^r[p])];return-1^n}},{}],46:[function(a,f,t){var i,n=a("../utils/common"),r=a("./trees"),l=a("./adler32"),v=a("./crc32"),h=a("./messages"),y=0,p=4,s=0,g=-2,c=-1,b=4,d=2,S=8,w=9,z=286,_=30,A=19,P=2*z+1,D=15,$=3,W=258,te=W+$+1,E=42,L=113,u=1,K=2,G=3,H=4;function le(o,Q){return o.msg=h[Q],Q}function ne(o){return(o<<1)-(4<o?9:0)}function fe(o){for(var Q=o.length;0<=--Q;)o[Q]=0}function M(o){var Q=o.state,j=Q.pending;j>o.avail_out&&(j=o.avail_out),j!==0&&(n.arraySet(o.output,Q.pending_buf,Q.pending_out,j,o.next_out),o.next_out+=j,Q.pending_out+=j,o.total_out+=j,o.avail_out-=j,Q.pending-=j,Q.pending===0&&(Q.pending_out=0))}function T(o,Q){r._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,Q),o.block_start=o.strstart,M(o.strm)}function Z(o,Q){o.pending_buf[o.pending++]=Q}function x(o,Q){o.pending_buf[o.pending++]=Q>>>8&255,o.pending_buf[o.pending++]=255&Q}function I(o,Q){var j,C,k=o.max_chain_length,q=o.strstart,Y=o.prev_length,F=o.nice_match,B=o.strstart>o.w_size-te?o.strstart-(o.w_size-te):0,X=o.window,ae=o.w_mask,re=o.prev,ue=o.strstart+W,ve=X[q+Y-1],ge=X[q+Y];o.prev_length>=o.good_match&&(k>>=2),F>o.lookahead&&(F=o.lookahead);do if(X[(j=Q)+Y]===ge&&X[j+Y-1]===ve&&X[j]===X[q]&&X[++j]===X[q+1]){q+=2,j++;do;while(X[++q]===X[++j]&&X[++q]===X[++j]&&X[++q]===X[++j]&&X[++q]===X[++j]&&X[++q]===X[++j]&&X[++q]===X[++j]&&X[++q]===X[++j]&&X[++q]===X[++j]&&q<ue);if(C=W-(ue-q),q=ue-W,Y<C){if(o.match_start=Q,F<=(Y=C))break;ve=X[q+Y-1],ge=X[q+Y]}}while((Q=re[Q&ae])>B&&--k!=0);return Y<=o.lookahead?Y:o.lookahead}function O(o){var Q,j,C,k,q,Y,F,B,X,ae,re=o.w_size;do{if(k=o.window_size-o.lookahead-o.strstart,o.strstart>=re+(re-te)){for(n.arraySet(o.window,o.window,re,re,0),o.match_start-=re,o.strstart-=re,o.block_start-=re,Q=j=o.hash_size;C=o.head[--Q],o.head[Q]=re<=C?C-re:0,--j;);for(Q=j=re;C=o.prev[--Q],o.prev[Q]=re<=C?C-re:0,--j;);k+=re}if(o.strm.avail_in===0)break;if(Y=o.strm,F=o.window,B=o.strstart+o.lookahead,X=k,ae=void 0,ae=Y.avail_in,X<ae&&(ae=X),j=ae===0?0:(Y.avail_in-=ae,n.arraySet(F,Y.input,Y.next_in,ae,B),Y.state.wrap===1?Y.adler=l(Y.adler,F,ae,B):Y.state.wrap===2&&(Y.adler=v(Y.adler,F,ae,B)),Y.next_in+=ae,Y.total_in+=ae,ae),o.lookahead+=j,o.lookahead+o.insert>=$)for(q=o.strstart-o.insert,o.ins_h=o.window[q],o.ins_h=(o.ins_h<<o.hash_shift^o.window[q+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[q+$-1])&o.hash_mask,o.prev[q&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=q,q++,o.insert--,!(o.lookahead+o.insert<$)););}while(o.lookahead<te&&o.strm.avail_in!==0)}function V(o,Q){for(var j,C;;){if(o.lookahead<te){if(O(o),o.lookahead<te&&Q===y)return u;if(o.lookahead===0)break}if(j=0,o.lookahead>=$&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+$-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),j!==0&&o.strstart-j<=o.w_size-te&&(o.match_length=I(o,j)),o.match_length>=$)if(C=r._tr_tally(o,o.strstart-o.match_start,o.match_length-$),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=$){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+$-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,--o.match_length!=0;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else C=r._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(C&&(T(o,!1),o.strm.avail_out===0))return u}return o.insert=o.strstart<$-1?o.strstart:$-1,Q===p?(T(o,!0),o.strm.avail_out===0?G:H):o.last_lit&&(T(o,!1),o.strm.avail_out===0)?u:K}function R(o,Q){for(var j,C,k;;){if(o.lookahead<te){if(O(o),o.lookahead<te&&Q===y)return u;if(o.lookahead===0)break}if(j=0,o.lookahead>=$&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+$-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=$-1,j!==0&&o.prev_length<o.max_lazy_match&&o.strstart-j<=o.w_size-te&&(o.match_length=I(o,j),o.match_length<=5&&(o.strategy===1||o.match_length===$&&4096<o.strstart-o.match_start)&&(o.match_length=$-1)),o.prev_length>=$&&o.match_length<=o.prev_length){for(k=o.strstart+o.lookahead-$,C=r._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-$),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=k&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+$-1])&o.hash_mask,j=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),--o.prev_length!=0;);if(o.match_available=0,o.match_length=$-1,o.strstart++,C&&(T(o,!1),o.strm.avail_out===0))return u}else if(o.match_available){if((C=r._tr_tally(o,0,o.window[o.strstart-1]))&&T(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return u}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(C=r._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<$-1?o.strstart:$-1,Q===p?(T(o,!0),o.strm.avail_out===0?G:H):o.last_lit&&(T(o,!1),o.strm.avail_out===0)?u:K}function U(o,Q,j,C,k){this.good_length=o,this.max_lazy=Q,this.nice_length=j,this.max_chain=C,this.func=k}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*P),this.dyn_dtree=new n.Buf16(2*(2*_+1)),this.bl_tree=new n.Buf16(2*(2*A+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(D+1),this.heap=new n.Buf16(2*z+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*z+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(o){var Q;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=d,(Q=o.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?E:L,o.adler=Q.wrap===2?0:1,Q.last_flush=y,r._tr_init(Q),s):le(o,g)}function se(o){var Q=he(o);return Q===s&&function(j){j.window_size=2*j.w_size,fe(j.head),j.max_lazy_match=i[j.level].max_lazy,j.good_match=i[j.level].good_length,j.nice_match=i[j.level].nice_length,j.max_chain_length=i[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=$-1,j.match_available=0,j.ins_h=0}(o.state),Q}function _e(o,Q,j,C,k,q){if(!o)return g;var Y=1;if(Q===c&&(Q=6),C<0?(Y=0,C=-C):15<C&&(Y=2,C-=16),k<1||w<k||j!==S||C<8||15<C||Q<0||9<Q||q<0||b<q)return le(o,g);C===8&&(C=9);var F=new oe;return(o.state=F).strm=o,F.wrap=Y,F.gzhead=null,F.w_bits=C,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=k+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+$-1)/$),F.window=new n.Buf8(2*F.w_size),F.head=new n.Buf16(F.hash_size),F.prev=new n.Buf16(F.w_size),F.lit_bufsize=1<<k+6,F.pending_buf_size=4*F.lit_bufsize,F.pending_buf=new n.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=Q,F.strategy=q,F.method=j,se(o)}i=[new U(0,0,0,0,function(o,Q){var j=65535;for(j>o.pending_buf_size-5&&(j=o.pending_buf_size-5);;){if(o.lookahead<=1){if(O(o),o.lookahead===0&&Q===y)return u;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var C=o.block_start+j;if((o.strstart===0||o.strstart>=C)&&(o.lookahead=o.strstart-C,o.strstart=C,T(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-te&&(T(o,!1),o.strm.avail_out===0))return u}return o.insert=0,Q===p?(T(o,!0),o.strm.avail_out===0?G:H):(o.strstart>o.block_start&&(T(o,!1),o.strm.avail_out),u)}),new U(4,4,8,4,V),new U(4,5,16,8,V),new U(4,6,32,32,V),new U(4,4,16,16,R),new U(8,16,32,32,R),new U(8,16,128,128,R),new U(8,32,128,256,R),new U(32,128,258,1024,R),new U(32,258,258,4096,R)],t.deflateInit=function(o,Q){return _e(o,Q,S,15,8,0)},t.deflateInit2=_e,t.deflateReset=se,t.deflateResetKeep=he,t.deflateSetHeader=function(o,Q){return o&&o.state?o.state.wrap!==2?g:(o.state.gzhead=Q,s):g},t.deflate=function(o,Q){var j,C,k,q;if(!o||!o.state||5<Q||Q<0)return o?le(o,g):g;if(C=o.state,!o.output||!o.input&&o.avail_in!==0||C.status===666&&Q!==p)return le(o,o.avail_out===0?-5:g);if(C.strm=o,j=C.last_flush,C.last_flush=Q,C.status===E)if(C.wrap===2)o.adler=0,Z(C,31),Z(C,139),Z(C,8),C.gzhead?(Z(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),Z(C,255&C.gzhead.time),Z(C,C.gzhead.time>>8&255),Z(C,C.gzhead.time>>16&255),Z(C,C.gzhead.time>>24&255),Z(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Z(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(Z(C,255&C.gzhead.extra.length),Z(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(o.adler=v(o.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(Z(C,0),Z(C,0),Z(C,0),Z(C,0),Z(C,0),Z(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),Z(C,3),C.status=L);else{var Y=S+(C.w_bits-8<<4)<<8;Y|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(Y|=32),Y+=31-Y%31,C.status=L,x(C,Y),C.strstart!==0&&(x(C,o.adler>>>16),x(C,65535&o.adler)),o.adler=1}if(C.status===69)if(C.gzhead.extra){for(k=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>k&&(o.adler=v(o.adler,C.pending_buf,C.pending-k,k)),M(o),k=C.pending,C.pending!==C.pending_buf_size));)Z(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>k&&(o.adler=v(o.adler,C.pending_buf,C.pending-k,k)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(o.adler=v(o.adler,C.pending_buf,C.pending-k,k)),M(o),k=C.pending,C.pending===C.pending_buf_size)){q=1;break}q=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,Z(C,q)}while(q!==0);C.gzhead.hcrc&&C.pending>k&&(o.adler=v(o.adler,C.pending_buf,C.pending-k,k)),q===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(o.adler=v(o.adler,C.pending_buf,C.pending-k,k)),M(o),k=C.pending,C.pending===C.pending_buf_size)){q=1;break}q=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,Z(C,q)}while(q!==0);C.gzhead.hcrc&&C.pending>k&&(o.adler=v(o.adler,C.pending_buf,C.pending-k,k)),q===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&M(o),C.pending+2<=C.pending_buf_size&&(Z(C,255&o.adler),Z(C,o.adler>>8&255),o.adler=0,C.status=L)):C.status=L),C.pending!==0){if(M(o),o.avail_out===0)return C.last_flush=-1,s}else if(o.avail_in===0&&ne(Q)<=ne(j)&&Q!==p)return le(o,-5);if(C.status===666&&o.avail_in!==0)return le(o,-5);if(o.avail_in!==0||C.lookahead!==0||Q!==y&&C.status!==666){var F=C.strategy===2?function(B,X){for(var ae;;){if(B.lookahead===0&&(O(B),B.lookahead===0)){if(X===y)return u;break}if(B.match_length=0,ae=r._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ae&&(T(B,!1),B.strm.avail_out===0))return u}return B.insert=0,X===p?(T(B,!0),B.strm.avail_out===0?G:H):B.last_lit&&(T(B,!1),B.strm.avail_out===0)?u:K}(C,Q):C.strategy===3?function(B,X){for(var ae,re,ue,ve,ge=B.window;;){if(B.lookahead<=W){if(O(B),B.lookahead<=W&&X===y)return u;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=$&&0<B.strstart&&(re=ge[ue=B.strstart-1])===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]){ve=B.strstart+W;do;while(re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&re===ge[++ue]&&ue<ve);B.match_length=W-(ve-ue),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=$?(ae=r._tr_tally(B,1,B.match_length-$),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ae=r._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ae&&(T(B,!1),B.strm.avail_out===0))return u}return B.insert=0,X===p?(T(B,!0),B.strm.avail_out===0?G:H):B.last_lit&&(T(B,!1),B.strm.avail_out===0)?u:K}(C,Q):i[C.level].func(C,Q);if(F!==G&&F!==H||(C.status=666),F===u||F===G)return o.avail_out===0&&(C.last_flush=-1),s;if(F===K&&(Q===1?r._tr_align(C):Q!==5&&(r._tr_stored_block(C,0,0,!1),Q===3&&(fe(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),M(o),o.avail_out===0))return C.last_flush=-1,s}return Q!==p?s:C.wrap<=0?1:(C.wrap===2?(Z(C,255&o.adler),Z(C,o.adler>>8&255),Z(C,o.adler>>16&255),Z(C,o.adler>>24&255),Z(C,255&o.total_in),Z(C,o.total_in>>8&255),Z(C,o.total_in>>16&255),Z(C,o.total_in>>24&255)):(x(C,o.adler>>>16),x(C,65535&o.adler)),M(o),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?s:1)},t.deflateEnd=function(o){var Q;return o&&o.state?(Q=o.state.status)!==E&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==L&&Q!==666?le(o,g):(o.state=null,Q===L?le(o,-3):s):g},t.deflateSetDictionary=function(o,Q){var j,C,k,q,Y,F,B,X,ae=Q.length;if(!o||!o.state||(q=(j=o.state).wrap)===2||q===1&&j.status!==E||j.lookahead)return g;for(q===1&&(o.adler=l(o.adler,Q,ae,0)),j.wrap=0,ae>=j.w_size&&(q===0&&(fe(j.head),j.strstart=0,j.block_start=0,j.insert=0),X=new n.Buf8(j.w_size),n.arraySet(X,Q,ae-j.w_size,j.w_size,0),Q=X,ae=j.w_size),Y=o.avail_in,F=o.next_in,B=o.input,o.avail_in=ae,o.next_in=0,o.input=Q,O(j);j.lookahead>=$;){for(C=j.strstart,k=j.lookahead-($-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[C+$-1])&j.hash_mask,j.prev[C&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=C,C++,--k;);j.strstart=C,j.lookahead=$-1,O(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=$-1,j.match_available=0,o.next_in=F,o.input=B,o.avail_in=Y,j.wrap=q,s},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,f,t){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,f,t){f.exports=function(i,n){var r,l,v,h,y,p,s,g,c,b,d,S,w,z,_,A,P,D,$,W,te,E,L,u,K;r=i.state,l=i.next_in,u=i.input,v=l+(i.avail_in-5),h=i.next_out,K=i.output,y=h-(n-i.avail_out),p=h+(i.avail_out-257),s=r.dmax,g=r.wsize,c=r.whave,b=r.wnext,d=r.window,S=r.hold,w=r.bits,z=r.lencode,_=r.distcode,A=(1<<r.lenbits)-1,P=(1<<r.distbits)-1;e:do{w<15&&(S+=u[l++]<<w,w+=8,S+=u[l++]<<w,w+=8),D=z[S&A];t:for(;;){if(S>>>=$=D>>>24,w-=$,($=D>>>16&255)===0)K[h++]=65535&D;else{if(!(16&$)){if((64&$)==0){D=z[(65535&D)+(S&(1<<$)-1)];continue t}if(32&$){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}W=65535&D,($&=15)&&(w<$&&(S+=u[l++]<<w,w+=8),W+=S&(1<<$)-1,S>>>=$,w-=$),w<15&&(S+=u[l++]<<w,w+=8,S+=u[l++]<<w,w+=8),D=_[S&P];n:for(;;){if(S>>>=$=D>>>24,w-=$,!(16&($=D>>>16&255))){if((64&$)==0){D=_[(65535&D)+(S&(1<<$)-1)];continue n}i.msg="invalid distance code",r.mode=30;break e}if(te=65535&D,w<($&=15)&&(S+=u[l++]<<w,(w+=8)<$&&(S+=u[l++]<<w,w+=8)),s<(te+=S&(1<<$)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(S>>>=$,w-=$,($=h-y)<te){if(c<($=te-$)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(L=d,(E=0)===b){if(E+=g-$,$<W){for(W-=$;K[h++]=d[E++],--$;);E=h-te,L=K}}else if(b<$){if(E+=g+b-$,($-=b)<W){for(W-=$;K[h++]=d[E++],--$;);if(E=0,b<W){for(W-=$=b;K[h++]=d[E++],--$;);E=h-te,L=K}}}else if(E+=b-$,$<W){for(W-=$;K[h++]=d[E++],--$;);E=h-te,L=K}for(;2<W;)K[h++]=L[E++],K[h++]=L[E++],K[h++]=L[E++],W-=3;W&&(K[h++]=L[E++],1<W&&(K[h++]=L[E++]))}else{for(E=h-te;K[h++]=K[E++],K[h++]=K[E++],K[h++]=K[E++],2<(W-=3););W&&(K[h++]=K[E++],1<W&&(K[h++]=K[E++]))}break}}break}}while(l<v&&h<p);l-=W=w>>3,S&=(1<<(w-=W<<3))-1,i.next_in=l,i.next_out=h,i.avail_in=l<v?v-l+5:5-(l-v),i.avail_out=h<p?p-h+257:257-(h-p),r.hold=S,r.bits=w}},{}],49:[function(a,f,t){var i=a("../utils/common"),n=a("./adler32"),r=a("./crc32"),l=a("./inffast"),v=a("./inftrees"),h=1,y=2,p=0,s=-2,g=1,c=852,b=592;function d(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(E){var L;return E&&E.state?(L=E.state,E.total_in=E.total_out=L.total=0,E.msg="",L.wrap&&(E.adler=1&L.wrap),L.mode=g,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new i.Buf32(c),L.distcode=L.distdyn=new i.Buf32(b),L.sane=1,L.back=-1,p):s}function z(E){var L;return E&&E.state?((L=E.state).wsize=0,L.whave=0,L.wnext=0,w(E)):s}function _(E,L){var u,K;return E&&E.state?(K=E.state,L<0?(u=0,L=-L):(u=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?s:(K.window!==null&&K.wbits!==L&&(K.window=null),K.wrap=u,K.wbits=L,z(E))):s}function A(E,L){var u,K;return E?(K=new S,(E.state=K).window=null,(u=_(E,L))!==p&&(E.state=null),u):s}var P,D,$=!0;function W(E){if($){var L;for(P=new i.Buf32(512),D=new i.Buf32(32),L=0;L<144;)E.lens[L++]=8;for(;L<256;)E.lens[L++]=9;for(;L<280;)E.lens[L++]=7;for(;L<288;)E.lens[L++]=8;for(v(h,E.lens,0,288,P,0,E.work,{bits:9}),L=0;L<32;)E.lens[L++]=5;v(y,E.lens,0,32,D,0,E.work,{bits:5}),$=!1}E.lencode=P,E.lenbits=9,E.distcode=D,E.distbits=5}function te(E,L,u,K){var G,H=E.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new i.Buf8(H.wsize)),K>=H.wsize?(i.arraySet(H.window,L,u-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(K<(G=H.wsize-H.wnext)&&(G=K),i.arraySet(H.window,L,u-K,G,H.wnext),(K-=G)?(i.arraySet(H.window,L,u-K,K,0),H.wnext=K,H.whave=H.wsize):(H.wnext+=G,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=G))),0}t.inflateReset=z,t.inflateReset2=_,t.inflateResetKeep=w,t.inflateInit=function(E){return A(E,15)},t.inflateInit2=A,t.inflate=function(E,L){var u,K,G,H,le,ne,fe,M,T,Z,x,I,O,V,R,U,oe,he,se,_e,o,Q,j,C,k=0,q=new i.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return s;(u=E.state).mode===12&&(u.mode=13),le=E.next_out,G=E.output,fe=E.avail_out,H=E.next_in,K=E.input,ne=E.avail_in,M=u.hold,T=u.bits,Z=ne,x=fe,Q=p;e:for(;;)switch(u.mode){case g:if(u.wrap===0){u.mode=13;break}for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(2&u.wrap&&M===35615){q[u.check=0]=255&M,q[1]=M>>>8&255,u.check=r(u.check,q,2,0),T=M=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&M)<<8)+(M>>8))%31){E.msg="incorrect header check",u.mode=30;break}if((15&M)!=8){E.msg="unknown compression method",u.mode=30;break}if(T-=4,o=8+(15&(M>>>=4)),u.wbits===0)u.wbits=o;else if(o>u.wbits){E.msg="invalid window size",u.mode=30;break}u.dmax=1<<o,E.adler=u.check=1,u.mode=512&M?10:12,T=M=0;break;case 2:for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(u.flags=M,(255&u.flags)!=8){E.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){E.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=M>>8&1),512&u.flags&&(q[0]=255&M,q[1]=M>>>8&255,u.check=r(u.check,q,2,0)),T=M=0,u.mode=3;case 3:for(;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.head&&(u.head.time=M),512&u.flags&&(q[0]=255&M,q[1]=M>>>8&255,q[2]=M>>>16&255,q[3]=M>>>24&255,u.check=r(u.check,q,4,0)),T=M=0,u.mode=4;case 4:for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.head&&(u.head.xflags=255&M,u.head.os=M>>8),512&u.flags&&(q[0]=255&M,q[1]=M>>>8&255,u.check=r(u.check,q,2,0)),T=M=0,u.mode=5;case 5:if(1024&u.flags){for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.length=M,u.head&&(u.head.extra_len=M),512&u.flags&&(q[0]=255&M,q[1]=M>>>8&255,u.check=r(u.check,q,2,0)),T=M=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(ne<(I=u.length)&&(I=ne),I&&(u.head&&(o=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),i.arraySet(u.head.extra,K,H,I,o)),512&u.flags&&(u.check=r(u.check,K,I,H)),ne-=I,H+=I,u.length-=I),u.length))break e;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(ne===0)break e;for(I=0;o=K[H+I++],u.head&&o&&u.length<65536&&(u.head.name+=String.fromCharCode(o)),o&&I<ne;);if(512&u.flags&&(u.check=r(u.check,K,I,H)),ne-=I,H+=I,o)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(ne===0)break e;for(I=0;o=K[H+I++],u.head&&o&&u.length<65536&&(u.head.comment+=String.fromCharCode(o)),o&&I<ne;);if(512&u.flags&&(u.check=r(u.check,K,I,H)),ne-=I,H+=I,o)break e}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;T<16;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(M!==(65535&u.check)){E.msg="header crc mismatch",u.mode=30;break}T=M=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),E.adler=u.check=0,u.mode=12;break;case 10:for(;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}E.adler=u.check=d(M),T=M=0,u.mode=11;case 11:if(u.havedict===0)return E.next_out=le,E.avail_out=fe,E.next_in=H,E.avail_in=ne,u.hold=M,u.bits=T,2;E.adler=u.check=1,u.mode=12;case 12:if(L===5||L===6)break e;case 13:if(u.last){M>>>=7&T,T-=7&T,u.mode=27;break}for(;T<3;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}switch(u.last=1&M,T-=1,3&(M>>>=1)){case 0:u.mode=14;break;case 1:if(W(u),u.mode=20,L!==6)break;M>>>=2,T-=2;break e;case 2:u.mode=17;break;case 3:E.msg="invalid block type",u.mode=30}M>>>=2,T-=2;break;case 14:for(M>>>=7&T,T-=7&T;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if((65535&M)!=(M>>>16^65535)){E.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&M,T=M=0,u.mode=15,L===6)break e;case 15:u.mode=16;case 16:if(I=u.length){if(ne<I&&(I=ne),fe<I&&(I=fe),I===0)break e;i.arraySet(G,K,H,I,le),ne-=I,H+=I,fe-=I,le+=I,u.length-=I;break}u.mode=12;break;case 17:for(;T<14;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(u.nlen=257+(31&M),M>>>=5,T-=5,u.ndist=1+(31&M),M>>>=5,T-=5,u.ncode=4+(15&M),M>>>=4,T-=4,286<u.nlen||30<u.ndist){E.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;T<3;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.lens[Y[u.have++]]=7&M,M>>>=3,T-=3}for(;u.have<19;)u.lens[Y[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,j={bits:u.lenbits},Q=v(0,u.lens,0,19,u.lencode,0,u.work,j),u.lenbits=j.bits,Q){E.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;U=(k=u.lencode[M&(1<<u.lenbits)-1])>>>16&255,oe=65535&k,!((R=k>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(oe<16)M>>>=R,T-=R,u.lens[u.have++]=oe;else{if(oe===16){for(C=R+2;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(M>>>=R,T-=R,u.have===0){E.msg="invalid bit length repeat",u.mode=30;break}o=u.lens[u.have-1],I=3+(3&M),M>>>=2,T-=2}else if(oe===17){for(C=R+3;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}T-=R,o=0,I=3+(7&(M>>>=R)),M>>>=3,T-=3}else{for(C=R+7;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}T-=R,o=0,I=11+(127&(M>>>=R)),M>>>=7,T-=7}if(u.have+I>u.nlen+u.ndist){E.msg="invalid bit length repeat",u.mode=30;break}for(;I--;)u.lens[u.have++]=o}}if(u.mode===30)break;if(u.lens[256]===0){E.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,j={bits:u.lenbits},Q=v(h,u.lens,0,u.nlen,u.lencode,0,u.work,j),u.lenbits=j.bits,Q){E.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,j={bits:u.distbits},Q=v(y,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,j),u.distbits=j.bits,Q){E.msg="invalid distances set",u.mode=30;break}if(u.mode=20,L===6)break e;case 20:u.mode=21;case 21:if(6<=ne&&258<=fe){E.next_out=le,E.avail_out=fe,E.next_in=H,E.avail_in=ne,u.hold=M,u.bits=T,l(E,x),le=E.next_out,G=E.output,fe=E.avail_out,H=E.next_in,K=E.input,ne=E.avail_in,M=u.hold,T=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;U=(k=u.lencode[M&(1<<u.lenbits)-1])>>>16&255,oe=65535&k,!((R=k>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(U&&(240&U)==0){for(he=R,se=U,_e=oe;U=(k=u.lencode[_e+((M&(1<<he+se)-1)>>he)])>>>16&255,oe=65535&k,!(he+(R=k>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}M>>>=he,T-=he,u.back+=he}if(M>>>=R,T-=R,u.back+=R,u.length=oe,U===0){u.mode=26;break}if(32&U){u.back=-1,u.mode=12;break}if(64&U){E.msg="invalid literal/length code",u.mode=30;break}u.extra=15&U,u.mode=22;case 22:if(u.extra){for(C=u.extra;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.length+=M&(1<<u.extra)-1,M>>>=u.extra,T-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;U=(k=u.distcode[M&(1<<u.distbits)-1])>>>16&255,oe=65535&k,!((R=k>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if((240&U)==0){for(he=R,se=U,_e=oe;U=(k=u.distcode[_e+((M&(1<<he+se)-1)>>he)])>>>16&255,oe=65535&k,!(he+(R=k>>>24)<=T);){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}M>>>=he,T-=he,u.back+=he}if(M>>>=R,T-=R,u.back+=R,64&U){E.msg="invalid distance code",u.mode=30;break}u.offset=oe,u.extra=15&U,u.mode=24;case 24:if(u.extra){for(C=u.extra;T<C;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}u.offset+=M&(1<<u.extra)-1,M>>>=u.extra,T-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){E.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(fe===0)break e;if(I=x-fe,u.offset>I){if((I=u.offset-I)>u.whave&&u.sane){E.msg="invalid distance too far back",u.mode=30;break}O=I>u.wnext?(I-=u.wnext,u.wsize-I):u.wnext-I,I>u.length&&(I=u.length),V=u.window}else V=G,O=le-u.offset,I=u.length;for(fe<I&&(I=fe),fe-=I,u.length-=I;G[le++]=V[O++],--I;);u.length===0&&(u.mode=21);break;case 26:if(fe===0)break e;G[le++]=u.length,fe--,u.mode=21;break;case 27:if(u.wrap){for(;T<32;){if(ne===0)break e;ne--,M|=K[H++]<<T,T+=8}if(x-=fe,E.total_out+=x,u.total+=x,x&&(E.adler=u.check=u.flags?r(u.check,G,x,le-x):n(u.check,G,x,le-x)),x=fe,(u.flags?M:d(M))!==u.check){E.msg="incorrect data check",u.mode=30;break}T=M=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;T<32;){if(ne===0)break e;ne--,M+=K[H++]<<T,T+=8}if(M!==(4294967295&u.total)){E.msg="incorrect length check",u.mode=30;break}T=M=0}u.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return s}return E.next_out=le,E.avail_out=fe,E.next_in=H,E.avail_in=ne,u.hold=M,u.bits=T,(u.wsize||x!==E.avail_out&&u.mode<30&&(u.mode<27||L!==4))&&te(E,E.output,E.next_out,x-E.avail_out)?(u.mode=31,-4):(Z-=E.avail_in,x-=E.avail_out,E.total_in+=Z,E.total_out+=x,u.total+=x,u.wrap&&x&&(E.adler=u.check=u.flags?r(u.check,G,x,E.next_out-x):n(u.check,G,x,E.next_out-x)),E.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(Z==0&&x===0||L===4)&&Q===p&&(Q=-5),Q)},t.inflateEnd=function(E){if(!E||!E.state)return s;var L=E.state;return L.window&&(L.window=null),E.state=null,p},t.inflateGetHeader=function(E,L){var u;return E&&E.state?(2&(u=E.state).wrap)==0?s:((u.head=L).done=!1,p):s},t.inflateSetDictionary=function(E,L){var u,K=L.length;return E&&E.state?(u=E.state).wrap!==0&&u.mode!==11?s:u.mode===11&&n(1,L,K,0)!==u.check?-3:te(E,L,K,K)?(u.mode=31,-4):(u.havedict=1,p):s},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,f,t){var i=a("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(h,y,p,s,g,c,b,d){var S,w,z,_,A,P,D,$,W,te=d.bits,E=0,L=0,u=0,K=0,G=0,H=0,le=0,ne=0,fe=0,M=0,T=null,Z=0,x=new i.Buf16(16),I=new i.Buf16(16),O=null,V=0;for(E=0;E<=15;E++)x[E]=0;for(L=0;L<s;L++)x[y[p+L]]++;for(G=te,K=15;1<=K&&x[K]===0;K--);if(K<G&&(G=K),K===0)return g[c++]=20971520,g[c++]=20971520,d.bits=1,0;for(u=1;u<K&&x[u]===0;u++);for(G<u&&(G=u),E=ne=1;E<=15;E++)if(ne<<=1,(ne-=x[E])<0)return-1;if(0<ne&&(h===0||K!==1))return-1;for(I[1]=0,E=1;E<15;E++)I[E+1]=I[E]+x[E];for(L=0;L<s;L++)y[p+L]!==0&&(b[I[y[p+L]]++]=L);if(P=h===0?(T=O=b,19):h===1?(T=n,Z-=257,O=r,V-=257,256):(T=l,O=v,-1),E=u,A=c,le=L=M=0,z=-1,_=(fe=1<<(H=G))-1,h===1&&852<fe||h===2&&592<fe)return 1;for(;;){for(D=E-le,W=b[L]<P?($=0,b[L]):b[L]>P?($=O[V+b[L]],T[Z+b[L]]):($=96,0),S=1<<E-le,u=w=1<<H;g[A+(M>>le)+(w-=S)]=D<<24|$<<16|W|0,w!==0;);for(S=1<<E-1;M&S;)S>>=1;if(S!==0?(M&=S-1,M+=S):M=0,L++,--x[E]==0){if(E===K)break;E=y[p+b[L]]}if(G<E&&(M&_)!==z){for(le===0&&(le=G),A+=u,ne=1<<(H=E-le);H+le<K&&!((ne-=x[H+le])<=0);)H++,ne<<=1;if(fe+=1<<H,h===1&&852<fe||h===2&&592<fe)return 1;g[z=M&_]=G<<24|H<<16|A-c|0}}return M!==0&&(g[A+M]=E-le<<24|64<<16|0),d.bits=G,0}},{"../utils/common":41}],51:[function(a,f,t){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,f,t){var i=a("../utils/common"),n=0,r=1;function l(k){for(var q=k.length;0<=--q;)k[q]=0}var v=0,h=29,y=256,p=y+1+h,s=30,g=19,c=2*p+1,b=15,d=16,S=7,w=256,z=16,_=17,A=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(p+2));l(te);var E=new Array(2*s);l(E);var L=new Array(512);l(L);var u=new Array(256);l(u);var K=new Array(h);l(K);var G,H,le,ne=new Array(s);function fe(k,q,Y,F,B){this.static_tree=k,this.extra_bits=q,this.extra_base=Y,this.elems=F,this.max_length=B,this.has_stree=k&&k.length}function M(k,q){this.dyn_tree=k,this.max_code=0,this.stat_desc=q}function T(k){return k<256?L[k]:L[256+(k>>>7)]}function Z(k,q){k.pending_buf[k.pending++]=255&q,k.pending_buf[k.pending++]=q>>>8&255}function x(k,q,Y){k.bi_valid>d-Y?(k.bi_buf|=q<<k.bi_valid&65535,Z(k,k.bi_buf),k.bi_buf=q>>d-k.bi_valid,k.bi_valid+=Y-d):(k.bi_buf|=q<<k.bi_valid&65535,k.bi_valid+=Y)}function I(k,q,Y){x(k,Y[2*q],Y[2*q+1])}function O(k,q){for(var Y=0;Y|=1&k,k>>>=1,Y<<=1,0<--q;);return Y>>>1}function V(k,q,Y){var F,B,X=new Array(b+1),ae=0;for(F=1;F<=b;F++)X[F]=ae=ae+Y[F-1]<<1;for(B=0;B<=q;B++){var re=k[2*B+1];re!==0&&(k[2*B]=O(X[re]++,re))}}function R(k){var q;for(q=0;q<p;q++)k.dyn_ltree[2*q]=0;for(q=0;q<s;q++)k.dyn_dtree[2*q]=0;for(q=0;q<g;q++)k.bl_tree[2*q]=0;k.dyn_ltree[2*w]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function U(k){8<k.bi_valid?Z(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function oe(k,q,Y,F){var B=2*q,X=2*Y;return k[B]<k[X]||k[B]===k[X]&&F[q]<=F[Y]}function he(k,q,Y){for(var F=k.heap[Y],B=Y<<1;B<=k.heap_len&&(B<k.heap_len&&oe(q,k.heap[B+1],k.heap[B],k.depth)&&B++,!oe(q,F,k.heap[B],k.depth));)k.heap[Y]=k.heap[B],Y=B,B<<=1;k.heap[Y]=F}function se(k,q,Y){var F,B,X,ae,re=0;if(k.last_lit!==0)for(;F=k.pending_buf[k.d_buf+2*re]<<8|k.pending_buf[k.d_buf+2*re+1],B=k.pending_buf[k.l_buf+re],re++,F===0?I(k,B,q):(I(k,(X=u[B])+y+1,q),(ae=P[X])!==0&&x(k,B-=K[X],ae),I(k,X=T(--F),Y),(ae=D[X])!==0&&x(k,F-=ne[X],ae)),re<k.last_lit;);I(k,w,q)}function _e(k,q){var Y,F,B,X=q.dyn_tree,ae=q.stat_desc.static_tree,re=q.stat_desc.has_stree,ue=q.stat_desc.elems,ve=-1;for(k.heap_len=0,k.heap_max=c,Y=0;Y<ue;Y++)X[2*Y]!==0?(k.heap[++k.heap_len]=ve=Y,k.depth[Y]=0):X[2*Y+1]=0;for(;k.heap_len<2;)X[2*(B=k.heap[++k.heap_len]=ve<2?++ve:0)]=1,k.depth[B]=0,k.opt_len--,re&&(k.static_len-=ae[2*B+1]);for(q.max_code=ve,Y=k.heap_len>>1;1<=Y;Y--)he(k,X,Y);for(B=ue;Y=k.heap[1],k.heap[1]=k.heap[k.heap_len--],he(k,X,1),F=k.heap[1],k.heap[--k.heap_max]=Y,k.heap[--k.heap_max]=F,X[2*B]=X[2*Y]+X[2*F],k.depth[B]=(k.depth[Y]>=k.depth[F]?k.depth[Y]:k.depth[F])+1,X[2*Y+1]=X[2*F+1]=B,k.heap[1]=B++,he(k,X,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(ge,Ee){var je,Le,Ze,ee,be,xe,ke=Ee.dyn_tree,Ie=Ee.max_code,We=Ee.stat_desc.static_tree,ht=Ee.stat_desc.has_stree,vt=Ee.stat_desc.extra_bits,ln=Ee.stat_desc.extra_base,mt=Ee.stat_desc.max_length,xt=0;for(ee=0;ee<=b;ee++)ge.bl_count[ee]=0;for(ke[2*ge.heap[ge.heap_max]+1]=0,je=ge.heap_max+1;je<c;je++)mt<(ee=ke[2*ke[2*(Le=ge.heap[je])+1]+1]+1)&&(ee=mt,xt++),ke[2*Le+1]=ee,Ie<Le||(ge.bl_count[ee]++,be=0,ln<=Le&&(be=vt[Le-ln]),xe=ke[2*Le],ge.opt_len+=xe*(ee+be),ht&&(ge.static_len+=xe*(We[2*Le+1]+be)));if(xt!==0){do{for(ee=mt-1;ge.bl_count[ee]===0;)ee--;ge.bl_count[ee]--,ge.bl_count[ee+1]+=2,ge.bl_count[mt]--,xt-=2}while(0<xt);for(ee=mt;ee!==0;ee--)for(Le=ge.bl_count[ee];Le!==0;)Ie<(Ze=ge.heap[--je])||(ke[2*Ze+1]!==ee&&(ge.opt_len+=(ee-ke[2*Ze+1])*ke[2*Ze],ke[2*Ze+1]=ee),Le--)}}(k,q),V(X,ve,k.bl_count)}function o(k,q,Y){var F,B,X=-1,ae=q[1],re=0,ue=7,ve=4;for(ae===0&&(ue=138,ve=3),q[2*(Y+1)+1]=65535,F=0;F<=Y;F++)B=ae,ae=q[2*(F+1)+1],++re<ue&&B===ae||(re<ve?k.bl_tree[2*B]+=re:B!==0?(B!==X&&k.bl_tree[2*B]++,k.bl_tree[2*z]++):re<=10?k.bl_tree[2*_]++:k.bl_tree[2*A]++,X=B,ve=(re=0)===ae?(ue=138,3):B===ae?(ue=6,3):(ue=7,4))}function Q(k,q,Y){var F,B,X=-1,ae=q[1],re=0,ue=7,ve=4;for(ae===0&&(ue=138,ve=3),F=0;F<=Y;F++)if(B=ae,ae=q[2*(F+1)+1],!(++re<ue&&B===ae)){if(re<ve)for(;I(k,B,k.bl_tree),--re!=0;);else B!==0?(B!==X&&(I(k,B,k.bl_tree),re--),I(k,z,k.bl_tree),x(k,re-3,2)):re<=10?(I(k,_,k.bl_tree),x(k,re-3,3)):(I(k,A,k.bl_tree),x(k,re-11,7));X=B,ve=(re=0)===ae?(ue=138,3):B===ae?(ue=6,3):(ue=7,4)}}l(ne);var j=!1;function C(k,q,Y,F){x(k,(v<<1)+(F?1:0),3),function(B,X,ae,re){U(B),re&&(Z(B,ae),Z(B,~ae)),i.arraySet(B.pending_buf,B.window,X,ae,B.pending),B.pending+=ae}(k,q,Y,!0)}t._tr_init=function(k){j||(function(){var q,Y,F,B,X,ae=new Array(b+1);for(B=F=0;B<h-1;B++)for(K[B]=F,q=0;q<1<<P[B];q++)u[F++]=B;for(u[F-1]=B,B=X=0;B<16;B++)for(ne[B]=X,q=0;q<1<<D[B];q++)L[X++]=B;for(X>>=7;B<s;B++)for(ne[B]=X<<7,q=0;q<1<<D[B]-7;q++)L[256+X++]=B;for(Y=0;Y<=b;Y++)ae[Y]=0;for(q=0;q<=143;)te[2*q+1]=8,q++,ae[8]++;for(;q<=255;)te[2*q+1]=9,q++,ae[9]++;for(;q<=279;)te[2*q+1]=7,q++,ae[7]++;for(;q<=287;)te[2*q+1]=8,q++,ae[8]++;for(V(te,p+1,ae),q=0;q<s;q++)E[2*q+1]=5,E[2*q]=O(q,5);G=new fe(te,P,y+1,p,b),H=new fe(E,D,0,s,b),le=new fe(new Array(0),$,0,g,S)}(),j=!0),k.l_desc=new M(k.dyn_ltree,G),k.d_desc=new M(k.dyn_dtree,H),k.bl_desc=new M(k.bl_tree,le),k.bi_buf=0,k.bi_valid=0,R(k)},t._tr_stored_block=C,t._tr_flush_block=function(k,q,Y,F){var B,X,ae=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(re){var ue,ve=4093624447;for(ue=0;ue<=31;ue++,ve>>>=1)if(1&ve&&re.dyn_ltree[2*ue]!==0)return n;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return r;for(ue=32;ue<y;ue++)if(re.dyn_ltree[2*ue]!==0)return r;return n}(k)),_e(k,k.l_desc),_e(k,k.d_desc),ae=function(re){var ue;for(o(re,re.dyn_ltree,re.l_desc.max_code),o(re,re.dyn_dtree,re.d_desc.max_code),_e(re,re.bl_desc),ue=g-1;3<=ue&&re.bl_tree[2*W[ue]+1]===0;ue--);return re.opt_len+=3*(ue+1)+5+5+4,ue}(k),B=k.opt_len+3+7>>>3,(X=k.static_len+3+7>>>3)<=B&&(B=X)):B=X=Y+5,Y+4<=B&&q!==-1?C(k,q,Y,F):k.strategy===4||X===B?(x(k,2+(F?1:0),3),se(k,te,E)):(x(k,4+(F?1:0),3),function(re,ue,ve,ge){var Ee;for(x(re,ue-257,5),x(re,ve-1,5),x(re,ge-4,4),Ee=0;Ee<ge;Ee++)x(re,re.bl_tree[2*W[Ee]+1],3);Q(re,re.dyn_ltree,ue-1),Q(re,re.dyn_dtree,ve-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ae+1),se(k,k.dyn_ltree,k.dyn_dtree)),R(k),F&&U(k)},t._tr_tally=function(k,q,Y){return k.pending_buf[k.d_buf+2*k.last_lit]=q>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&q,k.pending_buf[k.l_buf+k.last_lit]=255&Y,k.last_lit++,q===0?k.dyn_ltree[2*Y]++:(k.matches++,q--,k.dyn_ltree[2*(u[Y]+y+1)]++,k.dyn_dtree[2*T(q)]++),k.last_lit===k.lit_bufsize-1},t._tr_align=function(k){x(k,2,3),I(k,w,te),function(q){q.bi_valid===16?(Z(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(a,f,t){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,f,t){(function(i){(function(n,r){if(!n.setImmediate){var l,v,h,y,p=1,s={},g=!1,c=n.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(n);b=b&&b.setTimeout?b:n,l={}.toString.call(n.process)==="[object process]"?function(z){process.nextTick(function(){S(z)})}:function(){if(n.postMessage&&!n.importScripts){var z=!0,_=n.onmessage;return n.onmessage=function(){z=!1},n.postMessage("","*"),n.onmessage=_,z}}()?(y="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",w,!1):n.attachEvent("onmessage",w),function(z){n.postMessage(y+z,"*")}):n.MessageChannel?((h=new MessageChannel).port1.onmessage=function(z){S(z.data)},function(z){h.port2.postMessage(z)}):c&&"onreadystatechange"in c.createElement("script")?(v=c.documentElement,function(z){var _=c.createElement("script");_.onreadystatechange=function(){S(z),_.onreadystatechange=null,v.removeChild(_),_=null},v.appendChild(_)}):function(z){setTimeout(S,0,z)},b.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var _=new Array(arguments.length-1),A=0;A<_.length;A++)_[A]=arguments[A+1];var P={callback:z,args:_};return s[p]=P,l(p),p++},b.clearImmediate=d}function d(z){delete s[z]}function S(z){if(g)setTimeout(S,0,z);else{var _=s[z];if(_){g=!0;try{(function(A){var P=A.callback,D=A.args;switch(D.length){case 0:P();break;case 1:P(D[0]);break;case 2:P(D[0],D[1]);break;case 3:P(D[0],D[1],D[2]);break;default:P.apply(r,D)}})(_)}finally{d(z),g=!1}}}}function w(z){z.source===n&&typeof z.data=="string"&&z.data.indexOf(y)===0&&S(+z.data.slice(y.length))}})(typeof self=="undefined"?i===void 0?this:i:self)}).call(this,typeof St!="undefined"?St:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(mr);var No=mr.exports;const Mo=nt({__name:"FolderDownloader",props:{node:{}},emits:[...De.emits],setup(e){const m=e,a=ie(0),f=et(),t=v=>{const h=[];for(let y of v)y.type==="blob"?h.push(y):y.type==="tree"&&h.push(...t(y.children||[]));return h};(async()=>{const v=m.node.path,h=t(m.node.children||[]),y=[].concat(...h.map(b=>{const d=[];for(const[S,w]of Object.entries(b.content_types))S==="meta"||S==="thumb"||d.push(w);return d})),p=y.length,s=No();for(const[b,d]of y.entries()){const S=await oi({url:d.url,token:f.token});s.file(d.path.substring(v.length+1),S),a.value=Math.ceil((b+1)/p*100)}const g=await s.generateAsync({type:"blob"}),c=document.createElement("a");c.href=URL.createObjectURL(g),c.download=`${m.node.name}.zip`,c.click(),URL.revokeObjectURL(c.href)})().then(()=>{l()});const{dialogRef:n,onDialogHide:r,onDialogOK:l}=De();return(v,h)=>(pe(),ze(ct,{ref_key:"dialogRef",ref:n,onHide:ye(r),square:""},{default:me(()=>[ce(ft,{class:"q-dialog-plugin"},{default:me(()=>[ce(dt,{style:{"text-align":"center"}},{default:me(()=>[ce(Do,{"show-value":"",value:a.value,size:"90px",color:"accent","center-color":"white","track-color":"transparent","animation-speed":10},{default:me(()=>[ce(Be,{name:"mdi-folder-download"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),Uo={style:{flex:"1","overflow-y":"auto","padding-top":"4px","background-color":"white"}},jo={style:{width:"100%","text-align":"center",padding:"5em"}},Ko={class:"row"},Ho=["src"],Wo={style:{display:"flex","flex-direction":"column","justify-content":"center"}},Vo=de("div",null,null,-1),Go=nt({__name:"IndexPage",setup(e){const m=nr();si({async clear(){return await a.backend.kv_mdel({pattern:"cache:%"})},async get(z,_=null){let A=await a.backend.kv_get({key:z,or:_});return A===null&&(A=_),A},async set(z,_){return await a.backend.kv_set({key:z,value:_})}});const a=et();tt(()=>{a.token||h()}),a.loadState();const f=ie([]),t=ie([]),i=ie(),n=ie([]),r=z=>{z.map(_=>{var A;return(A=i.value)==null?void 0:A.getNodeByKey(_)}).forEach(_=>{var A,P;if(_)for(let D of _.children)(((A=D==null?void 0:D.content_types)==null?void 0:A.thumb)||((P=D==null?void 0:D.content_types)==null?void 0:P.svg))&&!(D!=null&&D.img)&&a.setNodeThumbnail(D)})},l=N(()=>{var z;return f.value.length>0?(z=i.value)==null?void 0:z.getNodeByKey(f.value):null});Se(t,(z,_)=>{_.forEach(A=>{var P;if(z.indexOf(A)===-1){const D=(P=i.value)==null?void 0:P.getNodeByKey(A);D.type==="tree"&&(D.icon="mdi-folder")}}),z.forEach(A=>{var P;if(_.indexOf(A)===-1){const D=(P=i.value)==null?void 0:P.getNodeByKey(A);D.type==="tree"&&(D.icon="mdi-folder")}})}),Se(()=>a.search,(z,_)=>{var A;z&&!_?(n.value=[...t.value],(A=i.value)==null||A.expandAll()):_&&!z&&(t.value=[...n.value])});const v=async({nodeId:z})=>{var P;const A=((P=i.value)==null?void 0:P.getNodeByKey(z)).id;t.value=t.value.filter(D=>D!=A&&!D.startsWith(A+"|")),await a.reloadCollection({nodeId:z})},h=()=>{m.dialog({component:Ea})},y=()=>{m.dialog({component:wn}).onOk(z=>{const _=nn();a.tree.push({...z,id:_,icon:"mdi-github",selectable:!1,children:[]}),v({nodeId:_}).then(()=>{a.saveCollections()})})},p=()=>{m.dialog({component:$o}).onOk(z=>{z&&v({nodeId:z})})},s=(z,_)=>{if(z.type==="repo"||z.type==="org")return!1;const A=_.toLowerCase().split(/\s+/),P=a.preferences.searchFolderNames?z.path:z.name;return A.every($=>{var te;if(P.toLowerCase().indexOf($)!==-1)return!0;let W=(te=z.meta)==null?void 0:te.keywords;return W||(W=""),W.indexOf($)!==-1})},g=({nodeId:z})=>{var P,D;const _=(P=i.value)==null?void 0:P.getNodeByKey(z);let A=_;_.type==="tree"&&(A=(D=i.value)==null?void 0:D.getNodeByKey(_.id.split("|")[0])),m.dialog({component:xn,componentProps:{collection:A,initialValue:{content_types:{}}}}).onOk($=>{v({nodeId:$.id})})},c=({nodeId:z,contentType:_})=>{var D;const A=(D=i.value)==null?void 0:D.getNodeByKey(z),P=A.content_types;_=_||(P.f3d?"f3d":P.step?"step":P.dxf?"dxf":P.svg&&"svg"),a.backend.import_model({url:P[_].url,token:a.token,filename:A.name,content_type:_})},b=({nodeId:z,contentType:_})=>{var D;const A=(D=i.value)==null?void 0:D.getNodeByKey(z),P=A.content_types;_=_||(P.f3d?"f3d":P.step?"step":P.dxf?"dxf":P.svg&&"svg"),a.backend.open_model({url:P[_].url,token:a.token,filename:A.name,content_type:_})},d=({nodeId:z})=>{var P;const _=(P=i.value)==null?void 0:P.getNodeByKey(z),A=_.type==="repo"||_.type==="org"?wn:xn;m.dialog({component:A,componentProps:{initialValue:_}}).onOk(D=>{_.name=D.name;const $=JSON.stringify(D.repositories),W=JSON.stringify(_.repositories);$!=W&&(_.repositories=D.repositories,v({nodeId:D.id})),a.saveCollections()})},S=async({nodeId:z})=>{var A;const _=(A=i.value)==null?void 0:A.getNodeByKey(z);m.dialog({component:Mo,componentProps:{node:_},persistent:!0})},w=N(()=>{var z,_;return((z=a.backend)==null?void 0:z.version)<((_=a.backend)==null?void 0:_.latestVersion)});return(z,_)=>(pe(),ze(mi,{class:"column",style:ut({cursor:ye(a).globalCursor||void 0})},{default:me(()=>[ce(vi,{class:"text-white shadow-2",style:{"z-index":"2"}},{default:me(()=>[ce(ei,{class:"full-width","bg-color":"white",modelValue:ye(a).search,"onUpdate:modelValue":_[1]||(_[1]=A=>ye(a).search=A),dense:"",square:"",outlined:"",clearable:""},{prepend:me(()=>[ce(Be,{name:"search"})]),after:me(()=>[ce(Te,{flat:"",square:"",dense:"",icon:"more_vert"},{default:me(()=>[w.value?(pe(),ze(Yt,{key:0,color:"orange",floating:""},{default:me(()=>[Oe("!")]),_:1})):Ae("",!0),ce(hi,{square:""},{default:me(()=>[ce(ui,{dense:"",style:{"min-width":"150px"}},{default:me(()=>[Ce((pe(),ze(st,{dense:"",clickable:"",onClick:h},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"settings"})]),_:1}),ce(Ke,null,{default:me(()=>[Oe("Settings")]),_:1})]),_:1})),[[pt]]),Ce((pe(),ze(st,{dense:"",clickable:"",onClick:y},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"add"})]),_:1}),ce(Ke,null,{default:me(()=>[Oe("Add Repository")]),_:1})]),_:1})),[[pt]]),ye(a).preferences.showManagementUI?Ce((pe(),ze(st,{key:0,dense:"",clickable:"",onClick:p},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"image"})]),_:1}),ce(Ke,null,{default:me(()=>[Oe("Auto-Thumb")]),_:1})]),_:1})),[[pt]]):Ae("",!0),w.value?Ce((pe(),ze(st,{key:1,dense:"",clickable:"",class:"bg-orange",href:ye(a).backend.updateUrl},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"upgrade",color:"white"})]),_:1}),ce(Ke,{class:"text-white"},{default:me(()=>[Oe("Update Available")]),_:1})]),_:1},8,["href"])),[[pt]]):Ae("",!0),ce(Zn),Ce((pe(),ze(st,{dense:"",clickable:"",onClick:_[0]||(_[0]=()=>{ye(a).backend.close()})},{default:me(()=>[ce(Ke,{avatar:""},{default:me(()=>[ce(Be,{name:"close"})]),_:1}),ce(Ke,null,{default:me(()=>[Oe("Close")]),_:1})]),_:1})),[[pt]])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),de("div",Uo,[ce(ye(bi),{dense:"",showManagementUI:ye(a).preferences.showManagementUI,"no-transition":"",ref_key:"treeRef",ref:i,filter:ye(a).search,"filter-method":s,nodes:ye(a).tree,"label-key":"name","node-key":"id","no-selection-unset":"",selected:f.value,"onUpdate:selected":_[2]||(_[2]=A=>f.value=A),expanded:t.value,"onUpdate:expanded":[_[3]||(_[3]=A=>t.value=A),r],"onAction:import":c,"onAction:open":b,"onAction:reload":v,"onAction:edit":d,"onAction:upload":g,"onAction:folderDownload":S,style:{flex:"1"},"font-size":ye(a).preferences.fontSize,"show-thumbnails":ye(a).preferences.showThumbnails,"is-fusion-backend":ye(a).backend.isFusion360},{"no-nodes":me(()=>[de("div",jo,[ye(a).token?(pe(),ze(Te,{key:1,label:"Add Repository",icon:"add",onClick:y})):(pe(),ze(Te,{key:0,label:"Settings",icon:"settings",onClick:h}))])]),"default-header":me(A=>[de("div",Ko,[A.node.img&&ye(a).preferences.showThumbnails?(pe(),we("img",{key:0,class:"q-tree__img q-mr-sm",style:{"border-style":"solid","border-radius":"4px","border-width":"1px","z-index":"1","background-color":"white"},src:A.node.img},null,8,Ho)):(pe(),ze(Be,{key:1,class:"q-tree__icon q-mr-sm",name:A.node.icon,style:ut(A.node.type==="blob"?"border-style: solid; border-radius: 4px; border-width: 1px; z-index: 1; background-color: white":""),size:A.node.type==="blob"?ye(a).preferences.showThumbnails?"48px":`${ye(a).preferences.fontSize}px`:`${ye(a).preferences.fontSize+8}px`},null,8,["name","style","size"])),de("div",Wo,[de("div",{style:ut({fontWeight:A.node.type==="blob"?"bold":"inherit"})},Fe(A.node.name),5),Vo])])]),_:1},8,["showManagementUI","filter","nodes","selected","expanded","font-size","show-thumbnails","is-fusion-backend"])]),l.value?(pe(),ze(aa,{key:0,showManagementUI:ye(a).preferences.showManagementUI,node:l.value,"onAction:import":c,"onAction:open":b,"onAction:edit":d},null,8,["showManagementUI","node"])):Ae("",!0)]),_:1},8,["style"]))}});export{Go as default};
